<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="13.2 Design the page layout | Outstanding User Interfaces with Shiny" />
<meta property="og:type" content="book" />


<meta property="og:description" content="A book about deeply customizing Shiny app for production." />
<meta name="github-repo" content="DivadNojnarg/outstanding-shiny-ui" />

<meta name="author" content="David Granjon" />

<meta name="date" content="2020-08-31" />


<meta name="description" content="A book about deeply customizing Shiny app for production.">

<title>13.2 Design the page layout | Outstanding User Interfaces with Shiny</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
p.caption {
  color: #777;
  margin-top: 10px;
}
p code {
  white-space: inherit;
}
pre {
  word-break: normal;
  word-wrap: normal;
}
pre code {
  white-space: inherit;
}
p.flushright {
  text-align: right;
}
blockquote > p:last-child {
  text-align: right;
}
blockquote > p:first-child {
  text-align: inherit;
}

/* Callouts */
.callout {
  border-radius: 0.25rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
  background-color: #ffffff;
  border-left: 5px solid #e9ecef;
  margin-bottom: 1rem;
  padding: 1rem;
}

.callout a {
  color: #495057;
  text-decoration: underline;
}

.callout a:hover {
  color: #e9ecef;
}

.callout p:last-child {
  margin-bottom: 0;
}

.callout.callout-danger {
  border-left-color: #bd2130;
}

.callout.callout-warning {
  border-left-color: #d39e00;
}

.callout.callout-info {
  border-left-color: #117a8b;
}

.callout.callout-success {
  border-left-color: #1e7e34;
}


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li class="has-sub"><a href="index.html#prerequisites">Prerequisites</a><ul>
<li><a href="disclaimer.html#disclaimer">Disclaimer</a></li>
<li><a href="is-this-book-for-me.html#is-this-book-for-me">Is this book for me?</a></li>
<li><a href="related-content.html#related-content">Related content</a></li>
<li><a href="acknowledgements.html#acknowledgements">Acknowledgements</a></li>
<li><a href="packages.html#packages">Packages</a></li>
</ul></li>
<li class="has-sub"><a href="1-intro.html#intro"><span class="toc-section-number">1</span> Introduction</a><ul>
<li><a href="1-1-about-the-code.html#about-the-code"><span class="toc-section-number">1.1</span> About the code</a></li>
<li><a href="1-2-preliminary-exercices.html#preliminary-exercices"><span class="toc-section-number">1.2</span> Preliminary exercices</a></li>
</ul></li>
<li class="part"><span><b>Survival Kit</b></span></li>
<li class="has-sub"><a href="2-survival-kit-html.html#survival-kit-html"><span class="toc-section-number">2</span> HTML</a><ul>
<li><a href="2-1-html-basics.html#html-basics"><span class="toc-section-number">2.1</span> HTML Basics</a></li>
<li><a href="2-2-tag-attributes.html#tag-attributes"><span class="toc-section-number">2.2</span> Tag attributes</a></li>
<li><a href="2-3-html-page-skeleton.html#html-page-skeleton"><span class="toc-section-number">2.3</span> HTML page: skeleton</a></li>
<li class="has-sub"><a href="2-4-about-the-document-object-model-dom.html#about-the-document-object-model-dom"><span class="toc-section-number">2.4</span> About the Document Object Model (DOM)</a><ul>
<li><a href="2-4-about-the-document-object-model-dom.html#visualizing-the-dom-the-html-inspector"><span class="toc-section-number">2.4.1</span> Visualizing the DOM: the HTML inspector</a></li>
</ul></li>
<li class="has-sub"><a href="2-5-preliminary-introduction-to-css-and-javascript.html#preliminary-introduction-to-css-and-javascript"><span class="toc-section-number">2.5</span> Preliminary introduction to CSS and JavaScript</a><ul>
<li><a href="2-5-preliminary-introduction-to-css-and-javascript.html#html-and-css"><span class="toc-section-number">2.5.1</span> HTML and CSS</a></li>
<li><a href="2-5-preliminary-introduction-to-css-and-javascript.html#html-and-javascript"><span class="toc-section-number">2.5.2</span> HTML and JavaScript</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="3-survival-kit-javascript.html#survival-kit-javascript"><span class="toc-section-number">3</span> JavaScript</a><ul>
<li><a href="3-1-introduction.html#introduction"><span class="toc-section-number">3.1</span> Introduction</a></li>
<li class="has-sub"><a href="3-2-setup.html#setup"><span class="toc-section-number">3.2</span> Setup</a><ul>
<li><a href="3-2-setup.html#node"><span class="toc-section-number">3.2.1</span> Node</a></li>
<li><a href="3-2-setup.html#choose-a-good-ide"><span class="toc-section-number">3.2.2</span> Choose a good IDE</a></li>
<li><a href="3-2-setup.html#first-script"><span class="toc-section-number">3.2.3</span> First Script</a></li>
</ul></li>
<li class="has-sub"><a href="3-3-programming-with-js-basis.html#programming-with-js-basis"><span class="toc-section-number">3.3</span> Programming with JS: basis</a><ul>
<li><a href="3-3-programming-with-js-basis.html#js-types"><span class="toc-section-number">3.3.1</span> JS types</a></li>
<li><a href="3-3-programming-with-js-basis.html#variables"><span class="toc-section-number">3.3.2</span> Variables</a></li>
<li><a href="3-3-programming-with-js-basis.html#conditions"><span class="toc-section-number">3.3.3</span> Conditions</a></li>
<li><a href="3-3-programming-with-js-basis.html#objects"><span class="toc-section-number">3.3.4</span> Objects</a></li>
<li><a href="3-3-programming-with-js-basis.html#iterations"><span class="toc-section-number">3.3.5</span> Iterations</a></li>
<li><a href="3-3-programming-with-js-basis.html#functions"><span class="toc-section-number">3.3.6</span> Functions</a></li>
<li><a href="3-3-programming-with-js-basis.html#event-listeners"><span class="toc-section-number">3.3.7</span> Event listeners</a></li>
</ul></li>
<li class="has-sub"><a href="3-4-jquery.html#jquery"><span class="toc-section-number">3.4</span> jQuery</a><ul>
<li><a href="3-4-jquery.html#introduction-1"><span class="toc-section-number">3.4.1</span> Introduction</a></li>
<li><a href="3-4-jquery.html#syntax"><span class="toc-section-number">3.4.2</span> Syntax</a></li>
<li><a href="3-4-jquery.html#useful-functions"><span class="toc-section-number">3.4.3</span> Useful functions</a></li>
<li><a href="3-4-jquery.html#chaining-jquery-methods"><span class="toc-section-number">3.4.4</span> Chaining jQuery methods</a></li>
<li><a href="3-4-jquery.html#iterations-1"><span class="toc-section-number">3.4.5</span> Iterations</a></li>
<li><a href="3-4-jquery.html#good-practice"><span class="toc-section-number">3.4.6</span> Good practice</a></li>
<li><a href="3-4-jquery.html#events"><span class="toc-section-number">3.4.7</span> Events</a></li>
<li><a href="3-4-jquery.html#extending-objects"><span class="toc-section-number">3.4.8</span> Extending objects</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Shiny: What’s under the Hood?</b></span></li>
<li class="has-sub"><a href="4-shiny-intro.html#shiny-intro"><span class="toc-section-number">4</span> Introduction</a><ul>
<li><a href="4-1-shiny-html-css-and-javascript.html#shiny-html-css-and-javascript"><span class="toc-section-number">4.1</span> Shiny, HTML, CSS and JavaScript</a></li>
<li><a href="4-2-shiny-websocket.html#shiny-websocket"><span class="toc-section-number">4.2</span> Websocket: R/JS bidirectional communication</a></li>
<li><a href="4-3-shiny-session.html#shiny-session"><span class="toc-section-number">4.3</span> The Shiny session object</a></li>
</ul></li>
<li class="has-sub"><a href="5-shiny-input-system.html#shiny-input-system"><span class="toc-section-number">5</span> Shiny’s input system</a><ul>
<li><a href="5-1-shiny-javascript-sources.html#shiny-javascript-sources"><span class="toc-section-number">5.1</span> Shiny JavaScript sources</a></li>
<li><a href="5-2-the-shiny-javascript-object.html#the-shiny-javascript-object"><span class="toc-section-number">5.2</span> The Shiny JavaScript object</a></li>
<li><a href="5-3-initialization.html#initialization"><span class="toc-section-number">5.3</span> Initialization</a></li>
<li class="has-sub"><a href="5-4-input-bindings.html#input-bindings"><span class="toc-section-number">5.4</span> Input bindings</a><ul>
<li><a href="5-4-input-bindings.html#input-structure"><span class="toc-section-number">5.4.1</span> Input structure</a></li>
<li><a href="5-4-input-bindings.html#binding-shiny-inputs"><span class="toc-section-number">5.4.2</span> Binding Shiny inputs</a></li>
<li><a href="5-4-input-bindings.html#binding-other-elements"><span class="toc-section-number">5.4.3</span> Binding other elements</a></li>
</ul></li>
<li class="has-sub"><a href="5-5-utilities-to-quickly-define-new-inputs.html#utilities-to-quickly-define-new-inputs"><span class="toc-section-number">5.5</span> Utilities to quickly define new inputs</a><ul>
<li><a href="3-1-introduction.html#introduction"><span class="toc-section-number">5.5.1</span> Introduction</a></li>
<li><a href="5-5-utilities-to-quickly-define-new-inputs.html#examples"><span class="toc-section-number">5.5.2</span> Examples</a></li>
<li><a href="5-5-utilities-to-quickly-define-new-inputs.html#custom-data-format"><span class="toc-section-number">5.5.3</span> Custom data format</a></li>
</ul></li>
<li class="has-sub"><a href="5-6-miscellaneous.html#miscellaneous"><span class="toc-section-number">5.6</span> Miscellaneous</a><ul>
<li><a href="5-6-miscellaneous.html#get-access-to-initial-values"><span class="toc-section-number">5.6.1</span> Get access to initial values</a></li>
</ul></li>
</ul></li>
<li><a href="6-shiny-custom-handler.html#shiny-custom-handler"><span class="toc-section-number">6</span> Custom handlers: from R to JavaScript</a></li>
<li class="part"><span><b>htmltools</b></span></li>
<li class="has-sub"><a href="7-htmltools-overview.html#htmltools-overview"><span class="toc-section-number">7</span> htmltools overview</a><ul>
<li><a href="7-1-html-tags.html#html-tags"><span class="toc-section-number">7.1</span> HTML Tags</a></li>
<li><a href="7-2-notations.html#notations"><span class="toc-section-number">7.2</span> Notations</a></li>
<li><a href="7-3-adding-new-tags.html#adding-new-tags"><span class="toc-section-number">7.3</span> Adding new tags</a></li>
<li><a href="7-4-alternative-way-to-write-tags.html#alternative-way-to-write-tags"><span class="toc-section-number">7.4</span> Alternative way to write tags</a></li>
<li class="has-sub"><a href="7-5-playing-with-tags.html#playing-with-tags"><span class="toc-section-number">7.5</span> Playing with tags</a><ul>
<li><a href="7-5-playing-with-tags.html#tags-structure"><span class="toc-section-number">7.5.1</span> Tags structure</a></li>
<li><a href="7-5-playing-with-tags.html#useful-functions-for-tags"><span class="toc-section-number">7.5.2</span> Useful functions for tags</a></li>
<li><a href="7-5-playing-with-tags.html#other-interesting-functions"><span class="toc-section-number">7.5.3</span> Other interesting functions</a></li>
<li><a href="7-5-playing-with-tags.html#conditionally-set-attributes"><span class="toc-section-number">7.5.4</span> Conditionally set attributes</a></li>
<li><a href="7-5-playing-with-tags.html#using"><span class="toc-section-number">7.5.5</span> Using %&gt;%</a></li>
<li><a href="7-5-playing-with-tags.html#programmatically-create-children-elements"><span class="toc-section-number">7.5.6</span> Programmatically create children elements</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="8-htmltools-dependencies.html#htmltools-dependencies"><span class="toc-section-number">8</span> Dependency utilities</a><ul>
<li><a href="8-1-the-dirty-approach.html#the-dirty-approach"><span class="toc-section-number">8.1</span> The dirty approach</a></li>
<li><a href="8-2-the-clean-approach.html#the-clean-approach"><span class="toc-section-number">8.2</span> The clean approach</a></li>
<li><a href="8-3-another-example-importing-html-dependencies-from-other-packages.html#another-example-importing-html-dependencies-from-other-packages"><span class="toc-section-number">8.3</span> Another example: Importing HTML dependencies from other packages</a></li>
<li><a href="8-4-suppress-dependencies.html#suppress-dependencies"><span class="toc-section-number">8.4</span> Suppress dependencies</a></li>
</ul></li>
<li class="has-sub"><a href="9-htmltools-other-tools.html#htmltools-other-tools"><span class="toc-section-number">9</span> Other tools</a><ul>
<li><a href="9-1-css.html#css"><span class="toc-section-number">9.1</span> CSS</a></li>
</ul></li>
<li class="part"><span><b>Practice 1: a dashboard template</b></span></li>
<li><a href="10-custom-templates-selection.html#custom-templates-selection"><span class="toc-section-number">10</span> Template selection</a></li>
<li class="has-sub"><a href="11-custom-templates-package.html#custom-templates-package"><span class="toc-section-number">11</span> Package creation</a><ul>
<li><a href="3-1-introduction.html#introduction"><span class="toc-section-number">11.1</span> Introduction</a></li>
<li><a href="11-2-step-by-step.html#step-by-step"><span class="toc-section-number">11.2</span> Step by step</a></li>
</ul></li>
<li class="has-sub"><a href="12-custom-templates-dependencies.html#custom-templates-dependencies"><span class="toc-section-number">12</span> Define dependencies</a><ul>
<li><a href="12-1-discover-the-project.html#discover-the-project"><span class="toc-section-number">12.1</span> Discover the project</a></li>
<li><a href="12-2-identify-mandatory-dependencies.html#identify-mandatory-dependencies"><span class="toc-section-number">12.2</span> Identify mandatory dependencies</a></li>
<li><a href="12-3-bundle-dependencies.html#bundle-dependencies"><span class="toc-section-number">12.3</span> Bundle dependencies</a></li>
</ul></li>
<li class="has-sub"><a href="13-custom-templates-skeleton.html#custom-templates-skeleton"><span class="toc-section-number">13</span> Template skeleton</a><ul>
<li><a href="13-1-identify-template-elements.html#identify-template-elements"><span class="toc-section-number">13.1</span> Identify template elements</a></li>
<li class="has-sub"><a href="13-2-design-the-page-layout.html#design-the-page-layout"><span class="toc-section-number">13.2</span> Design the page layout</a><ul>
<li><a href="13-2-design-the-page-layout.html#the-page-wrapper"><span class="toc-section-number">13.2.1</span> The page wrapper</a></li>
<li><a href="13-2-design-the-page-layout.html#the-body-content"><span class="toc-section-number">13.2.2</span> The body content</a></li>
<li><a href="13-2-design-the-page-layout.html#the-footer"><span class="toc-section-number">13.2.3</span> The footer</a></li>
<li><a href="13-2-design-the-page-layout.html#the-navbar-or-header"><span class="toc-section-number">13.2.4</span> The navbar (or header)</a></li>
<li><a href="13-2-design-the-page-layout.html#card-containers"><span class="toc-section-number">13.2.5</span> Card containers</a></li>
<li><a href="13-2-design-the-page-layout.html#ribbons-card-components"><span class="toc-section-number">13.2.6</span> Ribbons: card components</a></li>
<li><a href="13-2-design-the-page-layout.html#icons"><span class="toc-section-number">13.2.7</span> Icons</a></li>
</ul></li>
<li><a href="13-3-exercises.html#exercises"><span class="toc-section-number">13.3</span> Exercises</a></li>
</ul></li>
<li class="has-sub"><a href="14-custom-templates-testing.html#custom-templates-testing"><span class="toc-section-number">14</span> Testing and validating templates elements</a><ul>
<li class="has-sub"><a href="14-1-validate-template-functions.html#validate-template-functions"><span class="toc-section-number">14.1</span> Validate template functions</a><ul>
<li><a href="14-1-validate-template-functions.html#create-your-own-validations"><span class="toc-section-number">14.1.1</span> Create your own validations</a></li>
<li><a href="14-1-validate-template-functions.html#existing-utils-functions"><span class="toc-section-number">14.1.2</span> Existing utils functions</a></li>
<li><a href="14-1-validate-template-functions.html#example-refine-navbar-menu-items"><span class="toc-section-number">14.1.3</span> Example: refine navbar menu items</a></li>
</ul></li>
<li class="has-sub"><a href="14-2-testing-templates-elements.html#testing-templates-elements"><span class="toc-section-number">14.2</span> Testing templates elements</a><ul>
<li><a href="14-2-testing-templates-elements.html#testing-template-behavior"><span class="toc-section-number">14.2.1</span> Testing template behavior</a></li>
</ul></li>
<li><a href="14-3-testing-javascript.html#testing-javascript"><span class="toc-section-number">14.3</span> Testing JavaScript</a></li>
</ul></li>
<li class="has-sub"><a href="15-custom-templates-inputs.html#custom-templates-inputs"><span class="toc-section-number">15</span> Develop custom input widgets</a><ul>
<li class="has-sub"><a href="15-1-tabler-action-button.html#tabler-action-button"><span class="toc-section-number">15.1</span> Tabler action button</a><ul>
<li><a href="15-1-tabler-action-button.html#reminders-about-the-action-button"><span class="toc-section-number">15.1.1</span> Reminders about the action button</a></li>
<li><a href="15-1-tabler-action-button.html#application-to-tabler"><span class="toc-section-number">15.1.2</span> Application to Tabler</a></li>
</ul></li>
<li><a href="15-2-toggle-switch.html#toggle-switch"><span class="toc-section-number">15.2</span> Toggle Switch</a></li>
<li><a href="15-3-navbar-menu-input.html#navbar-menu-input"><span class="toc-section-number">15.3</span> Navbar menu input</a></li>
<li><a href="13-3-exercises.html#exercises"><span class="toc-section-number">15.4</span> Exercises</a></li>
</ul></li>
<li class="has-sub"><a href="16-custom-templates-interactivity.html#custom-templates-interactivity"><span class="toc-section-number">16</span> Adding more interactivity</a><ul>
<li><a href="16-1-custom-progress-bars.html#custom-progress-bars"><span class="toc-section-number">16.1</span> Custom progress bars</a></li>
<li class="has-sub"><a href="16-2-user-feedback-toasts.html#user-feedback-toasts"><span class="toc-section-number">16.2</span> User feedback: toasts</a><ul>
<li><a href="16-2-user-feedback-toasts.html#toast-skeleton"><span class="toc-section-number">16.2.1</span> Toast skeleton</a></li>
<li><a href="16-2-user-feedback-toasts.html#the-toast-api"><span class="toc-section-number">16.2.2</span> The toast API</a></li>
<li><a href="16-2-user-feedback-toasts.html#r-implementation"><span class="toc-section-number">16.2.3</span> R implementation</a></li>
<li><a href="16-2-user-feedback-toasts.html#wrap-up"><span class="toc-section-number">16.2.4</span> Wrap up</a></li>
</ul></li>
<li><a href="16-3-transform-an-element-in-a-custom-action-button.html#transform-an-element-in-a-custom-action-button"><span class="toc-section-number">16.3</span> Transform an element in a custom action button</a></li>
<li class="has-sub"><a href="16-4-tab-events.html#tab-events"><span class="toc-section-number">16.4</span> Tab events</a><ul>
<li><a href="16-4-tab-events.html#insert-tabs"><span class="toc-section-number">16.4.1</span> Insert/Remove tabs in tabsetpanel</a></li>
</ul></li>
<li><a href="13-3-exercises.html#exercises"><span class="toc-section-number">16.5</span> Exercises</a></li>
</ul></li>
<li class="part"><span><b>Beautify with CSS and SASS</b></span></li>
<li class="has-sub"><a href="17-beautify-with-fresh.html#beautify-with-fresh"><span class="toc-section-number">17</span> Beautify with fresh</a><ul>
<li><a href="17-1-fresh-the-big-picture.html#fresh-the-big-picture"><span class="toc-section-number">17.1</span> {fresh}, the big picture</a></li>
</ul></li>
<li><a href="references.html#references">References</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="design-the-page-layout" class="section level2">
<h2><span class="header-section-number">13.2</span> Design the page layout</h2>
<div id="the-page-wrapper" class="section level3">
<h3><span class="header-section-number">13.2.1</span> The page wrapper</h3>
<p>Do you remember the structure of a basic html page seen in Chapter <a href="2-survival-kit-html.html#survival-kit-html">2</a>? Well, if not, here is a reminder.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb138-1"><a href="13-2-design-the-page-layout.html#cb138-1"></a><span class="dt">&lt;!DOCTYPE </span>HTML<span class="dt">&gt;</span></span>
<span id="cb138-2"><a href="13-2-design-the-page-layout.html#cb138-2"></a><span class="kw">&lt;html&gt;</span></span>
<span id="cb138-3"><a href="13-2-design-the-page-layout.html#cb138-3"></a>  <span class="kw">&lt;head&gt;</span></span>
<span id="cb138-4"><a href="13-2-design-the-page-layout.html#cb138-4"></a>  <span class="co">&lt;!-- head content here --&gt;</span></span>
<span id="cb138-5"><a href="13-2-design-the-page-layout.html#cb138-5"></a>  <span class="kw">&lt;/head&gt;</span></span>
<span id="cb138-6"><a href="13-2-design-the-page-layout.html#cb138-6"></a>  <span class="kw">&lt;body&gt;</span></span>
<span id="cb138-7"><a href="13-2-design-the-page-layout.html#cb138-7"></a>    <span class="kw">&lt;p&gt;</span>Hello World<span class="kw">&lt;/p&gt;</span></span>
<span id="cb138-8"><a href="13-2-design-the-page-layout.html#cb138-8"></a>  <span class="kw">&lt;/body&gt;</span></span>
<span id="cb138-9"><a href="13-2-design-the-page-layout.html#cb138-9"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<p>We actually don’t need to include the <code>&lt;html&gt;</code> tag since shiny will automatically do it. Below we construct a list of tags with <code>tagList</code>, including the head and the body. In the head we have the <code>meta</code> tags which has multiple purposes:</p>
<ul>
<li>describe the encoding,</li>
<li>how to display the app on different devices. For instance <code>apple-mobile-web-app-status-bar-style</code> is for iOS devices mobile support.</li>
<li>Set the favicon, which is an icon representing the website icon, that is the one you may see on the right side of the searchbar. Try <a href="https://twitter.com/home">twitter</a> for instance.</li>
</ul>
<p>The page title and favicon may be changed by the developer, so they may be included as parameters of the function. If you remember, there also should be CSS in the head but nothing here! Actually, the insertion of dependencies will be achieved by our <code>addDeps</code> function defined in Chapter <a href="12-custom-templates-dependencies.html#custom-templates-dependencies">12</a>. Tabler comes with 2 main themes, namely white and dark, which may be applied through the <code>&lt;body&gt;</code> class attribute (respectively “antialiased theme-dark” and “antialiased”). The … parameter contain other template elements like the header and the dashboard body, that remain to be created. As shown in Figure <a href="10-custom-templates-selection.html#fig:tabler-dark">10.1</a> of Chapter <a href="10-custom-templates-selection.html#custom-templates-selection">10</a>, the tabler dashboard template may contain a navigation bar and a footer. As they are not mandatory, we will not create dedicated parameters and pass all elements in the …slot.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="13-2-design-the-page-layout.html#cb139-1"></a>tabler_page &lt;-<span class="st"> </span><span class="cf">function</span>(..., <span class="dt">dark =</span> <span class="ot">TRUE</span>, <span class="dt">title =</span> <span class="ot">NULL</span>, <span class="dt">favicon =</span> <span class="ot">NULL</span>){</span>
<span id="cb139-2"><a href="13-2-design-the-page-layout.html#cb139-2"></a>  </span>
<span id="cb139-3"><a href="13-2-design-the-page-layout.html#cb139-3"></a>  <span class="co"># head</span></span>
<span id="cb139-4"><a href="13-2-design-the-page-layout.html#cb139-4"></a>  head_tag &lt;-<span class="st"> </span>tags<span class="op">$</span><span class="kw">head</span>(</span>
<span id="cb139-5"><a href="13-2-design-the-page-layout.html#cb139-5"></a>    tags<span class="op">$</span><span class="kw">meta</span>(<span class="dt">charset =</span> <span class="st">&quot;utf-8&quot;</span>),</span>
<span id="cb139-6"><a href="13-2-design-the-page-layout.html#cb139-6"></a>    tags<span class="op">$</span><span class="kw">meta</span>(</span>
<span id="cb139-7"><a href="13-2-design-the-page-layout.html#cb139-7"></a>      <span class="dt">name =</span> <span class="st">&quot;viewport&quot;</span>, </span>
<span id="cb139-8"><a href="13-2-design-the-page-layout.html#cb139-8"></a>      <span class="dt">content =</span> <span class="st">&quot;</span></span>
<span id="cb139-9"><a href="13-2-design-the-page-layout.html#cb139-9"></a><span class="st">        width=device-width, </span></span>
<span id="cb139-10"><a href="13-2-design-the-page-layout.html#cb139-10"></a><span class="st">        initial-scale=1, </span></span>
<span id="cb139-11"><a href="13-2-design-the-page-layout.html#cb139-11"></a><span class="st">        viewport-fit=cover&quot;</span></span>
<span id="cb139-12"><a href="13-2-design-the-page-layout.html#cb139-12"></a>    ),</span>
<span id="cb139-13"><a href="13-2-design-the-page-layout.html#cb139-13"></a>    tags<span class="op">$</span><span class="kw">meta</span>(<span class="st">`</span><span class="dt">http-equiv</span><span class="st">`</span> =<span class="st"> &quot;X-UA-Compatible&quot;</span>, <span class="dt">content =</span> <span class="st">&quot;ie=edge&quot;</span>),</span>
<span id="cb139-14"><a href="13-2-design-the-page-layout.html#cb139-14"></a>    tags<span class="op">$</span><span class="kw">title</span>(title),</span>
<span id="cb139-15"><a href="13-2-design-the-page-layout.html#cb139-15"></a>    tags<span class="op">$</span><span class="kw">link</span>(</span>
<span id="cb139-16"><a href="13-2-design-the-page-layout.html#cb139-16"></a>      <span class="dt">rel =</span> <span class="st">&quot;preconnect&quot;</span>, </span>
<span id="cb139-17"><a href="13-2-design-the-page-layout.html#cb139-17"></a>      <span class="dt">href =</span> <span class="st">&quot;https://fonts.gstatic.com/&quot;</span>, </span>
<span id="cb139-18"><a href="13-2-design-the-page-layout.html#cb139-18"></a>      <span class="dt">crossorigin =</span> <span class="ot">NA</span></span>
<span id="cb139-19"><a href="13-2-design-the-page-layout.html#cb139-19"></a>    ),</span>
<span id="cb139-20"><a href="13-2-design-the-page-layout.html#cb139-20"></a>    tags<span class="op">$</span><span class="kw">meta</span>(<span class="dt">name =</span> <span class="st">&quot;msapplication-TileColor&quot;</span>, <span class="dt">content =</span> <span class="st">&quot;#206bc4&quot;</span>),</span>
<span id="cb139-21"><a href="13-2-design-the-page-layout.html#cb139-21"></a>    tags<span class="op">$</span><span class="kw">meta</span>(<span class="dt">name =</span> <span class="st">&quot;theme-color&quot;</span>, <span class="dt">content =</span> <span class="st">&quot;#206bc4&quot;</span>),</span>
<span id="cb139-22"><a href="13-2-design-the-page-layout.html#cb139-22"></a>    tags<span class="op">$</span><span class="kw">meta</span>(<span class="dt">name =</span> <span class="st">&quot;apple-mobile-web-app-status-bar-style&quot;</span>, <span class="dt">content =</span> <span class="st">&quot;black-translucent&quot;</span>),</span>
<span id="cb139-23"><a href="13-2-design-the-page-layout.html#cb139-23"></a>    tags<span class="op">$</span><span class="kw">meta</span>(<span class="dt">name =</span> <span class="st">&quot;apple-mobile-web-app-capable&quot;</span>, <span class="dt">content =</span> <span class="st">&quot;yes&quot;</span>),</span>
<span id="cb139-24"><a href="13-2-design-the-page-layout.html#cb139-24"></a>    tags<span class="op">$</span><span class="kw">meta</span>(<span class="dt">name =</span> <span class="st">&quot;mobile-web-app-capable&quot;</span>, <span class="dt">content =</span> <span class="st">&quot;yes&quot;</span>),</span>
<span id="cb139-25"><a href="13-2-design-the-page-layout.html#cb139-25"></a>    tags<span class="op">$</span><span class="kw">meta</span>(<span class="dt">name =</span> <span class="st">&quot;HandheldFriendly&quot;</span>, <span class="dt">content =</span> <span class="st">&quot;True&quot;</span>),</span>
<span id="cb139-26"><a href="13-2-design-the-page-layout.html#cb139-26"></a>    tags<span class="op">$</span><span class="kw">meta</span>(<span class="dt">name =</span> <span class="st">&quot;MobileOptimized&quot;</span>, <span class="dt">content =</span> <span class="st">&quot;320&quot;</span>),</span>
<span id="cb139-27"><a href="13-2-design-the-page-layout.html#cb139-27"></a>    tags<span class="op">$</span><span class="kw">meta</span>(<span class="dt">name =</span> <span class="st">&quot;robots&quot;</span>, <span class="dt">content =</span> <span class="st">&quot;noindex,nofollow,noarchive&quot;</span>),</span>
<span id="cb139-28"><a href="13-2-design-the-page-layout.html#cb139-28"></a>    tags<span class="op">$</span><span class="kw">link</span>(<span class="dt">rel =</span> <span class="st">&quot;icon&quot;</span>, <span class="dt">href =</span> favicon, <span class="dt">type =</span> <span class="st">&quot;image/x-icon&quot;</span>),</span>
<span id="cb139-29"><a href="13-2-design-the-page-layout.html#cb139-29"></a>    tags<span class="op">$</span><span class="kw">link</span>(<span class="dt">rel =</span> <span class="st">&quot;shortcut icon&quot;</span>, <span class="dt">href =</span> favicon, <span class="dt">type=</span><span class="st">&quot;image/x-icon&quot;</span>)</span>
<span id="cb139-30"><a href="13-2-design-the-page-layout.html#cb139-30"></a>  )</span>
<span id="cb139-31"><a href="13-2-design-the-page-layout.html#cb139-31"></a>  </span>
<span id="cb139-32"><a href="13-2-design-the-page-layout.html#cb139-32"></a>  <span class="co"># body</span></span>
<span id="cb139-33"><a href="13-2-design-the-page-layout.html#cb139-33"></a>  body_tag &lt;-<span class="st"> </span>tags<span class="op">$</span><span class="kw">body</span>(</span>
<span id="cb139-34"><a href="13-2-design-the-page-layout.html#cb139-34"></a>    tags<span class="op">$</span><span class="kw">div</span>(</span>
<span id="cb139-35"><a href="13-2-design-the-page-layout.html#cb139-35"></a>      <span class="dt">class =</span> <span class="kw">paste0</span>(<span class="st">&quot;antialiased &quot;</span>, <span class="cf">if</span>(dark) <span class="st">&quot;theme-dark&quot;</span>),</span>
<span id="cb139-36"><a href="13-2-design-the-page-layout.html#cb139-36"></a>      <span class="dt">style =</span> <span class="st">&quot;display: block;&quot;</span>,</span>
<span id="cb139-37"><a href="13-2-design-the-page-layout.html#cb139-37"></a>      tags<span class="op">$</span><span class="kw">div</span>(<span class="dt">class =</span> <span class="st">&quot;page&quot;</span>, ...)</span>
<span id="cb139-38"><a href="13-2-design-the-page-layout.html#cb139-38"></a>    )</span>
<span id="cb139-39"><a href="13-2-design-the-page-layout.html#cb139-39"></a>  ) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">add_tabler_deps</span>()</span>
<span id="cb139-40"><a href="13-2-design-the-page-layout.html#cb139-40"></a>  </span>
<span id="cb139-41"><a href="13-2-design-the-page-layout.html#cb139-41"></a>  <span class="kw">tagList</span>(head_tag, body_tag)</span>
<span id="cb139-42"><a href="13-2-design-the-page-layout.html#cb139-42"></a>}</span></code></pre></div>
<p>Below we quickly test if a tabler element renders well which confirms our setup is adequate. To do this, we include a random tabler element taken from the demo html page, using <code>HTML</code>. Let’s be clear: you should avoid as much as possible using <code>HTML</code> because of security <a href="https://mastering-shiny.org/advanced-ui.html">issues</a>. This also checks that our basic Shiny input/output system works as expected with a sliderInput linked to a plot output.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="13-2-design-the-page-layout.html#cb140-1"></a><span class="co">#thematic_on()</span></span>
<span id="cb140-2"><a href="13-2-design-the-page-layout.html#cb140-2"></a><span class="co">#onStop(thematic_off)</span></span>
<span id="cb140-3"><a href="13-2-design-the-page-layout.html#cb140-3"></a>ui &lt;-<span class="st"> </span><span class="kw">tabler_page</span>(</span>
<span id="cb140-4"><a href="13-2-design-the-page-layout.html#cb140-4"></a>  <span class="st">&quot;test&quot;</span>, </span>
<span id="cb140-5"><a href="13-2-design-the-page-layout.html#cb140-5"></a>  <span class="kw">sliderInput</span>(<span class="st">&quot;obs&quot;</span>, <span class="st">&quot;Number of observations:&quot;</span>,</span>
<span id="cb140-6"><a href="13-2-design-the-page-layout.html#cb140-6"></a>              <span class="dt">min =</span> <span class="dv">0</span>, <span class="dt">max =</span> <span class="dv">1000</span>, <span class="dt">value =</span> <span class="dv">500</span></span>
<span id="cb140-7"><a href="13-2-design-the-page-layout.html#cb140-7"></a>  ),</span>
<span id="cb140-8"><a href="13-2-design-the-page-layout.html#cb140-8"></a>  <span class="kw">plotOutput</span>(<span class="st">&quot;distPlot&quot;</span>),</span>
<span id="cb140-9"><a href="13-2-design-the-page-layout.html#cb140-9"></a>  <span class="kw">br</span>(),</span>
<span id="cb140-10"><a href="13-2-design-the-page-layout.html#cb140-10"></a>  <span class="kw">HTML</span>(</span>
<span id="cb140-11"><a href="13-2-design-the-page-layout.html#cb140-11"></a>    <span class="st">&#39;&lt;div class=&quot;col-sm-6 col-lg-3&quot;&gt;</span></span>
<span id="cb140-12"><a href="13-2-design-the-page-layout.html#cb140-12"></a><span class="st">   &lt;div class=&quot;card&quot;&gt;</span></span>
<span id="cb140-13"><a href="13-2-design-the-page-layout.html#cb140-13"></a><span class="st">      &lt;div class=&quot;card-body&quot;&gt;</span></span>
<span id="cb140-14"><a href="13-2-design-the-page-layout.html#cb140-14"></a><span class="st">         &lt;div class=&quot;d-flex align-items-center&quot;&gt;</span></span>
<span id="cb140-15"><a href="13-2-design-the-page-layout.html#cb140-15"></a><span class="st">            &lt;div class=&quot;subheader&quot;&gt;Sales&lt;/div&gt;</span></span>
<span id="cb140-16"><a href="13-2-design-the-page-layout.html#cb140-16"></a><span class="st">            &lt;div class=&quot;ml-auto lh-1&quot;&gt;</span></span>
<span id="cb140-17"><a href="13-2-design-the-page-layout.html#cb140-17"></a><span class="st">               &lt;div class=&quot;dropdown&quot;&gt;</span></span>
<span id="cb140-18"><a href="13-2-design-the-page-layout.html#cb140-18"></a><span class="st">                  &lt;a class=&quot;dropdown-toggle text-muted&quot; href=&quot;#&quot; data-toggle=&quot;dropdown&quot; aria-haspopup=&quot;true&quot; aria-expanded=&quot;false&quot;&gt;</span></span>
<span id="cb140-19"><a href="13-2-design-the-page-layout.html#cb140-19"></a><span class="st">                  Last 7 days</span></span>
<span id="cb140-20"><a href="13-2-design-the-page-layout.html#cb140-20"></a><span class="st">                  &lt;/a&gt;</span></span>
<span id="cb140-21"><a href="13-2-design-the-page-layout.html#cb140-21"></a><span class="st">                  &lt;div class=&quot;dropdown-menu dropdown-menu-right&quot;&gt;</span></span>
<span id="cb140-22"><a href="13-2-design-the-page-layout.html#cb140-22"></a><span class="st">                     &lt;a class=&quot;dropdown-item active&quot; href=&quot;#&quot;&gt;Last 7 days&lt;/a&gt;</span></span>
<span id="cb140-23"><a href="13-2-design-the-page-layout.html#cb140-23"></a><span class="st">                     &lt;a class=&quot;dropdown-item&quot; href=&quot;#&quot;&gt;Last 30 days&lt;/a&gt;</span></span>
<span id="cb140-24"><a href="13-2-design-the-page-layout.html#cb140-24"></a><span class="st">                     &lt;a class=&quot;dropdown-item&quot; href=&quot;#&quot;&gt;Last 3 months&lt;/a&gt;</span></span>
<span id="cb140-25"><a href="13-2-design-the-page-layout.html#cb140-25"></a><span class="st">                  &lt;/div&gt;</span></span>
<span id="cb140-26"><a href="13-2-design-the-page-layout.html#cb140-26"></a><span class="st">               &lt;/div&gt;</span></span>
<span id="cb140-27"><a href="13-2-design-the-page-layout.html#cb140-27"></a><span class="st">            &lt;/div&gt;</span></span>
<span id="cb140-28"><a href="13-2-design-the-page-layout.html#cb140-28"></a><span class="st">         &lt;/div&gt;</span></span>
<span id="cb140-29"><a href="13-2-design-the-page-layout.html#cb140-29"></a><span class="st">         &lt;div class=&quot;h1 mb-3&quot;&gt;75%&lt;/div&gt;</span></span>
<span id="cb140-30"><a href="13-2-design-the-page-layout.html#cb140-30"></a><span class="st">         &lt;div class=&quot;d-flex mb-2&quot;&gt;</span></span>
<span id="cb140-31"><a href="13-2-design-the-page-layout.html#cb140-31"></a><span class="st">            &lt;div&gt;Conversion rate&lt;/div&gt;</span></span>
<span id="cb140-32"><a href="13-2-design-the-page-layout.html#cb140-32"></a><span class="st">            &lt;div class=&quot;ml-auto&quot;&gt;</span></span>
<span id="cb140-33"><a href="13-2-design-the-page-layout.html#cb140-33"></a><span class="st">               &lt;span class=&quot;text-green d-inline-flex align-items-center lh-1&quot;&gt;</span></span>
<span id="cb140-34"><a href="13-2-design-the-page-layout.html#cb140-34"></a><span class="st">                  7% </span></span>
<span id="cb140-35"><a href="13-2-design-the-page-layout.html#cb140-35"></a><span class="st">                  &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot;icon ml-1&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; stroke-width=&quot;2&quot; stroke=&quot;currentColor&quot; fill=&quot;none&quot; stroke-linecap=&quot;round&quot; stroke-linejoin=&quot;round&quot;&gt;</span></span>
<span id="cb140-36"><a href="13-2-design-the-page-layout.html#cb140-36"></a><span class="st">                     &lt;path stroke=&quot;none&quot; d=&quot;M0 0h24v24H0z&quot;&gt;&lt;/path&gt;</span></span>
<span id="cb140-37"><a href="13-2-design-the-page-layout.html#cb140-37"></a><span class="st">                     &lt;polyline points=&quot;3 17 9 11 13 15 21 7&quot;&gt;&lt;/polyline&gt;</span></span>
<span id="cb140-38"><a href="13-2-design-the-page-layout.html#cb140-38"></a><span class="st">                     &lt;polyline points=&quot;14 7 21 7 21 14&quot;&gt;&lt;/polyline&gt;</span></span>
<span id="cb140-39"><a href="13-2-design-the-page-layout.html#cb140-39"></a><span class="st">                  &lt;/svg&gt;</span></span>
<span id="cb140-40"><a href="13-2-design-the-page-layout.html#cb140-40"></a><span class="st">               &lt;/span&gt;</span></span>
<span id="cb140-41"><a href="13-2-design-the-page-layout.html#cb140-41"></a><span class="st">            &lt;/div&gt;</span></span>
<span id="cb140-42"><a href="13-2-design-the-page-layout.html#cb140-42"></a><span class="st">         &lt;/div&gt;</span></span>
<span id="cb140-43"><a href="13-2-design-the-page-layout.html#cb140-43"></a><span class="st">         &lt;div class=&quot;progress progress-sm&quot;&gt;</span></span>
<span id="cb140-44"><a href="13-2-design-the-page-layout.html#cb140-44"></a><span class="st">            &lt;div class=&quot;progress-bar bg-blue&quot; style=&quot;width: 75%&quot; role=&quot;progressbar&quot; aria-valuenow=&quot;75&quot; aria-valuemin=&quot;0&quot; aria-valuemax=&quot;100&quot;&gt;</span></span>
<span id="cb140-45"><a href="13-2-design-the-page-layout.html#cb140-45"></a><span class="st">               &lt;span class=&quot;sr-only&quot;&gt;75% Complete&lt;/span&gt;</span></span>
<span id="cb140-46"><a href="13-2-design-the-page-layout.html#cb140-46"></a><span class="st">            &lt;/div&gt;</span></span>
<span id="cb140-47"><a href="13-2-design-the-page-layout.html#cb140-47"></a><span class="st">         &lt;/div&gt;</span></span>
<span id="cb140-48"><a href="13-2-design-the-page-layout.html#cb140-48"></a><span class="st">      &lt;/div&gt;</span></span>
<span id="cb140-49"><a href="13-2-design-the-page-layout.html#cb140-49"></a><span class="st">   &lt;/div&gt;</span></span>
<span id="cb140-50"><a href="13-2-design-the-page-layout.html#cb140-50"></a><span class="st">&lt;/div&gt;</span></span>
<span id="cb140-51"><a href="13-2-design-the-page-layout.html#cb140-51"></a><span class="st">    &#39;</span></span>
<span id="cb140-52"><a href="13-2-design-the-page-layout.html#cb140-52"></a>  ),</span>
<span id="cb140-53"><a href="13-2-design-the-page-layout.html#cb140-53"></a><span class="dt">title =</span> <span class="st">&quot;Tabler test&quot;</span></span>
<span id="cb140-54"><a href="13-2-design-the-page-layout.html#cb140-54"></a>)</span>
<span id="cb140-55"><a href="13-2-design-the-page-layout.html#cb140-55"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output) {</span>
<span id="cb140-56"><a href="13-2-design-the-page-layout.html#cb140-56"></a>  output<span class="op">$</span>distPlot &lt;-<span class="st"> </span><span class="kw">renderPlot</span>({</span>
<span id="cb140-57"><a href="13-2-design-the-page-layout.html#cb140-57"></a>    <span class="kw">hist</span>(<span class="kw">rnorm</span>(input<span class="op">$</span>obs))</span>
<span id="cb140-58"><a href="13-2-design-the-page-layout.html#cb140-58"></a>  })</span>
<span id="cb140-59"><a href="13-2-design-the-page-layout.html#cb140-59"></a>}</span>
<span id="cb140-60"><a href="13-2-design-the-page-layout.html#cb140-60"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>
<p>Ok, our info card and the shiny element work like a charm, which is a good start. Now we may focus on the aesthetics.</p>
</div>
<div id="the-body-content" class="section level3">
<h3><span class="header-section-number">13.2.2</span> The body content</h3>
<p>In this part, we translate the dashboard body HTML code to R. As a reminder, the <a href="https://alandipert.shinyapps.io/html2r/">html2r</a> by <a href="https://github.com/alandipert">Alan Dipert</a> substantially speeds up the conversion process. You copy the code in the HTML text area, click on convert and get the R shiny output. We create a function called <code>tabler_body</code>. The … parameter holds all the dashboard body elements and the footer is dedicated for the future <code>tabler_footer</code> function.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="13-2-design-the-page-layout.html#cb141-1"></a>tabler_body &lt;-<span class="st"> </span><span class="cf">function</span>(..., <span class="dt">footer =</span> <span class="ot">NULL</span>) {</span>
<span id="cb141-2"><a href="13-2-design-the-page-layout.html#cb141-2"></a>  <span class="kw">div</span>(</span>
<span id="cb141-3"><a href="13-2-design-the-page-layout.html#cb141-3"></a>    <span class="dt">class =</span> <span class="st">&quot;content&quot;</span>,</span>
<span id="cb141-4"><a href="13-2-design-the-page-layout.html#cb141-4"></a>    <span class="kw">div</span>(<span class="dt">class =</span> <span class="st">&quot;container-xl&quot;</span>, ...),</span>
<span id="cb141-5"><a href="13-2-design-the-page-layout.html#cb141-5"></a>    tags<span class="op">$</span><span class="kw">footer</span>(<span class="dt">class =</span> <span class="st">&quot;footer footer-transparent&quot;</span>, footer)</span>
<span id="cb141-6"><a href="13-2-design-the-page-layout.html#cb141-6"></a>  )</span>
<span id="cb141-7"><a href="13-2-design-the-page-layout.html#cb141-7"></a>}</span></code></pre></div>
<p>Let’s test it with the previous example.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="13-2-design-the-page-layout.html#cb142-1"></a>ui &lt;-<span class="st"> </span><span class="kw">tabler_page</span>(<span class="kw">tabler_body</span>(<span class="kw">h1</span>(<span class="st">&quot;Hello World&quot;</span>)))</span>
<span id="cb142-2"><a href="13-2-design-the-page-layout.html#cb142-2"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output) {}</span>
<span id="cb142-3"><a href="13-2-design-the-page-layout.html#cb142-3"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>
<p>Way better!</p>
</div>
<div id="the-footer" class="section level3">
<h3><span class="header-section-number">13.2.3</span> The footer</h3>
<p>The footer is composed of a left and right containers. We decide to create parameters left and right in which the user will be able to pass any elements.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="13-2-design-the-page-layout.html#cb143-1"></a>tabler_footer &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">left =</span> <span class="ot">NULL</span>, <span class="dt">right =</span> <span class="ot">NULL</span>) {</span>
<span id="cb143-2"><a href="13-2-design-the-page-layout.html#cb143-2"></a>  <span class="kw">div</span>(</span>
<span id="cb143-3"><a href="13-2-design-the-page-layout.html#cb143-3"></a>    <span class="dt">class =</span> <span class="st">&quot;container&quot;</span>,</span>
<span id="cb143-4"><a href="13-2-design-the-page-layout.html#cb143-4"></a>    <span class="kw">div</span>(</span>
<span id="cb143-5"><a href="13-2-design-the-page-layout.html#cb143-5"></a>      <span class="dt">class =</span> <span class="st">&quot;row text-center align-items-center flex-row-reverse&quot;</span>,</span>
<span id="cb143-6"><a href="13-2-design-the-page-layout.html#cb143-6"></a>      <span class="kw">div</span>(<span class="dt">class =</span> <span class="st">&quot;col-lg-auto ml-lg-auto&quot;</span>, right),</span>
<span id="cb143-7"><a href="13-2-design-the-page-layout.html#cb143-7"></a>      <span class="kw">div</span>(<span class="dt">class =</span> <span class="st">&quot;col-12 col-lg-auto mt-3 mt-lg-0&quot;</span>, left)</span>
<span id="cb143-8"><a href="13-2-design-the-page-layout.html#cb143-8"></a>    )</span>
<span id="cb143-9"><a href="13-2-design-the-page-layout.html#cb143-9"></a>  )</span>
<span id="cb143-10"><a href="13-2-design-the-page-layout.html#cb143-10"></a>}</span></code></pre></div>
<p>All the class attributes are taken from the original HTML template. If you are already familiar with Bootstrap 4, you may easily customize the style. In short, <code>row</code> means that all elements will be aligned on a row, <code>text-center</code> amd <code>align-items-center</code> handle the text and content centering. <code>flex-row-reverse</code> display elements in a reversed order. Notice also that a <code>row</code> element contains columns created with the <code>col</code> class. The Bootstrap grid system relies on the Flexible Box Module, also known as <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox">flexbox</a>.</p>
<p>As above, let’s check our brand new element.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="13-2-design-the-page-layout.html#cb144-1"></a>ui &lt;-<span class="st"> </span><span class="kw">tabler_page</span>(</span>
<span id="cb144-2"><a href="13-2-design-the-page-layout.html#cb144-2"></a>  <span class="kw">tabler_body</span>(</span>
<span id="cb144-3"><a href="13-2-design-the-page-layout.html#cb144-3"></a>    <span class="kw">p</span>(<span class="st">&quot;Hello World&quot;</span>),</span>
<span id="cb144-4"><a href="13-2-design-the-page-layout.html#cb144-4"></a>    <span class="dt">footer =</span> <span class="kw">tabler_footer</span>(</span>
<span id="cb144-5"><a href="13-2-design-the-page-layout.html#cb144-5"></a>      <span class="dt">left =</span> <span class="st">&quot;Rstats, 2020&quot;</span>, </span>
<span id="cb144-6"><a href="13-2-design-the-page-layout.html#cb144-6"></a>      <span class="dt">right =</span> <span class="kw">a</span>(<span class="dt">href =</span> <span class="st">&quot;https://www.google.com&quot;</span>, <span class="st">&quot;More&quot;</span>)</span>
<span id="cb144-7"><a href="13-2-design-the-page-layout.html#cb144-7"></a>    )</span>
<span id="cb144-8"><a href="13-2-design-the-page-layout.html#cb144-8"></a>  )</span>
<span id="cb144-9"><a href="13-2-design-the-page-layout.html#cb144-9"></a>)</span>
<span id="cb144-10"><a href="13-2-design-the-page-layout.html#cb144-10"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output) {}</span>
<span id="cb144-11"><a href="13-2-design-the-page-layout.html#cb144-11"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>
</div>
<div id="the-navbar-or-header" class="section level3">
<h3><span class="header-section-number">13.2.4</span> The navbar (or header)</h3>
<p>This function is called <code>tabler_header</code>. In the Tabler template, the header has the <code>navbar navbar-expand-md navbar-light</code> classes. We don’t need the navbar-light class since we are only interested in the dark theme. As shown in Figure <a href="13-2-design-the-page-layout.html#fig:tabler-header">13.2</a>, the navbar is composed of 4 elements:</p>
<ul>
<li>the navbar toggler is only visible when we reduce the screen width, like on mobile devices</li>
<li>the brand image</li>
<li>the navigation</li>
<li>the dropdown menus (this is not mandatory)</li>
</ul>
<div class="figure"><span id="fig:tabler-header"></span>
<img src="images/practice/tabler-header.png" alt="Tabler header structure" width="720" />
<p class="caption">
FIGURE 13.2: Tabler header structure
</p>
</div>
<p>You may have a look at the <a href="https://getbootstrap.com/docs/4.0/components/navbar/">Bootstrap 4</a> documentation for extra configuration and layout.</p>
<p>Each of these element will be considered as an input parameter to the <code>tabler_navbar</code> function, except the navbar toggler which is a default element and must not be removed. Morever, we will only show the brand element when it is provided. The … parameter is a slot for extra elements (between the menu and dropdowns). In the following, we start by creating the main container, that is <code>header_tag</code> and its unique child <code>container_tag</code>. The latter has 4 children <code>toggler_tag</code>, <code>brand_tag</code>, <code>dropdown_tag</code> and <code>navmenu_tag</code>. In this situations, {htmltools} functions like <code>tagAppendChild</code> and <code>tagAppendChildren</code> are game changers to better organize the code and make it more maintainable. One never knows in advance how much extra feature will be added to that component. Hence being cautious at the very beginning is crucial!</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="13-2-design-the-page-layout.html#cb145-1"></a>tabler_navbar &lt;-<span class="st"> </span><span class="cf">function</span>(..., <span class="dt">brand_url =</span> <span class="ot">NULL</span>, <span class="dt">brand_image =</span> <span class="ot">NULL</span>, nav_menu, <span class="dt">nav_right =</span> <span class="ot">NULL</span>) {</span>
<span id="cb145-2"><a href="13-2-design-the-page-layout.html#cb145-2"></a>  </span>
<span id="cb145-3"><a href="13-2-design-the-page-layout.html#cb145-3"></a>  header_tag &lt;-<span class="st"> </span>tags<span class="op">$</span><span class="kw">header</span>(<span class="dt">class =</span> <span class="st">&quot;navbar navbar-expand-md&quot;</span>)</span>
<span id="cb145-4"><a href="13-2-design-the-page-layout.html#cb145-4"></a>  container_tag &lt;-<span class="st"> </span>tags<span class="op">$</span><span class="kw">div</span>(<span class="dt">class =</span> <span class="st">&quot;container-xl&quot;</span>)</span>
<span id="cb145-5"><a href="13-2-design-the-page-layout.html#cb145-5"></a>  </span>
<span id="cb145-6"><a href="13-2-design-the-page-layout.html#cb145-6"></a>  <span class="co"># toggler for small devices (must not be removed)</span></span>
<span id="cb145-7"><a href="13-2-design-the-page-layout.html#cb145-7"></a>  toggler_tag &lt;-<span class="st"> </span>tags<span class="op">$</span><span class="kw">button</span>(</span>
<span id="cb145-8"><a href="13-2-design-the-page-layout.html#cb145-8"></a>    <span class="dt">class =</span> <span class="st">&quot;navbar-toggler&quot;</span>, </span>
<span id="cb145-9"><a href="13-2-design-the-page-layout.html#cb145-9"></a>    <span class="dt">type =</span> <span class="st">&quot;button&quot;</span>, </span>
<span id="cb145-10"><a href="13-2-design-the-page-layout.html#cb145-10"></a>    <span class="st">`</span><span class="dt">data-toggle</span><span class="st">`</span> =<span class="st"> &quot;collapse&quot;</span>, </span>
<span id="cb145-11"><a href="13-2-design-the-page-layout.html#cb145-11"></a>    <span class="st">`</span><span class="dt">data-target</span><span class="st">`</span> =<span class="st"> &quot;#navbar-menu&quot;</span>,</span>
<span id="cb145-12"><a href="13-2-design-the-page-layout.html#cb145-12"></a>    <span class="kw">span</span>(<span class="dt">class =</span> <span class="st">&quot;navbar-toggler-icon&quot;</span>)</span>
<span id="cb145-13"><a href="13-2-design-the-page-layout.html#cb145-13"></a>  )</span>
<span id="cb145-14"><a href="13-2-design-the-page-layout.html#cb145-14"></a>  </span>
<span id="cb145-15"><a href="13-2-design-the-page-layout.html#cb145-15"></a>  <span class="co"># brand elements</span></span>
<span id="cb145-16"><a href="13-2-design-the-page-layout.html#cb145-16"></a>  brand_tag &lt;-<span class="st"> </span><span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(brand_url) <span class="op">||</span><span class="st"> </span><span class="op">!</span><span class="kw">is.null</span>(brand_image)) {</span>
<span id="cb145-17"><a href="13-2-design-the-page-layout.html#cb145-17"></a>    <span class="kw">a</span>(</span>
<span id="cb145-18"><a href="13-2-design-the-page-layout.html#cb145-18"></a>      <span class="dt">href =</span> <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(brand_url)) {</span>
<span id="cb145-19"><a href="13-2-design-the-page-layout.html#cb145-19"></a>        brand_url</span>
<span id="cb145-20"><a href="13-2-design-the-page-layout.html#cb145-20"></a>      } <span class="cf">else</span> {</span>
<span id="cb145-21"><a href="13-2-design-the-page-layout.html#cb145-21"></a>        <span class="st">&quot;#&quot;</span></span>
<span id="cb145-22"><a href="13-2-design-the-page-layout.html#cb145-22"></a>      },</span>
<span id="cb145-23"><a href="13-2-design-the-page-layout.html#cb145-23"></a>      <span class="dt">class =</span> <span class="st">&quot;navbar-brand navbar-brand-autodark d-none-navbar-horizontal pr-0 pr-md-3&quot;</span>,</span>
<span id="cb145-24"><a href="13-2-design-the-page-layout.html#cb145-24"></a>      <span class="cf">if</span>(<span class="op">!</span><span class="kw">is.null</span>(brand_image)) {</span>
<span id="cb145-25"><a href="13-2-design-the-page-layout.html#cb145-25"></a>        <span class="kw">img</span>(</span>
<span id="cb145-26"><a href="13-2-design-the-page-layout.html#cb145-26"></a>          <span class="dt">src =</span> brand_image, </span>
<span id="cb145-27"><a href="13-2-design-the-page-layout.html#cb145-27"></a>          <span class="dt">alt =</span> <span class="st">&quot;brand Image&quot;</span>,</span>
<span id="cb145-28"><a href="13-2-design-the-page-layout.html#cb145-28"></a>          <span class="dt">class =</span> <span class="st">&quot;navbar-brand-image&quot;</span></span>
<span id="cb145-29"><a href="13-2-design-the-page-layout.html#cb145-29"></a>        )</span>
<span id="cb145-30"><a href="13-2-design-the-page-layout.html#cb145-30"></a>      }</span>
<span id="cb145-31"><a href="13-2-design-the-page-layout.html#cb145-31"></a>    )</span>
<span id="cb145-32"><a href="13-2-design-the-page-layout.html#cb145-32"></a>  }</span>
<span id="cb145-33"><a href="13-2-design-the-page-layout.html#cb145-33"></a>  </span>
<span id="cb145-34"><a href="13-2-design-the-page-layout.html#cb145-34"></a>  dropdown_tag &lt;-<span class="st"> </span><span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(nav_right)) {</span>
<span id="cb145-35"><a href="13-2-design-the-page-layout.html#cb145-35"></a>    <span class="kw">div</span>(<span class="dt">class =</span> <span class="st">&quot;navbar-nav flex-row order-md-last&quot;</span>, nav_right)</span>
<span id="cb145-36"><a href="13-2-design-the-page-layout.html#cb145-36"></a>  }</span>
<span id="cb145-37"><a href="13-2-design-the-page-layout.html#cb145-37"></a>  </span>
<span id="cb145-38"><a href="13-2-design-the-page-layout.html#cb145-38"></a>  navmenu_tag &lt;-<span class="st"> </span><span class="kw">div</span>(</span>
<span id="cb145-39"><a href="13-2-design-the-page-layout.html#cb145-39"></a>    <span class="dt">class =</span> <span class="st">&quot;collapse navbar-collapse&quot;</span>, </span>
<span id="cb145-40"><a href="13-2-design-the-page-layout.html#cb145-40"></a>    <span class="dt">id =</span> <span class="st">&quot;navbar-menu&quot;</span>,</span>
<span id="cb145-41"><a href="13-2-design-the-page-layout.html#cb145-41"></a>    <span class="kw">div</span>(</span>
<span id="cb145-42"><a href="13-2-design-the-page-layout.html#cb145-42"></a>      <span class="dt">class =</span> <span class="st">&quot;d-flex flex-column flex-md-row flex-fill align-items-stretch align-items-md-center&quot;</span>,</span>
<span id="cb145-43"><a href="13-2-design-the-page-layout.html#cb145-43"></a>      nav_menu</span>
<span id="cb145-44"><a href="13-2-design-the-page-layout.html#cb145-44"></a>    ),</span>
<span id="cb145-45"><a href="13-2-design-the-page-layout.html#cb145-45"></a>    <span class="cf">if</span> (<span class="kw">length</span>(<span class="kw">list</span>(...)) <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) {</span>
<span id="cb145-46"><a href="13-2-design-the-page-layout.html#cb145-46"></a>      <span class="kw">div</span>(</span>
<span id="cb145-47"><a href="13-2-design-the-page-layout.html#cb145-47"></a>        <span class="dt">class =</span> <span class="st">&quot;ml-md-auto pl-md-4 py-2 py-md-0 mr-md-4 order-first order-md-last flex-grow-1 flex-md-grow-0&quot;</span>, </span>
<span id="cb145-48"><a href="13-2-design-the-page-layout.html#cb145-48"></a>        ...</span>
<span id="cb145-49"><a href="13-2-design-the-page-layout.html#cb145-49"></a>      )</span>
<span id="cb145-50"><a href="13-2-design-the-page-layout.html#cb145-50"></a>    }</span>
<span id="cb145-51"><a href="13-2-design-the-page-layout.html#cb145-51"></a>  )</span>
<span id="cb145-52"><a href="13-2-design-the-page-layout.html#cb145-52"></a>  </span>
<span id="cb145-53"><a href="13-2-design-the-page-layout.html#cb145-53"></a>  container_tag &lt;-<span class="st"> </span>container_tag <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tagAppendChildren</span>(</span>
<span id="cb145-54"><a href="13-2-design-the-page-layout.html#cb145-54"></a>    toggler_tag,</span>
<span id="cb145-55"><a href="13-2-design-the-page-layout.html#cb145-55"></a>    brand_tag,</span>
<span id="cb145-56"><a href="13-2-design-the-page-layout.html#cb145-56"></a>    dropdown_tag,</span>
<span id="cb145-57"><a href="13-2-design-the-page-layout.html#cb145-57"></a>    navmenu_tag</span>
<span id="cb145-58"><a href="13-2-design-the-page-layout.html#cb145-58"></a>  )</span>
<span id="cb145-59"><a href="13-2-design-the-page-layout.html#cb145-59"></a>  </span>
<span id="cb145-60"><a href="13-2-design-the-page-layout.html#cb145-60"></a>  header_tag <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tagAppendChild</span>(container_tag)</span>
<span id="cb145-61"><a href="13-2-design-the-page-layout.html#cb145-61"></a>  </span>
<span id="cb145-62"><a href="13-2-design-the-page-layout.html#cb145-62"></a>}</span></code></pre></div>
<p>The navbar menu is the main component of the navbar. The … parameter is a slot for the menu items. Compared to the original tabler dashboard template where there is only the class navbar-nav, we have to add at least, the <code>nav</code> class to make sure items are correctly activated/inactivated. The <code>nav-pills</code> class is to select pills instead of basic tabs (see <a href="https://getbootstrap.com/docs/4.0/components/navs/">here</a>), which is nothing more than a cosmetic consideration. Notice the <code>ul</code> tag that will contain <code>li</code> elements, that is the navbar items.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="13-2-design-the-page-layout.html#cb146-1"></a>tabler_navbar_menu &lt;-<span class="st"> </span><span class="cf">function</span>(...) {</span>
<span id="cb146-2"><a href="13-2-design-the-page-layout.html#cb146-2"></a>  tags<span class="op">$</span><span class="kw">ul</span>(<span class="dt">class =</span> <span class="st">&quot;nav nav-pills navbar-nav&quot;</span>, ...)</span>
<span id="cb146-3"><a href="13-2-design-the-page-layout.html#cb146-3"></a>}</span></code></pre></div>
<p>Besides, each navbar menu item could be either a simple button or contain multiple menu sub-items. For now, we only focus on simple items.</p>
<div id="navbar-navigation" class="section level4">
<h4><span class="header-section-number">13.2.4.1</span> Navbar navigation</h4>
<p>The navbar is extremely important since it will drive the navigation of the template. We would like to associate each item to a separate page in the body content. This will allow us to go to a new page each time we change an item. In brief, it is very similar to the Shiny <code>tabsetPanel</code> function.</p>
<p>In HTML, menu items are <code>&lt;a&gt;</code> tags (links) with a given <code>href</code> attribute pointing to a specific page located in the server files. The point with a Shiny app is that we can’t decide how to split our content into several pages. We only have app.R generating a simple HTML page. The strategy here is to create a tabbed navigation, to mimic multiple pages.</p>
<p>Let’s see how tabset navigation works. In the menu list, all items must have:</p>
<ul>
<li>a <code>data-toggle</code> attribute set to tab</li>
<li>an <code>href</code> attribute holding a unique id. This unique id is mandatory since it will point the menu item to the corresponding body content.</li>
</ul>
<p>On the body side, tab panels are contained in a tabset panel (simple div container), have a <code>role</code> attribute set to tabpanel and an <code>id</code> corresponding the <code>href</code> passed in the menu item. The exact match between <code>id</code> and <code>href</code> is mandatory, as shown in Figure <a href="13-2-design-the-page-layout.html#fig:tabler-tabset">13.3</a>.</p>
<div class="figure"><span id="fig:tabler-tabset"></span>
<img src="images/practice/tabler-tabset.png" alt="Tabler tabset main principle" width="720" />
<p class="caption">
FIGURE 13.3: Tabler tabset main principle
</p>
</div>
<p>Below, we propose a possible implementation of a menu item, as well as the corresponding body tab panel. The text parameter corresponds to the nav item text displayed in the menu. We also added an optional icon and the ability to select the item at start.</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="13-2-design-the-page-layout.html#cb147-1"></a>tabler_navbar_menu_item &lt;-<span class="st"> </span><span class="cf">function</span>(text, tabName, <span class="dt">icon =</span> <span class="ot">NULL</span>, <span class="dt">selected =</span> <span class="ot">FALSE</span>) {</span>
<span id="cb147-2"><a href="13-2-design-the-page-layout.html#cb147-2"></a>  </span>
<span id="cb147-3"><a href="13-2-design-the-page-layout.html#cb147-3"></a>  item_cl &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;nav-link&quot;</span>, <span class="cf">if</span>(selected) <span class="st">&quot; active&quot;</span>)</span>
<span id="cb147-4"><a href="13-2-design-the-page-layout.html#cb147-4"></a>  </span>
<span id="cb147-5"><a href="13-2-design-the-page-layout.html#cb147-5"></a>  tags<span class="op">$</span><span class="kw">li</span>(</span>
<span id="cb147-6"><a href="13-2-design-the-page-layout.html#cb147-6"></a>    <span class="dt">class =</span> <span class="st">&quot;nav-item&quot;</span>,</span>
<span id="cb147-7"><a href="13-2-design-the-page-layout.html#cb147-7"></a>    <span class="kw">a</span>(</span>
<span id="cb147-8"><a href="13-2-design-the-page-layout.html#cb147-8"></a>      <span class="dt">class =</span> item_cl,</span>
<span id="cb147-9"><a href="13-2-design-the-page-layout.html#cb147-9"></a>      <span class="dt">href =</span> <span class="kw">paste0</span>(<span class="st">&quot;#&quot;</span>, tabName),</span>
<span id="cb147-10"><a href="13-2-design-the-page-layout.html#cb147-10"></a>      <span class="st">`</span><span class="dt">data-toggle</span><span class="st">`</span> =<span class="st"> &quot;pill&quot;</span>, <span class="co"># see https://getbootstrap.com/docs/4.0/components/navs/</span></span>
<span id="cb147-11"><a href="13-2-design-the-page-layout.html#cb147-11"></a>      <span class="st">`</span><span class="dt">data-value</span><span class="st">`</span> =<span class="st"> </span>tabName,</span>
<span id="cb147-12"><a href="13-2-design-the-page-layout.html#cb147-12"></a>      <span class="dt">role =</span> <span class="st">&quot;tab&quot;</span>,</span>
<span id="cb147-13"><a href="13-2-design-the-page-layout.html#cb147-13"></a>      <span class="kw">span</span>(<span class="dt">class =</span> <span class="st">&quot;nav-link-icon d-md-none d-lg-inline-block&quot;</span>, icon),</span>
<span id="cb147-14"><a href="13-2-design-the-page-layout.html#cb147-14"></a>      <span class="kw">span</span>(<span class="dt">class =</span> <span class="st">&quot;nav-link-title&quot;</span>, text)</span>
<span id="cb147-15"><a href="13-2-design-the-page-layout.html#cb147-15"></a>    )</span>
<span id="cb147-16"><a href="13-2-design-the-page-layout.html#cb147-16"></a>  )</span>
<span id="cb147-17"><a href="13-2-design-the-page-layout.html#cb147-17"></a>}</span></code></pre></div>
<p>We also decided to add a fade transition effect between tabs, as per Bootstrap 4 documentation.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="13-2-design-the-page-layout.html#cb148-1"></a>tabler_tab_items &lt;-<span class="st"> </span><span class="cf">function</span>(...) {</span>
<span id="cb148-2"><a href="13-2-design-the-page-layout.html#cb148-2"></a>  <span class="kw">div</span>(<span class="dt">class =</span> <span class="st">&quot;tab-content&quot;</span>, ...)</span>
<span id="cb148-3"><a href="13-2-design-the-page-layout.html#cb148-3"></a>}</span>
<span id="cb148-4"><a href="13-2-design-the-page-layout.html#cb148-4"></a></span>
<span id="cb148-5"><a href="13-2-design-the-page-layout.html#cb148-5"></a>tabler_tab_item &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">tabName =</span> <span class="ot">NULL</span>, ...) {</span>
<span id="cb148-6"><a href="13-2-design-the-page-layout.html#cb148-6"></a>  <span class="kw">div</span>(</span>
<span id="cb148-7"><a href="13-2-design-the-page-layout.html#cb148-7"></a>    <span class="dt">role =</span> <span class="st">&quot;tabpanel&quot;</span>,</span>
<span id="cb148-8"><a href="13-2-design-the-page-layout.html#cb148-8"></a>    <span class="dt">class =</span> <span class="st">&quot;tab-pane fade container-fluid&quot;</span>,</span>
<span id="cb148-9"><a href="13-2-design-the-page-layout.html#cb148-9"></a>    <span class="dt">id =</span> tabName,</span>
<span id="cb148-10"><a href="13-2-design-the-page-layout.html#cb148-10"></a>    ...</span>
<span id="cb148-11"><a href="13-2-design-the-page-layout.html#cb148-11"></a>  )</span>
<span id="cb148-12"><a href="13-2-design-the-page-layout.html#cb148-12"></a>}</span></code></pre></div>
<p>What about testing this in a shiny app?</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="13-2-design-the-page-layout.html#cb149-1"></a>ui &lt;-<span class="st"> </span><span class="kw">tabler_page</span>(</span>
<span id="cb149-2"><a href="13-2-design-the-page-layout.html#cb149-2"></a>  <span class="kw">tabler_navbar</span>(</span>
<span id="cb149-3"><a href="13-2-design-the-page-layout.html#cb149-3"></a>    <span class="dt">brand_url =</span> <span class="st">&quot;https://preview-dev.tabler.io&quot;</span>, </span>
<span id="cb149-4"><a href="13-2-design-the-page-layout.html#cb149-4"></a>    <span class="dt">brand_image =</span> <span class="st">&quot;https://preview-dev.tabler.io/static/logo.svg&quot;</span>, </span>
<span id="cb149-5"><a href="13-2-design-the-page-layout.html#cb149-5"></a>    <span class="dt">nav_menu =</span> <span class="kw">tabler_navbar_menu</span>(</span>
<span id="cb149-6"><a href="13-2-design-the-page-layout.html#cb149-6"></a>      <span class="kw">tabler_navbar_menu_item</span>(</span>
<span id="cb149-7"><a href="13-2-design-the-page-layout.html#cb149-7"></a>        <span class="dt">text =</span> <span class="st">&quot;Tab 1&quot;</span>,</span>
<span id="cb149-8"><a href="13-2-design-the-page-layout.html#cb149-8"></a>        <span class="dt">icon =</span> <span class="ot">NULL</span>,</span>
<span id="cb149-9"><a href="13-2-design-the-page-layout.html#cb149-9"></a>        <span class="dt">tabName =</span> <span class="st">&quot;tab1&quot;</span>,</span>
<span id="cb149-10"><a href="13-2-design-the-page-layout.html#cb149-10"></a>        <span class="dt">selected =</span> <span class="ot">TRUE</span></span>
<span id="cb149-11"><a href="13-2-design-the-page-layout.html#cb149-11"></a>      ),</span>
<span id="cb149-12"><a href="13-2-design-the-page-layout.html#cb149-12"></a>      <span class="kw">tabler_navbar_menu_item</span>(</span>
<span id="cb149-13"><a href="13-2-design-the-page-layout.html#cb149-13"></a>        <span class="dt">text =</span> <span class="st">&quot;Tab 2&quot;</span>,</span>
<span id="cb149-14"><a href="13-2-design-the-page-layout.html#cb149-14"></a>        <span class="dt">icon =</span> <span class="ot">NULL</span>,</span>
<span id="cb149-15"><a href="13-2-design-the-page-layout.html#cb149-15"></a>        <span class="dt">tabName =</span> <span class="st">&quot;tab2&quot;</span></span>
<span id="cb149-16"><a href="13-2-design-the-page-layout.html#cb149-16"></a>      )</span>
<span id="cb149-17"><a href="13-2-design-the-page-layout.html#cb149-17"></a>    )</span>
<span id="cb149-18"><a href="13-2-design-the-page-layout.html#cb149-18"></a>  ),</span>
<span id="cb149-19"><a href="13-2-design-the-page-layout.html#cb149-19"></a>  <span class="kw">tabler_body</span>(</span>
<span id="cb149-20"><a href="13-2-design-the-page-layout.html#cb149-20"></a>    <span class="kw">tabler_tab_items</span>(</span>
<span id="cb149-21"><a href="13-2-design-the-page-layout.html#cb149-21"></a>      <span class="kw">tabler_tab_item</span>(</span>
<span id="cb149-22"><a href="13-2-design-the-page-layout.html#cb149-22"></a>        <span class="dt">tabName =</span> <span class="st">&quot;tab1&quot;</span>,</span>
<span id="cb149-23"><a href="13-2-design-the-page-layout.html#cb149-23"></a>        <span class="kw">p</span>(<span class="st">&quot;Hello World&quot;</span>)</span>
<span id="cb149-24"><a href="13-2-design-the-page-layout.html#cb149-24"></a>      ),</span>
<span id="cb149-25"><a href="13-2-design-the-page-layout.html#cb149-25"></a>      <span class="kw">tabler_tab_item</span>(</span>
<span id="cb149-26"><a href="13-2-design-the-page-layout.html#cb149-26"></a>        <span class="dt">tabName =</span> <span class="st">&quot;tab2&quot;</span>,</span>
<span id="cb149-27"><a href="13-2-design-the-page-layout.html#cb149-27"></a>        <span class="kw">p</span>(<span class="st">&quot;Second Tab&quot;</span>)</span>
<span id="cb149-28"><a href="13-2-design-the-page-layout.html#cb149-28"></a>      )</span>
<span id="cb149-29"><a href="13-2-design-the-page-layout.html#cb149-29"></a>    ),</span>
<span id="cb149-30"><a href="13-2-design-the-page-layout.html#cb149-30"></a>    <span class="dt">footer =</span> <span class="kw">tabler_footer</span>(</span>
<span id="cb149-31"><a href="13-2-design-the-page-layout.html#cb149-31"></a>      <span class="dt">left =</span> <span class="st">&quot;Rstats, 2020&quot;</span>, </span>
<span id="cb149-32"><a href="13-2-design-the-page-layout.html#cb149-32"></a>      <span class="dt">right =</span> <span class="kw">a</span>(<span class="dt">href =</span> <span class="st">&quot;https://www.google.com&quot;</span>)</span>
<span id="cb149-33"><a href="13-2-design-the-page-layout.html#cb149-33"></a>    )</span>
<span id="cb149-34"><a href="13-2-design-the-page-layout.html#cb149-34"></a>  )</span>
<span id="cb149-35"><a href="13-2-design-the-page-layout.html#cb149-35"></a>)</span>
<span id="cb149-36"><a href="13-2-design-the-page-layout.html#cb149-36"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output) {}</span>
<span id="cb149-37"><a href="13-2-design-the-page-layout.html#cb149-37"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>
<p>At this point you might argue that we did not even validated the template elements. For instance, going back to the <code>tabler_navbar_menu_item</code> function, we find the following possible issues:</p>
<ul>
<li>What happens if the user provides an invalid tabName, ie a text that is not valid for jQuery like <code>tab&amp;?++</code>?</li>
<li>What happens if the user accidentally activates 2 tabs at start?</li>
</ul>
<p>We will see later in Chapter <a href="14-custom-templates-testing.html#custom-templates-testing">14</a> how to validate those parameter.</p>
</div>
<div id="fine-tune-tabs-behavior" class="section level4">
<h4><span class="header-section-number">13.2.4.2</span> Fine tune tabs behavior</h4>
<p>Quite good isn’t it? You will notice however that even if the first tab is selected by default, its content is not shown. To fix this, we will apply our jQuery skills. According to the Bootstrap documentation, we must trigger the show event on the active tab at start, as well as add the classes <code>show</code> and <code>active</code> to the associated tab panel in the dashboard body. We therefore target the nav item that has the active class and if no item is found, we select the first item by default and activate its body content.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb150-1"><a href="13-2-design-the-page-layout.html#cb150-1"></a><span class="at">$</span>(<span class="kw">function</span>() <span class="op">{</span></span>
<span id="cb150-2"><a href="13-2-design-the-page-layout.html#cb150-2"></a>  <span class="co">// this makes sure to trigger the show event on the active   tab at start</span></span>
<span id="cb150-3"><a href="13-2-design-the-page-layout.html#cb150-3"></a>  <span class="kw">let</span> activeTab <span class="op">=</span> <span class="at">$</span>(<span class="st">&#39;#navbar-menu .nav-link.active&#39;</span>)<span class="op">;</span></span>
<span id="cb150-4"><a href="13-2-design-the-page-layout.html#cb150-4"></a>  <span class="co">// if multiple items are found</span></span>
<span id="cb150-5"><a href="13-2-design-the-page-layout.html#cb150-5"></a>  <span class="cf">if</span> (<span class="va">activeTab</span>.<span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">{</span></span>
<span id="cb150-6"><a href="13-2-design-the-page-layout.html#cb150-6"></a>    <span class="kw">let</span> tabId <span class="op">=</span> <span class="at">$</span>(activeTab).<span class="at">attr</span>(<span class="st">&#39;data-value&#39;</span>)<span class="op">;</span></span>
<span id="cb150-7"><a href="13-2-design-the-page-layout.html#cb150-7"></a>    <span class="at">$</span>(activeTab).<span class="at">tab</span>(<span class="st">&#39;show&#39;</span>)<span class="op">;</span></span>
<span id="cb150-8"><a href="13-2-design-the-page-layout.html#cb150-8"></a>    <span class="at">$</span>(<span class="vs">`#</span><span class="sc">${</span>tabId<span class="sc">}</span><span class="vs">`</span>).<span class="at">addClass</span>(<span class="st">&#39;show active&#39;</span>)<span class="op">;</span></span>
<span id="cb150-9"><a href="13-2-design-the-page-layout.html#cb150-9"></a>  <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb150-10"><a href="13-2-design-the-page-layout.html#cb150-10"></a>    <span class="at">$</span>(<span class="st">&#39;#navbar-menu .nav-link&#39;</span>)</span>
<span id="cb150-11"><a href="13-2-design-the-page-layout.html#cb150-11"></a>      .<span class="at">first</span>()</span>
<span id="cb150-12"><a href="13-2-design-the-page-layout.html#cb150-12"></a>      .<span class="at">tab</span>(<span class="st">&#39;show&#39;</span>)<span class="op">;</span></span>
<span id="cb150-13"><a href="13-2-design-the-page-layout.html#cb150-13"></a>  <span class="op">}</span></span>
<span id="cb150-14"><a href="13-2-design-the-page-layout.html#cb150-14"></a><span class="op">}</span>)<span class="op">;</span></span></code></pre></div>
<p>This script is included in the <code>www</code> folder of the below app. We’ll see in Chapter <a href="15-custom-templates-inputs.html#custom-templates-inputs">15</a> that custom input binding may perfectly handle this situation and are preferred.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="13-2-design-the-page-layout.html#cb151-1"></a><span class="co">#thematic_on()</span></span>
<span id="cb151-2"><a href="13-2-design-the-page-layout.html#cb151-2"></a><span class="co">#onStop(thematic_off)</span></span>
<span id="cb151-3"><a href="13-2-design-the-page-layout.html#cb151-3"></a><span class="co"># example with custom JS code to activate tabs</span></span>
<span id="cb151-4"><a href="13-2-design-the-page-layout.html#cb151-4"></a><span class="kw">shinyAppDir</span>(<span class="kw">system.file</span>(<span class="st">&quot;chapter12/tabler_tabs&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;OSUICode&quot;</span>))</span></code></pre></div>
<p>The result is shown in Figure <a href="13-2-design-the-page-layout.html#fig:tabler-nav">13.4</a>. I’d also suggest to include at least 1 input/output per tab, to test whether everything works properly.</p>
<div class="figure"><span id="fig:tabler-nav"></span>
<img src="images/practice/tabler-nav.png" alt="Tabler template with navbar" width="542" />
<p class="caption">
FIGURE 13.4: Tabler template with navbar
</p>
</div>
<p>Looks like we are done for the main template elements. Actually, wouldn’t it be better to include, at least, card containers?</p>
</div>
</div>
<div id="card-containers" class="section level3">
<h3><span class="header-section-number">13.2.5</span> Card containers</h3>
<p>Card are a central piece of template as they may contain visualizations, metrics and much more. Fortunately, Tabler has a large range of card containers.</p>
<div id="classic-card" class="section level4">
<h4><span class="header-section-number">13.2.5.1</span> Classic card</h4>
<p>What I call a classic card is like the <code>box</code> container of <a href="https://rstudio.github.io/shinydashboard/structure.html">shinydashboard</a>. The card structure has key elements:</p>
<ul>
<li>a width to control the space taken by the card in the Bootstrap <a href="https://getbootstrap.com/docs/4.0/layout/grid/">grid</a></li>
<li>a title, in general in the header (tabler does always not follow this rule and header is optional)</li>
<li>a body where is the main content</li>
<li>style elements like color statuses</li>
<li>a footer (optional, tabler does not include this)</li>
</ul>
<p>A comprehensive list of all tabler card features may be found <a href="https://preview-dev.tabler.io/docs/cards.html">here</a>. To be faster, I will copy the following HTML code in the <a href="https://github.com/alandipert/html2r">html2R</a> shiny app to convert it to Shiny tags</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb152-1"><a href="13-2-design-the-page-layout.html#cb152-1"></a><span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;col-md-6&quot;</span><span class="kw">&gt;</span></span>
<span id="cb152-2"><a href="13-2-design-the-page-layout.html#cb152-2"></a>  <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;card&quot;</span><span class="kw">&gt;</span></span>
<span id="cb152-3"><a href="13-2-design-the-page-layout.html#cb152-3"></a>    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;card-status-top bg-danger&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></span>
<span id="cb152-4"><a href="13-2-design-the-page-layout.html#cb152-4"></a>    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;card-body&quot;</span><span class="kw">&gt;</span></span>
<span id="cb152-5"><a href="13-2-design-the-page-layout.html#cb152-5"></a>      <span class="kw">&lt;h3</span><span class="ot"> class=</span><span class="st">&quot;card-title&quot;</span><span class="kw">&gt;</span>Title<span class="kw">&lt;/h3&gt;</span></span>
<span id="cb152-6"><a href="13-2-design-the-page-layout.html#cb152-6"></a>      <span class="kw">&lt;p&gt;</span>Some Text.<span class="kw">&lt;/p&gt;</span></span>
<span id="cb152-7"><a href="13-2-design-the-page-layout.html#cb152-7"></a>    <span class="kw">&lt;/div&gt;</span></span>
<span id="cb152-8"><a href="13-2-design-the-page-layout.html#cb152-8"></a>  <span class="kw">&lt;/div&gt;</span></span>
<span id="cb152-9"><a href="13-2-design-the-page-layout.html#cb152-9"></a><span class="kw">&lt;/div&gt;</span></span></code></pre></div>
<p>Below is the result. The next step consist in replacing all content by parameters to the <code>tabler_card</code> function, whenever necessary. For instance, the first <code>&lt;div&gt;</code> sets the width of the card. The Bootstrap grid ranges from 0 to 12, so why not creating a width parameter to control the card size. We proceed similarly for the title, status, body content. It seems reasonable to allow title to be NULL (if so, the title will not be shown), same thing for the status. Regarding the card default width, a value of six also makes sense, which would take half of the row.</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="13-2-design-the-page-layout.html#cb153-1"></a>tabler_card &lt;-<span class="st"> </span><span class="cf">function</span>(..., <span class="dt">title =</span> <span class="ot">NULL</span>, <span class="dt">status =</span> <span class="ot">NULL</span>, <span class="dt">width =</span> <span class="dv">6</span>, <span class="dt">padding =</span> <span class="ot">NULL</span>) {</span>
<span id="cb153-2"><a href="13-2-design-the-page-layout.html#cb153-2"></a>  </span>
<span id="cb153-3"><a href="13-2-design-the-page-layout.html#cb153-3"></a>  card_cl &lt;-<span class="st"> </span><span class="kw">paste0</span>(</span>
<span id="cb153-4"><a href="13-2-design-the-page-layout.html#cb153-4"></a>    <span class="st">&quot;card&quot;</span>, </span>
<span id="cb153-5"><a href="13-2-design-the-page-layout.html#cb153-5"></a>    <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(padding)) <span class="kw">paste0</span>(<span class="st">&quot; card-&quot;</span>, padding)</span>
<span id="cb153-6"><a href="13-2-design-the-page-layout.html#cb153-6"></a>  )</span>
<span id="cb153-7"><a href="13-2-design-the-page-layout.html#cb153-7"></a>  </span>
<span id="cb153-8"><a href="13-2-design-the-page-layout.html#cb153-8"></a>  status_tag &lt;-<span class="st"> </span><span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(status)) {</span>
<span id="cb153-9"><a href="13-2-design-the-page-layout.html#cb153-9"></a>    <span class="kw">div</span>(<span class="dt">class =</span> <span class="kw">paste0</span>(<span class="st">&quot;card-status-top bg-&quot;</span>, status))</span>
<span id="cb153-10"><a href="13-2-design-the-page-layout.html#cb153-10"></a>  }</span>
<span id="cb153-11"><a href="13-2-design-the-page-layout.html#cb153-11"></a>  </span>
<span id="cb153-12"><a href="13-2-design-the-page-layout.html#cb153-12"></a>  body_tag &lt;-<span class="st"> </span><span class="kw">div</span>(</span>
<span id="cb153-13"><a href="13-2-design-the-page-layout.html#cb153-13"></a>    <span class="dt">class =</span> <span class="st">&quot;card-body&quot;</span>,</span>
<span id="cb153-14"><a href="13-2-design-the-page-layout.html#cb153-14"></a>    <span class="co"># we could have a smaller title like h4 or h5...</span></span>
<span id="cb153-15"><a href="13-2-design-the-page-layout.html#cb153-15"></a>    <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(title)) {</span>
<span id="cb153-16"><a href="13-2-design-the-page-layout.html#cb153-16"></a>      <span class="kw">h3</span>(<span class="dt">class =</span> <span class="st">&quot;card-title&quot;</span>, title)</span>
<span id="cb153-17"><a href="13-2-design-the-page-layout.html#cb153-17"></a>    },</span>
<span id="cb153-18"><a href="13-2-design-the-page-layout.html#cb153-18"></a>    ...</span>
<span id="cb153-19"><a href="13-2-design-the-page-layout.html#cb153-19"></a>  )</span>
<span id="cb153-20"><a href="13-2-design-the-page-layout.html#cb153-20"></a>  </span>
<span id="cb153-21"><a href="13-2-design-the-page-layout.html#cb153-21"></a>  main_wrapper &lt;-<span class="st"> </span><span class="kw">div</span>(<span class="dt">class =</span> <span class="kw">paste0</span>(<span class="st">&quot;col-md-&quot;</span>, width))</span>
<span id="cb153-22"><a href="13-2-design-the-page-layout.html#cb153-22"></a>  card_wrapper &lt;-<span class="st"> </span><span class="kw">div</span>(<span class="dt">class =</span> card_cl)</span>
<span id="cb153-23"><a href="13-2-design-the-page-layout.html#cb153-23"></a>  </span>
<span id="cb153-24"><a href="13-2-design-the-page-layout.html#cb153-24"></a>  card_wrapper &lt;-<span class="st"> </span>card_wrapper <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tagAppendChildren</span>(status_tag, body_tag)</span>
<span id="cb153-25"><a href="13-2-design-the-page-layout.html#cb153-25"></a>  main_wrapper <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tagAppendChild</span>(card_wrapper)</span>
<span id="cb153-26"><a href="13-2-design-the-page-layout.html#cb153-26"></a>}</span></code></pre></div>
<p>In the meantime, I’d be also nice to be able to display cards in the same row. Let’s create the <code>tabler_row</code>:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="13-2-design-the-page-layout.html#cb154-1"></a>tabler_row &lt;-<span class="st"> </span><span class="cf">function</span>(...) {</span>
<span id="cb154-2"><a href="13-2-design-the-page-layout.html#cb154-2"></a>  <span class="kw">div</span>(<span class="dt">class =</span> <span class="st">&quot;row row-deck&quot;</span>, ...)</span>
<span id="cb154-3"><a href="13-2-design-the-page-layout.html#cb154-3"></a>}</span></code></pre></div>
<p>Below, we show an example of the <code>tabler_card</code> function, in combination with <a href="https://github.com/dreamRs/apexcharter">apexcharter</a> by <a href="https://www.dreamrs.fr">dreamRs</a>.</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="13-2-design-the-page-layout.html#cb155-1"></a><span class="co"># test the card</span></span>
<span id="cb155-2"><a href="13-2-design-the-page-layout.html#cb155-2"></a><span class="kw">data</span>(<span class="st">&quot;economics_long&quot;</span>)</span>
<span id="cb155-3"><a href="13-2-design-the-page-layout.html#cb155-3"></a>economics_long &lt;-<span class="st"> </span>economics_long <span class="op">%&gt;%</span></span>
<span id="cb155-4"><a href="13-2-design-the-page-layout.html#cb155-4"></a><span class="st">  </span><span class="kw">group_by</span>(variable) <span class="op">%&gt;%</span></span>
<span id="cb155-5"><a href="13-2-design-the-page-layout.html#cb155-5"></a><span class="st">  </span><span class="kw">slice</span>((<span class="kw">n</span>()<span class="op">-</span><span class="dv">100</span>)<span class="op">:</span><span class="kw">n</span>())</span>
<span id="cb155-6"><a href="13-2-design-the-page-layout.html#cb155-6"></a></span>
<span id="cb155-7"><a href="13-2-design-the-page-layout.html#cb155-7"></a>spark_data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb155-8"><a href="13-2-design-the-page-layout.html#cb155-8"></a>  <span class="dt">date =</span> <span class="kw">Sys.Date</span>() <span class="op">+</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">20</span>,</span>
<span id="cb155-9"><a href="13-2-design-the-page-layout.html#cb155-9"></a>  <span class="dt">var1 =</span> <span class="kw">round</span>(<span class="kw">rnorm</span>(<span class="dv">20</span>, <span class="dv">50</span>, <span class="dv">10</span>)),</span>
<span id="cb155-10"><a href="13-2-design-the-page-layout.html#cb155-10"></a>  <span class="dt">var2 =</span> <span class="kw">round</span>(<span class="kw">rnorm</span>(<span class="dv">20</span>, <span class="dv">50</span>, <span class="dv">10</span>)),</span>
<span id="cb155-11"><a href="13-2-design-the-page-layout.html#cb155-11"></a>  <span class="dt">var3 =</span> <span class="kw">round</span>(<span class="kw">rnorm</span>(<span class="dv">20</span>, <span class="dv">50</span>, <span class="dv">10</span>))</span>
<span id="cb155-12"><a href="13-2-design-the-page-layout.html#cb155-12"></a>)</span>
<span id="cb155-13"><a href="13-2-design-the-page-layout.html#cb155-13"></a></span>
<span id="cb155-14"><a href="13-2-design-the-page-layout.html#cb155-14"></a>my_card &lt;-<span class="st"> </span><span class="kw">tabler_card</span>(</span>
<span id="cb155-15"><a href="13-2-design-the-page-layout.html#cb155-15"></a>  <span class="kw">apexchartOutput</span>(<span class="st">&quot;my_chart&quot;</span>), </span>
<span id="cb155-16"><a href="13-2-design-the-page-layout.html#cb155-16"></a>  <span class="dt">title =</span> <span class="st">&quot;My card&quot;</span>, </span>
<span id="cb155-17"><a href="13-2-design-the-page-layout.html#cb155-17"></a>  <span class="dt">status =</span> <span class="st">&quot;danger&quot;</span></span>
<span id="cb155-18"><a href="13-2-design-the-page-layout.html#cb155-18"></a>)</span>
<span id="cb155-19"><a href="13-2-design-the-page-layout.html#cb155-19"></a></span>
<span id="cb155-20"><a href="13-2-design-the-page-layout.html#cb155-20"></a>ui &lt;-<span class="st"> </span><span class="kw">tabler_page</span>(</span>
<span id="cb155-21"><a href="13-2-design-the-page-layout.html#cb155-21"></a>  <span class="kw">tabler_body</span>(</span>
<span id="cb155-22"><a href="13-2-design-the-page-layout.html#cb155-22"></a>    <span class="kw">tabler_row</span>(</span>
<span id="cb155-23"><a href="13-2-design-the-page-layout.html#cb155-23"></a>      my_card,</span>
<span id="cb155-24"><a href="13-2-design-the-page-layout.html#cb155-24"></a>      <span class="kw">tabler_card</span>(</span>
<span id="cb155-25"><a href="13-2-design-the-page-layout.html#cb155-25"></a>        <span class="kw">apexchartOutput</span>(<span class="st">&quot;spark_box&quot;</span>), </span>
<span id="cb155-26"><a href="13-2-design-the-page-layout.html#cb155-26"></a>        <span class="dt">title =</span> <span class="st">&quot;My card&quot;</span>, </span>
<span id="cb155-27"><a href="13-2-design-the-page-layout.html#cb155-27"></a>        <span class="dt">status =</span> <span class="st">&quot;success&quot;</span></span>
<span id="cb155-28"><a href="13-2-design-the-page-layout.html#cb155-28"></a>      ) </span>
<span id="cb155-29"><a href="13-2-design-the-page-layout.html#cb155-29"></a>    )</span>
<span id="cb155-30"><a href="13-2-design-the-page-layout.html#cb155-30"></a>  )</span>
<span id="cb155-31"><a href="13-2-design-the-page-layout.html#cb155-31"></a>)</span>
<span id="cb155-32"><a href="13-2-design-the-page-layout.html#cb155-32"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output) {</span>
<span id="cb155-33"><a href="13-2-design-the-page-layout.html#cb155-33"></a>  output<span class="op">$</span>my_chart &lt;-<span class="st"> </span><span class="kw">renderApexchart</span>({</span>
<span id="cb155-34"><a href="13-2-design-the-page-layout.html#cb155-34"></a>    <span class="kw">apex</span>(<span class="dt">data =</span> economics_long, <span class="dt">type =</span> <span class="st">&quot;area&quot;</span>, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> value01, <span class="dt">fill =</span> variable)) <span class="op">%&gt;%</span></span>
<span id="cb155-35"><a href="13-2-design-the-page-layout.html#cb155-35"></a><span class="st">      </span><span class="kw">ax_yaxis</span>(<span class="dt">decimalsInFloat =</span> <span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># number of decimals to keep</span></span>
<span id="cb155-36"><a href="13-2-design-the-page-layout.html#cb155-36"></a><span class="st">      </span><span class="kw">ax_chart</span>(<span class="dt">stacked =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb155-37"><a href="13-2-design-the-page-layout.html#cb155-37"></a><span class="st">      </span><span class="kw">ax_yaxis</span>(<span class="dt">max =</span> <span class="dv">4</span>, <span class="dt">tickAmount =</span> <span class="dv">4</span>)</span>
<span id="cb155-38"><a href="13-2-design-the-page-layout.html#cb155-38"></a>  })</span>
<span id="cb155-39"><a href="13-2-design-the-page-layout.html#cb155-39"></a>  </span>
<span id="cb155-40"><a href="13-2-design-the-page-layout.html#cb155-40"></a>  output<span class="op">$</span>spark_box &lt;-<span class="st"> </span><span class="kw">renderApexchart</span>({</span>
<span id="cb155-41"><a href="13-2-design-the-page-layout.html#cb155-41"></a>    <span class="kw">spark_box</span>(</span>
<span id="cb155-42"><a href="13-2-design-the-page-layout.html#cb155-42"></a>      <span class="dt">data =</span> spark_data[, <span class="kw">c</span>(<span class="st">&quot;date&quot;</span>, <span class="st">&quot;var3&quot;</span>)],</span>
<span id="cb155-43"><a href="13-2-design-the-page-layout.html#cb155-43"></a>      <span class="dt">title =</span> <span class="kw">mean</span>(spark_data<span class="op">$</span>var3), </span>
<span id="cb155-44"><a href="13-2-design-the-page-layout.html#cb155-44"></a>      <span class="dt">subtitle =</span> <span class="st">&quot;Variable 3&quot;</span>,</span>
<span id="cb155-45"><a href="13-2-design-the-page-layout.html#cb155-45"></a>      <span class="dt">color =</span> <span class="st">&quot;#FFF&quot;</span>, <span class="dt">background =</span> <span class="st">&quot;#2E93fA&quot;</span>,</span>
<span id="cb155-46"><a href="13-2-design-the-page-layout.html#cb155-46"></a>      <span class="dt">title_style =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&quot;#FFF&quot;</span>),</span>
<span id="cb155-47"><a href="13-2-design-the-page-layout.html#cb155-47"></a>      <span class="dt">subtitle_style =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&quot;#FFF&quot;</span>)</span>
<span id="cb155-48"><a href="13-2-design-the-page-layout.html#cb155-48"></a>    )</span>
<span id="cb155-49"><a href="13-2-design-the-page-layout.html#cb155-49"></a>  })</span>
<span id="cb155-50"><a href="13-2-design-the-page-layout.html#cb155-50"></a>}</span>
<span id="cb155-51"><a href="13-2-design-the-page-layout.html#cb155-51"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>
<p>The code output is also shown in Figure <a href="13-2-design-the-page-layout.html#fig:tabler-card">13.5</a>.</p>
<div class="figure"><span id="fig:tabler-card"></span>
<img src="images/practice/tabler-card.png" alt="Tabler card component" width="534" />
<p class="caption">
FIGURE 13.5: Tabler card component
</p>
</div>
</div>
</div>
<div id="ribbons-card-components" class="section level3">
<h3><span class="header-section-number">13.2.6</span> Ribbons: card components</h3>
<p>Let’s finish this part by including a card component, namely the <a href="https://preview-dev.tabler.io/docs/ribbons.html">ribbon</a>.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="13-2-design-the-page-layout.html#cb156-1"></a>tabler_ribbon &lt;-<span class="st"> </span><span class="cf">function</span>(..., <span class="dt">position =</span> <span class="ot">NULL</span>, <span class="dt">color =</span> <span class="ot">NULL</span>, <span class="dt">bookmark =</span> <span class="ot">FALSE</span>) {</span>
<span id="cb156-2"><a href="13-2-design-the-page-layout.html#cb156-2"></a>  </span>
<span id="cb156-3"><a href="13-2-design-the-page-layout.html#cb156-3"></a>  ribbon_cl &lt;-<span class="st"> </span><span class="kw">paste0</span>(</span>
<span id="cb156-4"><a href="13-2-design-the-page-layout.html#cb156-4"></a>    <span class="st">&quot;ribbon&quot;</span>,</span>
<span id="cb156-5"><a href="13-2-design-the-page-layout.html#cb156-5"></a>    <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(position)) <span class="kw">sprintf</span>(<span class="st">&quot; bg-%s&quot;</span>, position),</span>
<span id="cb156-6"><a href="13-2-design-the-page-layout.html#cb156-6"></a>    <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(color)) <span class="kw">sprintf</span>(<span class="st">&quot; bg-%s&quot;</span>, color),</span>
<span id="cb156-7"><a href="13-2-design-the-page-layout.html#cb156-7"></a>    <span class="cf">if</span> (bookmark) <span class="st">&quot; ribbon-bookmark&quot;</span></span>
<span id="cb156-8"><a href="13-2-design-the-page-layout.html#cb156-8"></a>  )</span>
<span id="cb156-9"><a href="13-2-design-the-page-layout.html#cb156-9"></a>  <span class="kw">div</span>(<span class="dt">class =</span> ribbon_cl, ...)</span>
<span id="cb156-10"><a href="13-2-design-the-page-layout.html#cb156-10"></a>}</span></code></pre></div>
<p>Integrating the freshly created ribbon component requires to modify the card structure since the ribbon is added after the body tag, and not parameter is associated with this slot. We could also modify the <code>tabler_card</code> function but htmltools contains tools to help us. Since the ribbon should be put after the card body (but in the card container), we may think about the <code>tagAppendChild</code> function, introduced in Chapter <a href="7-htmltools-overview.html#htmltools-overview">7</a>:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="13-2-design-the-page-layout.html#cb157-1"></a><span class="co"># add the ribbon to a card</span></span>
<span id="cb157-2"><a href="13-2-design-the-page-layout.html#cb157-2"></a>my_card &lt;-<span class="st"> </span><span class="kw">tabler_card</span>(<span class="dt">title =</span> <span class="st">&quot;Ribbon&quot;</span>, <span class="dt">status =</span> <span class="st">&quot;info&quot;</span>)</span>
<span id="cb157-3"><a href="13-2-design-the-page-layout.html#cb157-3"></a></span>
<span id="cb157-4"><a href="13-2-design-the-page-layout.html#cb157-4"></a><span class="kw">str</span>(my_card)</span></code></pre></div>
<pre><code>## List of 3
##  $ name    : chr &quot;div&quot;
##  $ attribs :List of 1
##   ..$ class: chr &quot;col-md-6&quot;
##  $ children:List of 1
##   ..$ :List of 3
##   .. ..$ name    : chr &quot;div&quot;
##   .. ..$ attribs :List of 1
##   .. .. ..$ class: chr &quot;card&quot;
##   .. ..$ children:List of 2
##   .. .. ..$ :List of 3
##   .. .. .. ..$ name    : chr &quot;div&quot;
##   .. .. .. ..$ attribs :List of 1
##   .. .. .. .. ..$ class: chr &quot;card-status-top bg-info&quot;
##   .. .. .. ..$ children: list()
##   .. .. .. ..- attr(*, &quot;class&quot;)= chr &quot;shiny.tag&quot;
##   .. .. ..$ :List of 3
##   .. .. .. ..$ name    : chr &quot;div&quot;
##   .. .. .. ..$ attribs :List of 1
##   .. .. .. .. ..$ class: chr &quot;card-body&quot;
##   .. .. .. ..$ children:List of 1
##   .. .. .. .. ..$ :List of 3
##   .. .. .. .. .. ..$ name    : chr &quot;h3&quot;
##   .. .. .. .. .. ..$ attribs :List of 1
##   .. .. .. .. .. .. ..$ class: chr &quot;card-title&quot;
##   .. .. .. .. .. ..$ children:List of 1
##   .. .. .. .. .. .. ..$ : chr &quot;Ribbon&quot;
##   .. .. .. .. .. ..- attr(*, &quot;class&quot;)= chr &quot;shiny.tag&quot;
##   .. .. .. ..- attr(*, &quot;class&quot;)= chr &quot;shiny.tag&quot;
##   .. ..- attr(*, &quot;class&quot;)= chr &quot;shiny.tag&quot;
##  - attr(*, &quot;class&quot;)= chr &quot;shiny.tag&quot;</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="13-2-design-the-page-layout.html#cb159-1"></a>my_card<span class="op">$</span>children[[<span class="dv">1</span>]] &lt;-<span class="st"> </span>my_card<span class="op">$</span>children[[<span class="dv">1</span>]] <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb159-2"><a href="13-2-design-the-page-layout.html#cb159-2"></a><span class="st">  </span><span class="kw">tagAppendChild</span>(</span>
<span id="cb159-3"><a href="13-2-design-the-page-layout.html#cb159-3"></a>    <span class="kw">tabler_ribbon</span>(</span>
<span id="cb159-4"><a href="13-2-design-the-page-layout.html#cb159-4"></a>      <span class="kw">icon</span>(<span class="st">&quot;info-circle&quot;</span>, <span class="dt">class =</span> <span class="st">&quot;fa-lg&quot;</span>), </span>
<span id="cb159-5"><a href="13-2-design-the-page-layout.html#cb159-5"></a>      <span class="dt">bookmark =</span> <span class="ot">TRUE</span>,</span>
<span id="cb159-6"><a href="13-2-design-the-page-layout.html#cb159-6"></a>      <span class="dt">color =</span> <span class="st">&quot;red&quot;</span></span>
<span id="cb159-7"><a href="13-2-design-the-page-layout.html#cb159-7"></a>    )</span>
<span id="cb159-8"><a href="13-2-design-the-page-layout.html#cb159-8"></a>  )</span></code></pre></div>
<p>As shown above, the ribbon has been successfuly included in the card tag. Now, we check how it looks in a shiny app.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="13-2-design-the-page-layout.html#cb160-1"></a>ui &lt;-<span class="st"> </span><span class="kw">tabler_page</span>(</span>
<span id="cb160-2"><a href="13-2-design-the-page-layout.html#cb160-2"></a>  <span class="kw">tabler_body</span>(</span>
<span id="cb160-3"><a href="13-2-design-the-page-layout.html#cb160-3"></a>    my_card</span>
<span id="cb160-4"><a href="13-2-design-the-page-layout.html#cb160-4"></a>  )</span>
<span id="cb160-5"><a href="13-2-design-the-page-layout.html#cb160-5"></a>)</span>
<span id="cb160-6"><a href="13-2-design-the-page-layout.html#cb160-6"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output) {}</span>
<span id="cb160-7"><a href="13-2-design-the-page-layout.html#cb160-7"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>
<div class="figure"><span id="fig:tabler-ribbon"></span>
<img src="images/practice/tabler-ribbon.png" alt="Tabler ribbon component" width="273" />
<p class="caption">
FIGURE 13.6: Tabler ribbon component
</p>
</div>
</div>
<div id="icons" class="section level3">
<h3><span class="header-section-number">13.2.7</span> Icons</h3>
<p>Not mentionned before but we may include fontawesome icons provided with Shiny, as well as other libraries. Moreover, Tabler has a internal svg library located <a href="https://preview-dev.tabler.io/icons.html">here</a>.</p>
</div>
</div>
<p style="text-align: center;">
<a href="13-1-identify-template-elements.html"><button class="btn btn-default">Previous</button></a>
<a href="13-3-exercises.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
