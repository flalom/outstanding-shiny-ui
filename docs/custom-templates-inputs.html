<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 15 Develop custom input widgets | Outstanding User Interfaces with Shiny</title>
  <meta name="description" content="This book will serve as content for the 2020 erum workshop." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 15 Develop custom input widgets | Outstanding User Interfaces with Shiny" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book will serve as content for the 2020 erum workshop." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 15 Develop custom input widgets | Outstanding User Interfaces with Shiny" />
  
  <meta name="twitter:description" content="This book will serve as content for the 2020 erum workshop." />
  

<meta name="author" content="David Granjon" />


<meta name="date" content="2020-08-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="custom-templates-testing.html"/>
<link rel="next" href="custom-templates-interactivity.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Outstanding User Interfaces with Shiny</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prerequisites</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#disclaimer"><i class="fa fa-check"></i>Disclaimer</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#is-this-book-for-me"><i class="fa fa-check"></i>Is this book for me?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#related-content"><i class="fa fa-check"></i>Related content</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#packages"><i class="fa fa-check"></i>Packages</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#about-the-code"><i class="fa fa-check"></i><b>1.1</b> About the code</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#preliminary-exercices"><i class="fa fa-check"></i><b>1.2</b> Preliminary exercices</a></li>
</ul></li>
<li class="part"><span><b>Survival Kit</b></span></li>
<li class="chapter" data-level="2" data-path="survival-kit-html.html"><a href="survival-kit-html.html"><i class="fa fa-check"></i><b>2</b> HTML</a><ul>
<li class="chapter" data-level="2.1" data-path="survival-kit-html.html"><a href="survival-kit-html.html#html-basics"><i class="fa fa-check"></i><b>2.1</b> HTML Basics</a></li>
<li class="chapter" data-level="2.2" data-path="survival-kit-html.html"><a href="survival-kit-html.html#tag-attributes"><i class="fa fa-check"></i><b>2.2</b> Tag attributes</a></li>
<li class="chapter" data-level="2.3" data-path="survival-kit-html.html"><a href="survival-kit-html.html#html-page-skeleton"><i class="fa fa-check"></i><b>2.3</b> HTML page: skeleton</a></li>
<li class="chapter" data-level="2.4" data-path="survival-kit-html.html"><a href="survival-kit-html.html#about-the-document-object-model-dom"><i class="fa fa-check"></i><b>2.4</b> About the Document Object Model (DOM)</a><ul>
<li class="chapter" data-level="2.4.1" data-path="survival-kit-html.html"><a href="survival-kit-html.html#visualizing-the-dom-the-html-inspector"><i class="fa fa-check"></i><b>2.4.1</b> Visualizing the DOM: the HTML inspector</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="survival-kit-html.html"><a href="survival-kit-html.html#preliminary-introduction-to-css-and-javascript"><i class="fa fa-check"></i><b>2.5</b> Preliminary introduction to CSS and JavaScript</a><ul>
<li class="chapter" data-level="2.5.1" data-path="survival-kit-html.html"><a href="survival-kit-html.html#html-and-css"><i class="fa fa-check"></i><b>2.5.1</b> HTML and CSS</a></li>
<li class="chapter" data-level="2.5.2" data-path="survival-kit-html.html"><a href="survival-kit-html.html#html-and-javascript"><i class="fa fa-check"></i><b>2.5.2</b> HTML and JavaScript</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html"><i class="fa fa-check"></i><b>3</b> JavaScript</a><ul>
<li class="chapter" data-level="3.1" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#introduction"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#setup"><i class="fa fa-check"></i><b>3.2</b> Setup</a><ul>
<li class="chapter" data-level="3.2.1" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#node"><i class="fa fa-check"></i><b>3.2.1</b> Node</a></li>
<li class="chapter" data-level="3.2.2" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#choose-a-good-ide"><i class="fa fa-check"></i><b>3.2.2</b> Choose a good IDE</a></li>
<li class="chapter" data-level="3.2.3" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#first-script"><i class="fa fa-check"></i><b>3.2.3</b> First Script</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#programming-with-js-basis"><i class="fa fa-check"></i><b>3.3</b> Programming with JS: basis</a><ul>
<li class="chapter" data-level="3.3.1" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#js-types"><i class="fa fa-check"></i><b>3.3.1</b> JS types</a></li>
<li class="chapter" data-level="3.3.2" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#variables"><i class="fa fa-check"></i><b>3.3.2</b> Variables</a></li>
<li class="chapter" data-level="3.3.3" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#conditions"><i class="fa fa-check"></i><b>3.3.3</b> Conditions</a></li>
<li class="chapter" data-level="3.3.4" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#objects"><i class="fa fa-check"></i><b>3.3.4</b> Objects</a></li>
<li class="chapter" data-level="3.3.5" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#iterations"><i class="fa fa-check"></i><b>3.3.5</b> Iterations</a></li>
<li class="chapter" data-level="3.3.6" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#functions"><i class="fa fa-check"></i><b>3.3.6</b> Functions</a></li>
<li class="chapter" data-level="3.3.7" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#event-listeners"><i class="fa fa-check"></i><b>3.3.7</b> Event listeners</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#jquery"><i class="fa fa-check"></i><b>3.4</b> jQuery</a><ul>
<li class="chapter" data-level="3.4.1" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#introduction-1"><i class="fa fa-check"></i><b>3.4.1</b> Introduction</a></li>
<li class="chapter" data-level="3.4.2" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#syntax"><i class="fa fa-check"></i><b>3.4.2</b> Syntax</a></li>
<li class="chapter" data-level="3.4.3" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#useful-functions"><i class="fa fa-check"></i><b>3.4.3</b> Useful functions</a></li>
<li class="chapter" data-level="3.4.4" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#chaining-jquery-methods"><i class="fa fa-check"></i><b>3.4.4</b> Chaining jQuery methods</a></li>
<li class="chapter" data-level="3.4.5" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#iterations-1"><i class="fa fa-check"></i><b>3.4.5</b> Iterations</a></li>
<li class="chapter" data-level="3.4.6" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#good-practice"><i class="fa fa-check"></i><b>3.4.6</b> Good practice</a></li>
<li class="chapter" data-level="3.4.7" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#events"><i class="fa fa-check"></i><b>3.4.7</b> Events</a></li>
<li class="chapter" data-level="3.4.8" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#extending-objects"><i class="fa fa-check"></i><b>3.4.8</b> Extending objects</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Shiny: What’s under the Hood?</b></span></li>
<li class="chapter" data-level="4" data-path="shiny-intro.html"><a href="shiny-intro.html"><i class="fa fa-check"></i><b>4</b> Introduction</a><ul>
<li class="chapter" data-level="4.1" data-path="shiny-intro.html"><a href="shiny-intro.html#shiny-html-css-and-javascript"><i class="fa fa-check"></i><b>4.1</b> Shiny, HTML, CSS and JavaScript</a></li>
<li class="chapter" data-level="4.2" data-path="shiny-intro.html"><a href="shiny-intro.html#shiny-websocket"><i class="fa fa-check"></i><b>4.2</b> Websocket: R/JS bidirectional communication</a></li>
<li class="chapter" data-level="4.3" data-path="shiny-intro.html"><a href="shiny-intro.html#shiny-session"><i class="fa fa-check"></i><b>4.3</b> The Shiny session object</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="shiny-input-system.html"><a href="shiny-input-system.html"><i class="fa fa-check"></i><b>5</b> Shiny’s input system</a><ul>
<li class="chapter" data-level="5.1" data-path="shiny-input-system.html"><a href="shiny-input-system.html#shiny-javascript-sources"><i class="fa fa-check"></i><b>5.1</b> Shiny JavaScript sources</a></li>
<li class="chapter" data-level="5.2" data-path="shiny-input-system.html"><a href="shiny-input-system.html#the-shiny-javascript-object"><i class="fa fa-check"></i><b>5.2</b> The Shiny JavaScript object</a></li>
<li class="chapter" data-level="5.3" data-path="shiny-input-system.html"><a href="shiny-input-system.html#initialization"><i class="fa fa-check"></i><b>5.3</b> Initialization</a></li>
<li class="chapter" data-level="5.4" data-path="shiny-input-system.html"><a href="shiny-input-system.html#input-bindings"><i class="fa fa-check"></i><b>5.4</b> Input bindings</a><ul>
<li class="chapter" data-level="5.4.1" data-path="shiny-input-system.html"><a href="shiny-input-system.html#input-structure"><i class="fa fa-check"></i><b>5.4.1</b> Input structure</a></li>
<li class="chapter" data-level="5.4.2" data-path="shiny-input-system.html"><a href="shiny-input-system.html#binding-shiny-inputs"><i class="fa fa-check"></i><b>5.4.2</b> Binding Shiny inputs</a></li>
<li class="chapter" data-level="5.4.3" data-path="shiny-input-system.html"><a href="shiny-input-system.html#binding-other-elements"><i class="fa fa-check"></i><b>5.4.3</b> Binding other elements</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="shiny-input-system.html"><a href="shiny-input-system.html#utilities-to-quickly-define-new-inputs"><i class="fa fa-check"></i><b>5.5</b> Utilities to quickly define new inputs</a><ul>
<li class="chapter" data-level="5.5.1" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#introduction"><i class="fa fa-check"></i><b>5.5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.5.2" data-path="shiny-input-system.html"><a href="shiny-input-system.html#examples"><i class="fa fa-check"></i><b>5.5.2</b> Examples</a></li>
<li class="chapter" data-level="5.5.3" data-path="shiny-input-system.html"><a href="shiny-input-system.html#custom-data-format"><i class="fa fa-check"></i><b>5.5.3</b> Custom data format</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="shiny-input-system.html"><a href="shiny-input-system.html#miscellaneous"><i class="fa fa-check"></i><b>5.6</b> Miscellaneous</a><ul>
<li class="chapter" data-level="5.6.1" data-path="shiny-input-system.html"><a href="shiny-input-system.html#get-access-to-initial-values"><i class="fa fa-check"></i><b>5.6.1</b> Get access to initial values</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="shiny-custom-handler.html"><a href="shiny-custom-handler.html"><i class="fa fa-check"></i><b>6</b> Custom handlers: from R to JavaScript</a></li>
<li class="part"><span><b>htmltools</b></span></li>
<li class="chapter" data-level="7" data-path="htmltools-overview.html"><a href="htmltools-overview.html"><i class="fa fa-check"></i><b>7</b> htmltools overview</a><ul>
<li class="chapter" data-level="7.1" data-path="htmltools-overview.html"><a href="htmltools-overview.html#html-tags"><i class="fa fa-check"></i><b>7.1</b> HTML Tags</a></li>
<li class="chapter" data-level="7.2" data-path="htmltools-overview.html"><a href="htmltools-overview.html#notations"><i class="fa fa-check"></i><b>7.2</b> Notations</a></li>
<li class="chapter" data-level="7.3" data-path="htmltools-overview.html"><a href="htmltools-overview.html#adding-new-tags"><i class="fa fa-check"></i><b>7.3</b> Adding new tags</a></li>
<li class="chapter" data-level="7.4" data-path="htmltools-overview.html"><a href="htmltools-overview.html#alternative-way-to-write-tags"><i class="fa fa-check"></i><b>7.4</b> Alternative way to write tags</a></li>
<li class="chapter" data-level="7.5" data-path="htmltools-overview.html"><a href="htmltools-overview.html#playing-with-tags"><i class="fa fa-check"></i><b>7.5</b> Playing with tags</a><ul>
<li class="chapter" data-level="7.5.1" data-path="htmltools-overview.html"><a href="htmltools-overview.html#tags-structure"><i class="fa fa-check"></i><b>7.5.1</b> Tags structure</a></li>
<li class="chapter" data-level="7.5.2" data-path="htmltools-overview.html"><a href="htmltools-overview.html#useful-functions-for-tags"><i class="fa fa-check"></i><b>7.5.2</b> Useful functions for tags</a></li>
<li class="chapter" data-level="7.5.3" data-path="htmltools-overview.html"><a href="htmltools-overview.html#other-interesting-functions"><i class="fa fa-check"></i><b>7.5.3</b> Other interesting functions</a></li>
<li class="chapter" data-level="7.5.4" data-path="htmltools-overview.html"><a href="htmltools-overview.html#conditionally-set-attributes"><i class="fa fa-check"></i><b>7.5.4</b> Conditionally set attributes</a></li>
<li class="chapter" data-level="7.5.5" data-path="htmltools-overview.html"><a href="htmltools-overview.html#using"><i class="fa fa-check"></i><b>7.5.5</b> Using %&gt;%</a></li>
<li class="chapter" data-level="7.5.6" data-path="htmltools-overview.html"><a href="htmltools-overview.html#programmatically-create-children-elements"><i class="fa fa-check"></i><b>7.5.6</b> Programmatically create children elements</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="htmltools-dependencies.html"><a href="htmltools-dependencies.html"><i class="fa fa-check"></i><b>8</b> Dependency utilities</a><ul>
<li class="chapter" data-level="8.1" data-path="htmltools-dependencies.html"><a href="htmltools-dependencies.html#the-dirty-approach"><i class="fa fa-check"></i><b>8.1</b> The dirty approach</a></li>
<li class="chapter" data-level="8.2" data-path="htmltools-dependencies.html"><a href="htmltools-dependencies.html#the-clean-approach"><i class="fa fa-check"></i><b>8.2</b> The clean approach</a></li>
<li class="chapter" data-level="8.3" data-path="htmltools-dependencies.html"><a href="htmltools-dependencies.html#another-example-importing-html-dependencies-from-other-packages"><i class="fa fa-check"></i><b>8.3</b> Another example: Importing HTML dependencies from other packages</a></li>
<li class="chapter" data-level="8.4" data-path="htmltools-dependencies.html"><a href="htmltools-dependencies.html#suppress-dependencies"><i class="fa fa-check"></i><b>8.4</b> Suppress dependencies</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="htmltools-other-tools.html"><a href="htmltools-other-tools.html"><i class="fa fa-check"></i><b>9</b> Other tools</a><ul>
<li class="chapter" data-level="9.1" data-path="htmltools-other-tools.html"><a href="htmltools-other-tools.html#css"><i class="fa fa-check"></i><b>9.1</b> CSS</a></li>
</ul></li>
<li class="part"><span><b>Practice 1: a dashboard template</b></span></li>
<li class="chapter" data-level="10" data-path="custom-templates-selection.html"><a href="custom-templates-selection.html"><i class="fa fa-check"></i><b>10</b> Template selection</a></li>
<li class="chapter" data-level="11" data-path="custom-templates-package.html"><a href="custom-templates-package.html"><i class="fa fa-check"></i><b>11</b> Package creation</a><ul>
<li class="chapter" data-level="11.1" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#introduction"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="custom-templates-package.html"><a href="custom-templates-package.html#step-by-step"><i class="fa fa-check"></i><b>11.2</b> Step by step</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="custom-templates-dependencies.html"><a href="custom-templates-dependencies.html"><i class="fa fa-check"></i><b>12</b> Define dependencies</a><ul>
<li class="chapter" data-level="12.1" data-path="custom-templates-dependencies.html"><a href="custom-templates-dependencies.html#discover-the-project"><i class="fa fa-check"></i><b>12.1</b> Discover the project</a></li>
<li class="chapter" data-level="12.2" data-path="custom-templates-dependencies.html"><a href="custom-templates-dependencies.html#identify-mandatory-dependencies"><i class="fa fa-check"></i><b>12.2</b> Identify mandatory dependencies</a></li>
<li class="chapter" data-level="12.3" data-path="custom-templates-dependencies.html"><a href="custom-templates-dependencies.html#bundle-dependencies"><i class="fa fa-check"></i><b>12.3</b> Bundle dependencies</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html"><i class="fa fa-check"></i><b>13</b> Template skeleton</a><ul>
<li class="chapter" data-level="13.1" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#identify-template-elements"><i class="fa fa-check"></i><b>13.1</b> Identify template elements</a></li>
<li class="chapter" data-level="13.2" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#design-the-page-layout"><i class="fa fa-check"></i><b>13.2</b> Design the page layout</a><ul>
<li class="chapter" data-level="13.2.1" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#the-page-wrapper"><i class="fa fa-check"></i><b>13.2.1</b> The page wrapper</a></li>
<li class="chapter" data-level="13.2.2" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#the-body-content"><i class="fa fa-check"></i><b>13.2.2</b> The body content</a></li>
<li class="chapter" data-level="13.2.3" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#the-footer"><i class="fa fa-check"></i><b>13.2.3</b> The footer</a></li>
<li class="chapter" data-level="13.2.4" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#the-navbar-or-header"><i class="fa fa-check"></i><b>13.2.4</b> The navbar (or header)</a></li>
<li class="chapter" data-level="13.2.5" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#card-containers"><i class="fa fa-check"></i><b>13.2.5</b> Card containers</a></li>
<li class="chapter" data-level="13.2.6" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#ribbons-card-components"><i class="fa fa-check"></i><b>13.2.6</b> Ribbons: card components</a></li>
<li class="chapter" data-level="13.2.7" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#icons"><i class="fa fa-check"></i><b>13.2.7</b> Icons</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#exercises"><i class="fa fa-check"></i><b>13.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html"><i class="fa fa-check"></i><b>14</b> Testing and validating templates elements</a><ul>
<li class="chapter" data-level="14.1" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html#validate-template-functions"><i class="fa fa-check"></i><b>14.1</b> Validate template functions</a><ul>
<li class="chapter" data-level="14.1.1" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html#create-your-own-validations"><i class="fa fa-check"></i><b>14.1.1</b> Create your own validations</a></li>
<li class="chapter" data-level="14.1.2" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html#existing-utils-functions"><i class="fa fa-check"></i><b>14.1.2</b> Existing utils functions</a></li>
<li class="chapter" data-level="14.1.3" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html#example-refine-navbar-menu-items"><i class="fa fa-check"></i><b>14.1.3</b> Example: refine navbar menu items</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html#testing-templates-elements"><i class="fa fa-check"></i><b>14.2</b> Testing templates elements</a><ul>
<li class="chapter" data-level="14.2.1" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html#testing-template-behavior"><i class="fa fa-check"></i><b>14.2.1</b> Testing template behavior</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html#testing-javascript"><i class="fa fa-check"></i><b>14.3</b> Testing JavaScript</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="custom-templates-inputs.html"><a href="custom-templates-inputs.html"><i class="fa fa-check"></i><b>15</b> Develop custom input widgets</a><ul>
<li class="chapter" data-level="15.1" data-path="custom-templates-inputs.html"><a href="custom-templates-inputs.html#tabler-action-button"><i class="fa fa-check"></i><b>15.1</b> Tabler action button</a><ul>
<li class="chapter" data-level="15.1.1" data-path="custom-templates-inputs.html"><a href="custom-templates-inputs.html#reminders-about-the-action-button"><i class="fa fa-check"></i><b>15.1.1</b> Reminders about the action button</a></li>
<li class="chapter" data-level="15.1.2" data-path="custom-templates-inputs.html"><a href="custom-templates-inputs.html#application-to-tabler"><i class="fa fa-check"></i><b>15.1.2</b> Application to Tabler</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="custom-templates-inputs.html"><a href="custom-templates-inputs.html#toggle-switch"><i class="fa fa-check"></i><b>15.2</b> Toggle Switch</a></li>
<li class="chapter" data-level="15.3" data-path="custom-templates-inputs.html"><a href="custom-templates-inputs.html#navbar-menu-input"><i class="fa fa-check"></i><b>15.3</b> Navbar menu input</a></li>
<li class="chapter" data-level="15.4" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#exercises"><i class="fa fa-check"></i><b>15.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html"><i class="fa fa-check"></i><b>16</b> Adding more interactivity</a><ul>
<li class="chapter" data-level="16.1" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#custom-progress-bars"><i class="fa fa-check"></i><b>16.1</b> Custom progress bars</a></li>
<li class="chapter" data-level="16.2" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#user-feedback-toasts"><i class="fa fa-check"></i><b>16.2</b> User feedback: toasts</a><ul>
<li class="chapter" data-level="16.2.1" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#toast-skeleton"><i class="fa fa-check"></i><b>16.2.1</b> Toast skeleton</a></li>
<li class="chapter" data-level="16.2.2" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#the-toast-api"><i class="fa fa-check"></i><b>16.2.2</b> The toast API</a></li>
<li class="chapter" data-level="16.2.3" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#r-implementation"><i class="fa fa-check"></i><b>16.2.3</b> R implementation</a></li>
<li class="chapter" data-level="16.2.4" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#wrap-up"><i class="fa fa-check"></i><b>16.2.4</b> Wrap up</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#transform-an-element-in-a-custom-action-button"><i class="fa fa-check"></i><b>16.3</b> Transform an element in a custom action button</a></li>
<li class="chapter" data-level="16.4" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#tab-events"><i class="fa fa-check"></i><b>16.4</b> Tab events</a><ul>
<li class="chapter" data-level="16.4.1" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#insert-tabs"><i class="fa fa-check"></i><b>16.4.1</b> Insert/Remove tabs in tabsetpanel</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#exercises"><i class="fa fa-check"></i><b>16.5</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>Beautify with CSS and SASS</b></span></li>
<li class="chapter" data-level="17" data-path="beautify-with-fresh.html"><a href="beautify-with-fresh.html"><i class="fa fa-check"></i><b>17</b> Beautify with fresh</a><ul>
<li class="chapter" data-level="17.1" data-path="beautify-with-fresh.html"><a href="beautify-with-fresh.html#fresh-the-big-picture"><i class="fa fa-check"></i><b>17.1</b> {fresh}, the big picture</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Outstanding User Interfaces with Shiny</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="custom-templates-inputs" class="section level1">
<h1><span class="header-section-number">Chapter 15</span> Develop custom input widgets</h1>
<p>In the previous chapter, we built template dependencies, the page skeleton, as well as containers like cards. However, it would be nice to customize user interactions by integrating new inputs. In this chapter, we will apply knowledge from Chapter <a href="shiny-input-system.html#shiny-input-system">5</a> about creating new Shiny input.</p>
<div id="tabler-action-button" class="section level2">
<h2><span class="header-section-number">15.1</span> Tabler action button</h2>
<p>Let’s start with a simple input: the action button. Tabler has built-in HTML buttons with a substantial amount of custom styles, compared to the classic Shiny action button.</p>
<div id="reminders-about-the-action-button" class="section level3">
<h3><span class="header-section-number">15.1.1</span> Reminders about the action button</h3>
<p>Below is the code of the <code>actionButton</code> input.</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="custom-templates-inputs.html#cb212-1"></a>actionButton &lt;-<span class="st"> </span><span class="cf">function</span> (inputId, label, <span class="dt">icon =</span> <span class="ot">NULL</span>, <span class="dt">width =</span> <span class="ot">NULL</span>, ...)  {</span>
<span id="cb212-2"><a href="custom-templates-inputs.html#cb212-2"></a>  value &lt;-<span class="st"> </span><span class="kw">restoreInput</span>(<span class="dt">id =</span> inputId, <span class="dt">default =</span> <span class="ot">NULL</span>)</span>
<span id="cb212-3"><a href="custom-templates-inputs.html#cb212-3"></a>  tags<span class="op">$</span><span class="kw">button</span>(</span>
<span id="cb212-4"><a href="custom-templates-inputs.html#cb212-4"></a>    <span class="dt">id =</span> inputId, </span>
<span id="cb212-5"><a href="custom-templates-inputs.html#cb212-5"></a>    <span class="dt">style =</span> <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(width)) <span class="kw">paste0</span>(<span class="st">&quot;width: &quot;</span>, <span class="kw">validateCssUnit</span>(width), <span class="st">&quot;;&quot;</span>), </span>
<span id="cb212-6"><a href="custom-templates-inputs.html#cb212-6"></a>    <span class="dt">type =</span> <span class="st">&quot;button&quot;</span>, </span>
<span id="cb212-7"><a href="custom-templates-inputs.html#cb212-7"></a>    <span class="dt">class =</span> <span class="st">&quot;btn btn-default action-button&quot;</span>, </span>
<span id="cb212-8"><a href="custom-templates-inputs.html#cb212-8"></a>    <span class="st">`</span><span class="dt">data-val</span><span class="st">`</span> =<span class="st"> </span>value, </span>
<span id="cb212-9"><a href="custom-templates-inputs.html#cb212-9"></a>    <span class="kw">list</span>(<span class="kw">validateIcon</span>(icon), label), ...</span>
<span id="cb212-10"><a href="custom-templates-inputs.html#cb212-10"></a>  )</span>
<span id="cb212-11"><a href="custom-templates-inputs.html#cb212-11"></a>}</span></code></pre></div>
<p>The button tag has some attributes: id, style, type, class, <code>data-val</code>, label and children passed via <code>...</code></p>
<p>When the app starts, the action button has the value 0 and each click will increment its value by 1. How is this behaviour created? For each Shiny input element (radio, slider), there is an associated JavaScript file, called input binding, which you can find <a href="https://github.com/rstudio/shiny/tree/master/srcjs">here</a>. In our case, we are only interested in the action button binding:</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb213-1"><a href="custom-templates-inputs.html#cb213-1"></a><span class="kw">var</span> actionButtonInputBinding <span class="op">=</span> <span class="kw">new</span> <span class="at">InputBinding</span>()<span class="op">;</span></span>
<span id="cb213-2"><a href="custom-templates-inputs.html#cb213-2"></a><span class="va">$</span>.<span class="at">extend</span>(actionButtonInputBinding<span class="op">,</span> <span class="op">{</span></span>
<span id="cb213-3"><a href="custom-templates-inputs.html#cb213-3"></a>  <span class="dt">find</span><span class="op">:</span> <span class="kw">function</span>(scope) <span class="op">{</span></span>
<span id="cb213-4"><a href="custom-templates-inputs.html#cb213-4"></a>    <span class="cf">return</span> <span class="at">$</span>(scope).<span class="at">find</span>(<span class="st">&quot;.action-button&quot;</span>)<span class="op">;</span></span>
<span id="cb213-5"><a href="custom-templates-inputs.html#cb213-5"></a>  <span class="op">},</span></span>
<span id="cb213-6"><a href="custom-templates-inputs.html#cb213-6"></a>  <span class="dt">getValue</span><span class="op">:</span> <span class="kw">function</span>(el) <span class="op">{</span></span>
<span id="cb213-7"><a href="custom-templates-inputs.html#cb213-7"></a>    <span class="cf">return</span> <span class="at">$</span>(el).<span class="at">data</span>(<span class="st">&#39;val&#39;</span>) <span class="op">||</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb213-8"><a href="custom-templates-inputs.html#cb213-8"></a>  <span class="op">},</span></span>
<span id="cb213-9"><a href="custom-templates-inputs.html#cb213-9"></a>  <span class="co">// ... other methods</span></span>
<span id="cb213-10"><a href="custom-templates-inputs.html#cb213-10"></a><span class="op">}</span>)<span class="op">;</span></span></code></pre></div>
<p>What you see above is <strong>not</strong> the whole script since we focus on the first method, that is <code>find</code>. It will look for <strong>all</strong> elements having the class <code>action-button</code>, making it possible to define multiple action buttons at the same time.</p>
<p>Consequently, if we go back to the previous section, the <code>actionButton</code> has the class <code>action-button</code>, thereby making it visible to the binding. Interestingly, all elements having the class <code>action-button</code> will be considered by the same shiny input binding.</p>
</div>
<div id="application-to-tabler" class="section level3">
<h3><span class="header-section-number">15.1.2</span> Application to Tabler</h3>
<p>First of all, let’s compare the tabler HTML button to the Shiny action button.</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb214-1"><a href="custom-templates-inputs.html#cb214-1"></a><span class="kw">&lt;button</span><span class="ot"> class=</span><span class="st">&quot;btn btn-primary&quot;</span><span class="kw">&gt;</span>Button<span class="kw">&lt;/button&gt;</span></span></code></pre></div>
<p>We convert it to R. The button API contains more style and leave the reader to add extra elements as an exercise.</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="custom-templates-inputs.html#cb215-1"></a>tabler_button &lt;-<span class="st"> </span><span class="cf">function</span>(inputId, label, <span class="dt">status =</span> <span class="ot">NULL</span>, <span class="dt">icon =</span> <span class="ot">NULL</span>, <span class="dt">width =</span> <span class="ot">NULL</span>, ...) {</span>
<span id="cb215-2"><a href="custom-templates-inputs.html#cb215-2"></a>  </span>
<span id="cb215-3"><a href="custom-templates-inputs.html#cb215-3"></a>  btn_cl &lt;-<span class="st"> </span><span class="kw">paste0</span>(</span>
<span id="cb215-4"><a href="custom-templates-inputs.html#cb215-4"></a>    <span class="st">&quot;btn action-button&quot;</span>,</span>
<span id="cb215-5"><a href="custom-templates-inputs.html#cb215-5"></a>    <span class="cf">if</span> (<span class="kw">is.null</span>(status)) {</span>
<span id="cb215-6"><a href="custom-templates-inputs.html#cb215-6"></a>      <span class="st">&quot; btn-primary&quot;</span></span>
<span id="cb215-7"><a href="custom-templates-inputs.html#cb215-7"></a>    } <span class="cf">else</span> {</span>
<span id="cb215-8"><a href="custom-templates-inputs.html#cb215-8"></a>      <span class="kw">paste0</span>(<span class="st">&quot; btn-&quot;</span>, status)</span>
<span id="cb215-9"><a href="custom-templates-inputs.html#cb215-9"></a>    }</span>
<span id="cb215-10"><a href="custom-templates-inputs.html#cb215-10"></a>  )</span>
<span id="cb215-11"><a href="custom-templates-inputs.html#cb215-11"></a>  </span>
<span id="cb215-12"><a href="custom-templates-inputs.html#cb215-12"></a>  value &lt;-<span class="st"> </span><span class="kw">restoreInput</span>(<span class="dt">id =</span> inputId, <span class="dt">default =</span> <span class="ot">NULL</span>)</span>
<span id="cb215-13"><a href="custom-templates-inputs.html#cb215-13"></a>  </span>
<span id="cb215-14"><a href="custom-templates-inputs.html#cb215-14"></a>  <span class="co"># custom right margin</span></span>
<span id="cb215-15"><a href="custom-templates-inputs.html#cb215-15"></a>  <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(icon)) icon<span class="op">$</span>attribs<span class="op">$</span>class &lt;-<span class="st"> </span><span class="kw">paste0</span>(</span>
<span id="cb215-16"><a href="custom-templates-inputs.html#cb215-16"></a>    icon<span class="op">$</span>attribs<span class="op">$</span>class, <span class="st">&quot; mr-1&quot;</span></span>
<span id="cb215-17"><a href="custom-templates-inputs.html#cb215-17"></a>  )</span>
<span id="cb215-18"><a href="custom-templates-inputs.html#cb215-18"></a>  </span>
<span id="cb215-19"><a href="custom-templates-inputs.html#cb215-19"></a>  tags<span class="op">$</span><span class="kw">button</span>(</span>
<span id="cb215-20"><a href="custom-templates-inputs.html#cb215-20"></a>    <span class="dt">id =</span> inputId, </span>
<span id="cb215-21"><a href="custom-templates-inputs.html#cb215-21"></a>    <span class="dt">style =</span> <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(width)) <span class="kw">paste0</span>(<span class="st">&quot;width: &quot;</span>, <span class="kw">validateCssUnit</span>(width), <span class="st">&quot;;&quot;</span>), </span>
<span id="cb215-22"><a href="custom-templates-inputs.html#cb215-22"></a>    <span class="dt">type =</span> <span class="st">&quot;button&quot;</span>, </span>
<span id="cb215-23"><a href="custom-templates-inputs.html#cb215-23"></a>    <span class="dt">class =</span> btn_cl, </span>
<span id="cb215-24"><a href="custom-templates-inputs.html#cb215-24"></a>    <span class="st">`</span><span class="dt">data-val</span><span class="st">`</span> =<span class="st"> </span>value, </span>
<span id="cb215-25"><a href="custom-templates-inputs.html#cb215-25"></a>    <span class="kw">list</span>(icon, label), ...</span>
<span id="cb215-26"><a href="custom-templates-inputs.html#cb215-26"></a>  )</span>
<span id="cb215-27"><a href="custom-templates-inputs.html#cb215-27"></a>}</span></code></pre></div>
<p>In Tabler, the button status is mandatory, which is the reason why it is a parameter of the function. Moreover, we need to add an horizontal right margin to the icon, if provided so that the label renders well (<code>mr-1</code>, where m stands for margin, r is the right direction and 1 is the margin value). We assume that by default, the button wil have a blue color, that is given by <code>btn-primary</code>.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="custom-templates-inputs.html#cb216-1"></a>ui &lt;-<span class="st"> </span><span class="kw">tabler_page</span>(</span>
<span id="cb216-2"><a href="custom-templates-inputs.html#cb216-2"></a>  <span class="kw">tabler_body</span>(</span>
<span id="cb216-3"><a href="custom-templates-inputs.html#cb216-3"></a>    <span class="kw">tabler_button</span>(</span>
<span id="cb216-4"><a href="custom-templates-inputs.html#cb216-4"></a>      <span class="st">&quot;btn&quot;</span>, </span>
<span id="cb216-5"><a href="custom-templates-inputs.html#cb216-5"></a>      <span class="kw">HTML</span>(<span class="kw">paste</span>(<span class="st">&quot;Value&quot;</span>, <span class="kw">textOutput</span>(<span class="st">&quot;val&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot;:&quot;</span>)), </span>
<span id="cb216-6"><a href="custom-templates-inputs.html#cb216-6"></a>      <span class="dt">icon =</span> <span class="kw">icon</span>(<span class="st">&quot;thumbs-up&quot;</span>), </span>
<span id="cb216-7"><a href="custom-templates-inputs.html#cb216-7"></a>      <span class="dt">width =</span> <span class="st">&quot;25%&quot;</span></span>
<span id="cb216-8"><a href="custom-templates-inputs.html#cb216-8"></a>    )</span>
<span id="cb216-9"><a href="custom-templates-inputs.html#cb216-9"></a>  )</span>
<span id="cb216-10"><a href="custom-templates-inputs.html#cb216-10"></a>)</span>
<span id="cb216-11"><a href="custom-templates-inputs.html#cb216-11"></a></span>
<span id="cb216-12"><a href="custom-templates-inputs.html#cb216-12"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output, session) {</span>
<span id="cb216-13"><a href="custom-templates-inputs.html#cb216-13"></a>  output<span class="op">$</span>val &lt;-<span class="st"> </span><span class="kw">renderText</span>(input<span class="op">$</span>btn)</span>
<span id="cb216-14"><a href="custom-templates-inputs.html#cb216-14"></a>}</span>
<span id="cb216-15"><a href="custom-templates-inputs.html#cb216-15"></a></span>
<span id="cb216-16"><a href="custom-templates-inputs.html#cb216-16"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>
<p>We easily check that clicking on the button increments the related input. Thus, one may see how easy it is to implement a custom Tabler input button, built on top of the Shiny action button. The output is shown in Figure <a href="custom-templates-inputs.html#fig:tabler-button">15.1</a>.</p>
<div class="figure"><span id="fig:tabler-button"></span>
<img src="images/practice/tabler-button.png" alt="Tabler action button" width="141" />
<p class="caption">
FIGURE 15.1: Tabler action button
</p>
</div>
<br>
<div class="callout callout-info">
<p>As a general rule, don’t try to reinvent the wheel and see whether any existing Shiny element may be reused/adapted!</p>
</div>
<p><br></p>
</div>
</div>
<div id="toggle-switch" class="section level2">
<h2><span class="header-section-number">15.2</span> Toggle Switch</h2>
<p>We implement the toggle <a href="https://preview-dev.tabler.io/docs/form-elements.html#custom-selectboxes">switch</a> component.</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb217-1"><a href="custom-templates-inputs.html#cb217-1"></a><span class="kw">&lt;label</span><span class="ot"> class=</span><span class="st">&quot;form-check form-switch&quot;</span><span class="kw">&gt;</span></span>
<span id="cb217-2"><a href="custom-templates-inputs.html#cb217-2"></a>  <span class="kw">&lt;input</span><span class="ot"> class=</span><span class="st">&quot;form-check-input&quot;</span><span class="ot"> type=</span><span class="st">&quot;checkbox&quot;</span><span class="ot"> checked</span><span class="kw">&gt;</span></span>
<span id="cb217-3"><a href="custom-templates-inputs.html#cb217-3"></a>  <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;form-check-label&quot;</span><span class="kw">&gt;</span>Option 1<span class="kw">&lt;/span&gt;</span></span>
<span id="cb217-4"><a href="custom-templates-inputs.html#cb217-4"></a><span class="kw">&lt;/label&gt;</span></span></code></pre></div>
<p>Notice that the tabler switch has the checkbox type, which is very similar to the Shiny checkbox (a switch is a checkbox with a different style)</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="custom-templates-inputs.html#cb218-1"></a><span class="kw">checkboxInput</span>(<span class="st">&quot;test&quot;</span>, <span class="st">&quot;Test&quot;</span>, <span class="ot">TRUE</span>)</span></code></pre></div>
<div class="form-group shiny-input-container">
<div class="checkbox">
<label>
<input id="test" type="checkbox" checked="checked"/>
<span>Test</span>
</label>
</div>
</div>
<p>Therefore, we should again be able to build on top of an existing input <a href="https://github.com/rstudio/shiny/blob/master/srcjs/input_binding_checkbox.js">binding</a>. We create the <code>tabler_switch</code> function:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="custom-templates-inputs.html#cb219-1"></a>tabler_switch &lt;-<span class="st"> </span><span class="cf">function</span>(inputId, label, <span class="dt">value =</span> <span class="ot">FALSE</span>, <span class="dt">width =</span> <span class="ot">NULL</span>) {</span>
<span id="cb219-2"><a href="custom-templates-inputs.html#cb219-2"></a>  </span>
<span id="cb219-3"><a href="custom-templates-inputs.html#cb219-3"></a>  value &lt;-<span class="st"> </span><span class="kw">restoreInput</span>(<span class="dt">id =</span> inputId, <span class="dt">default =</span> value)</span>
<span id="cb219-4"><a href="custom-templates-inputs.html#cb219-4"></a>  input_tag &lt;-<span class="st"> </span>tags<span class="op">$</span><span class="kw">input</span>(</span>
<span id="cb219-5"><a href="custom-templates-inputs.html#cb219-5"></a>    <span class="dt">id =</span> inputId, </span>
<span id="cb219-6"><a href="custom-templates-inputs.html#cb219-6"></a>    <span class="dt">type =</span> <span class="st">&quot;checkbox&quot;</span>,</span>
<span id="cb219-7"><a href="custom-templates-inputs.html#cb219-7"></a>    <span class="dt">class =</span> <span class="st">&quot;form-check-input&quot;</span></span>
<span id="cb219-8"><a href="custom-templates-inputs.html#cb219-8"></a>  )</span>
<span id="cb219-9"><a href="custom-templates-inputs.html#cb219-9"></a>  </span>
<span id="cb219-10"><a href="custom-templates-inputs.html#cb219-10"></a>  <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(value) <span class="op">&amp;&amp;</span><span class="st"> </span>value) {</span>
<span id="cb219-11"><a href="custom-templates-inputs.html#cb219-11"></a>    input_tag &lt;-<span class="st"> </span>input_tag <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tagAppendAttributes</span>(<span class="dt">checked =</span> <span class="st">&quot;checked&quot;</span>)</span>
<span id="cb219-12"><a href="custom-templates-inputs.html#cb219-12"></a>  }</span>
<span id="cb219-13"><a href="custom-templates-inputs.html#cb219-13"></a>  </span>
<span id="cb219-14"><a href="custom-templates-inputs.html#cb219-14"></a>  input_wrapper &lt;-<span class="st"> </span>tags<span class="op">$</span><span class="kw">label</span>(</span>
<span id="cb219-15"><a href="custom-templates-inputs.html#cb219-15"></a>    <span class="dt">class =</span> <span class="st">&quot;form-check form-switch&quot;</span>, </span>
<span id="cb219-16"><a href="custom-templates-inputs.html#cb219-16"></a>    <span class="dt">style =</span> <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(width)) {</span>
<span id="cb219-17"><a href="custom-templates-inputs.html#cb219-17"></a>      <span class="kw">paste0</span>(<span class="st">&quot;width: &quot;</span>, <span class="kw">validateCssUnit</span>(width), <span class="st">&quot;;&quot;</span>)</span>
<span id="cb219-18"><a href="custom-templates-inputs.html#cb219-18"></a>    }</span>
<span id="cb219-19"><a href="custom-templates-inputs.html#cb219-19"></a>  )</span>
<span id="cb219-20"><a href="custom-templates-inputs.html#cb219-20"></a>  </span>
<span id="cb219-21"><a href="custom-templates-inputs.html#cb219-21"></a>  input_wrapper <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tagAppendChildren</span>(</span>
<span id="cb219-22"><a href="custom-templates-inputs.html#cb219-22"></a>    input_tag,</span>
<span id="cb219-23"><a href="custom-templates-inputs.html#cb219-23"></a>    <span class="kw">span</span>(<span class="dt">class =</span> <span class="st">&quot;form-check-label&quot;</span>, label)</span>
<span id="cb219-24"><a href="custom-templates-inputs.html#cb219-24"></a>  )</span>
<span id="cb219-25"><a href="custom-templates-inputs.html#cb219-25"></a>}</span></code></pre></div>
<p>Besides, we may also create an <code>update_tabler_switch</code> function similar to the <code>updateCheckboxInput</code>. We will also need <code>dropNulls</code>, a function that removes all NULL elements from a list (this function is often used in all custom Shiny templates). If you remember, the <code>sendInputMessage</code> from R will be received by the <code>receiveMessage</code> method on the JavaScript side.</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="custom-templates-inputs.html#cb220-1"></a>dropNulls &lt;-<span class="st"> </span><span class="cf">function</span> (x) {</span>
<span id="cb220-2"><a href="custom-templates-inputs.html#cb220-2"></a>  x[<span class="op">!</span><span class="kw">vapply</span>(x, is.null, <span class="dt">FUN.VALUE =</span> <span class="kw">logical</span>(<span class="dv">1</span>))]</span>
<span id="cb220-3"><a href="custom-templates-inputs.html#cb220-3"></a>}</span>
<span id="cb220-4"><a href="custom-templates-inputs.html#cb220-4"></a></span>
<span id="cb220-5"><a href="custom-templates-inputs.html#cb220-5"></a>update_tabler_switch &lt;-<span class="st"> </span><span class="cf">function</span> (session, inputId, <span class="dt">label =</span> <span class="ot">NULL</span>, <span class="dt">value =</span> <span class="ot">NULL</span>) {</span>
<span id="cb220-6"><a href="custom-templates-inputs.html#cb220-6"></a>  message &lt;-<span class="st"> </span><span class="kw">dropNulls</span>(<span class="kw">list</span>(<span class="dt">label =</span> label, <span class="dt">value =</span> value))</span>
<span id="cb220-7"><a href="custom-templates-inputs.html#cb220-7"></a>  session<span class="op">$</span><span class="kw">sendInputMessage</span>(inputId, message)</span>
<span id="cb220-8"><a href="custom-templates-inputs.html#cb220-8"></a>}</span></code></pre></div>
<p>In the following example, the action button toggles the switch input value when clicked, as shown in Figure <a href="custom-templates-inputs.html#fig:tabler-toggle">15.2</a>.</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="custom-templates-inputs.html#cb221-1"></a>ui &lt;-<span class="st"> </span><span class="kw">tabler_page</span>(</span>
<span id="cb221-2"><a href="custom-templates-inputs.html#cb221-2"></a>  <span class="kw">tabler_body</span>(</span>
<span id="cb221-3"><a href="custom-templates-inputs.html#cb221-3"></a>    <span class="kw">fluidRow</span>(</span>
<span id="cb221-4"><a href="custom-templates-inputs.html#cb221-4"></a>      <span class="kw">tabler_button</span>(<span class="st">&quot;update&quot;</span>, <span class="st">&quot;Go!&quot;</span>, <span class="dt">width =</span> <span class="st">&quot;25%&quot;</span>, <span class="dt">class =</span> <span class="st">&quot;mr-2&quot;</span>),</span>
<span id="cb221-5"><a href="custom-templates-inputs.html#cb221-5"></a>      <span class="kw">tabler_switch</span>(<span class="st">&quot;toggle&quot;</span>, <span class="st">&quot;Switch&quot;</span>, <span class="dt">value =</span> <span class="ot">TRUE</span>, <span class="dt">width =</span> <span class="st">&quot;25%&quot;</span>)</span>
<span id="cb221-6"><a href="custom-templates-inputs.html#cb221-6"></a>    )</span>
<span id="cb221-7"><a href="custom-templates-inputs.html#cb221-7"></a>  )</span>
<span id="cb221-8"><a href="custom-templates-inputs.html#cb221-8"></a>)</span>
<span id="cb221-9"><a href="custom-templates-inputs.html#cb221-9"></a></span>
<span id="cb221-10"><a href="custom-templates-inputs.html#cb221-10"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output, session) {</span>
<span id="cb221-11"><a href="custom-templates-inputs.html#cb221-11"></a>  <span class="kw">observe</span>(<span class="kw">print</span>(input<span class="op">$</span>toggle))</span>
<span id="cb221-12"><a href="custom-templates-inputs.html#cb221-12"></a>  <span class="kw">observeEvent</span>(input<span class="op">$</span>update, {</span>
<span id="cb221-13"><a href="custom-templates-inputs.html#cb221-13"></a>    <span class="kw">update_tabler_switch</span>(</span>
<span id="cb221-14"><a href="custom-templates-inputs.html#cb221-14"></a>      session, </span>
<span id="cb221-15"><a href="custom-templates-inputs.html#cb221-15"></a>      <span class="st">&quot;toggle&quot;</span>, </span>
<span id="cb221-16"><a href="custom-templates-inputs.html#cb221-16"></a>      <span class="dt">value =</span> <span class="op">!</span>input<span class="op">$</span>toggle</span>
<span id="cb221-17"><a href="custom-templates-inputs.html#cb221-17"></a>    )</span>
<span id="cb221-18"><a href="custom-templates-inputs.html#cb221-18"></a>  })</span>
<span id="cb221-19"><a href="custom-templates-inputs.html#cb221-19"></a>}</span>
<span id="cb221-20"><a href="custom-templates-inputs.html#cb221-20"></a></span>
<span id="cb221-21"><a href="custom-templates-inputs.html#cb221-21"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>
<div class="figure"><span id="fig:tabler-toggle"></span>
<img src="images/practice/tabler-toggle.png" alt="Tabler action button updating a toggle input" width="176" />
<p class="caption">
FIGURE 15.2: Tabler action button updating a toggle input
</p>
</div>
<p>Et voilà! Two inputs in few minutes.</p>
</div>
<div id="navbar-menu-input" class="section level2">
<h2><span class="header-section-number">15.3</span> Navbar menu input</h2>
<p>As stated in Chapter <a href="shiny-input-system.html#shiny-input-system">5</a>, it is quite straightforward to bind other elements than pure inputs (HTML elements with the input tag) to Shiny. As a reminder, we created a custom input binding to detect the state of a shinydashboard box (collapsed/uncollapsed).
In chapter <a href="custom-templates-skeleton.html#custom-templates-skeleton">13</a>, we created the <code>tabler_navbar</code> as well as the <code>tabler_navbar_menu</code> and <code>tabler_navbar_menu_item</code>. As in shinydashboard, it would be nice to capture the currently selected tab to be able to perform actions on the server side, updating the selected tab based on a button click.</p>
<p>Where do we start? First of all, we add an id attribute to the <code>tabler_navbar_menu</code> so that it holds the corresponding <code>input$id</code>. Whether to use <code>inputId</code> or <code>id</code> as a parameter name is up to you, but keep in mind that <code>inputId</code> does not exist in HTML.</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="custom-templates-inputs.html#cb222-1"></a>tabler_navbar_menu &lt;-<span class="st"> </span><span class="cf">function</span>(..., <span class="dt">inputId =</span> <span class="ot">NULL</span>) {</span>
<span id="cb222-2"><a href="custom-templates-inputs.html#cb222-2"></a>  tags<span class="op">$</span><span class="kw">ul</span>(<span class="dt">id =</span> inputId, <span class="dt">class =</span> <span class="st">&quot;nav nav-pills navbar-nav&quot;</span>, ...)</span>
<span id="cb222-3"><a href="custom-templates-inputs.html#cb222-3"></a>}</span></code></pre></div>
<p>The next step is the <code>navbarMenuBinding</code> creation. We decide to look for the <code>navbar-nav</code> class in the <code>find</code> method. Below, we describe the binding step by step. You may find the whole working code at the end of this example.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb223-1"><a href="custom-templates-inputs.html#cb223-1"></a>find<span class="op">:</span> <span class="kw">function</span>(scope) <span class="op">{</span></span>
<span id="cb223-2"><a href="custom-templates-inputs.html#cb223-2"></a>  <span class="cf">return</span> <span class="at">$</span>(scope).<span class="at">find</span>(<span class="st">&#39;.navbar-nav&#39;</span>)<span class="op">;</span></span>
<span id="cb223-3"><a href="custom-templates-inputs.html#cb223-3"></a><span class="op">}</span></span></code></pre></div>
<p>In the <code>initialize</code> method, we ensure that if no tab is selected at start, the first tab will be selected by default. Otherwise, we select the activated tab. We use the string interpolation to ease the insertion of JS code in strings (<code>${menuId} .nav-link.active</code>).</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb224-1"><a href="custom-templates-inputs.html#cb224-1"></a>initialize<span class="op">:</span> <span class="kw">function</span>(el) <span class="op">{</span></span>
<span id="cb224-2"><a href="custom-templates-inputs.html#cb224-2"></a>  <span class="kw">let</span> menuId <span class="op">=</span> <span class="st">&#39;#&#39;</span> <span class="op">+</span> <span class="at">$</span>(el).<span class="at">attr</span>(<span class="st">&#39;id&#39;</span>)<span class="op">;</span></span>
<span id="cb224-3"><a href="custom-templates-inputs.html#cb224-3"></a>  <span class="kw">let</span> activeTab <span class="op">=</span> <span class="at">$</span>(<span class="vs">`</span><span class="sc">${</span>menuId<span class="sc">}</span><span class="vs"> .nav-link.active`</span>)<span class="op">;</span></span>
<span id="cb224-4"><a href="custom-templates-inputs.html#cb224-4"></a>  <span class="co">// if multiple items are found</span></span>
<span id="cb224-5"><a href="custom-templates-inputs.html#cb224-5"></a>  <span class="cf">if</span> (<span class="va">activeTab</span>.<span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">{</span></span>
<span id="cb224-6"><a href="custom-templates-inputs.html#cb224-6"></a>    <span class="kw">let</span> tabId <span class="op">=</span> <span class="at">$</span>(activeTab).<span class="at">attr</span>(<span class="st">&#39;data-value&#39;</span>)<span class="op">;</span></span>
<span id="cb224-7"><a href="custom-templates-inputs.html#cb224-7"></a>    <span class="at">$</span>(activeTab).<span class="at">tab</span>(<span class="st">&#39;show&#39;</span>)<span class="op">;</span></span>
<span id="cb224-8"><a href="custom-templates-inputs.html#cb224-8"></a>    <span class="at">$</span>(<span class="vs">`#</span><span class="sc">${</span>tabId<span class="sc">}</span><span class="vs">`</span>).<span class="at">addClass</span>(<span class="st">&#39;show active&#39;</span>)<span class="op">;</span></span>
<span id="cb224-9"><a href="custom-templates-inputs.html#cb224-9"></a>  <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb224-10"><a href="custom-templates-inputs.html#cb224-10"></a>    <span class="at">$</span>(<span class="vs">`</span><span class="sc">${</span>menuId<span class="sc">}</span><span class="vs"> .nav-link`</span>)</span>
<span id="cb224-11"><a href="custom-templates-inputs.html#cb224-11"></a>      .<span class="at">first</span>()</span>
<span id="cb224-12"><a href="custom-templates-inputs.html#cb224-12"></a>      .<span class="at">tab</span>(<span class="st">&#39;show&#39;</span>)<span class="op">;</span></span>
<span id="cb224-13"><a href="custom-templates-inputs.html#cb224-13"></a>  <span class="op">}</span></span>
<span id="cb224-14"><a href="custom-templates-inputs.html#cb224-14"></a><span class="op">}</span></span></code></pre></div>
<p>The role of <code>getValue</code> is to return the currently selected tab. As a reminder, here is the <code>tabler_navbar_menu_item</code> function:</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="custom-templates-inputs.html#cb225-1"></a>tabler_navbar_menu_item &lt;-<span class="st"> </span><span class="cf">function</span>(text, tabName, <span class="dt">icon =</span> <span class="ot">NULL</span>, <span class="dt">selected =</span> <span class="ot">FALSE</span>) {</span>
<span id="cb225-2"><a href="custom-templates-inputs.html#cb225-2"></a>  </span>
<span id="cb225-3"><a href="custom-templates-inputs.html#cb225-3"></a>  item_cl &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;nav-link&quot;</span>, <span class="cf">if</span>(selected) <span class="st">&quot; active&quot;</span>)</span>
<span id="cb225-4"><a href="custom-templates-inputs.html#cb225-4"></a>  </span>
<span id="cb225-5"><a href="custom-templates-inputs.html#cb225-5"></a>  tags<span class="op">$</span><span class="kw">li</span>(</span>
<span id="cb225-6"><a href="custom-templates-inputs.html#cb225-6"></a>    <span class="dt">class =</span> <span class="st">&quot;nav-item&quot;</span>,</span>
<span id="cb225-7"><a href="custom-templates-inputs.html#cb225-7"></a>    <span class="kw">a</span>(</span>
<span id="cb225-8"><a href="custom-templates-inputs.html#cb225-8"></a>      <span class="dt">class =</span> item_cl,</span>
<span id="cb225-9"><a href="custom-templates-inputs.html#cb225-9"></a>      <span class="dt">href =</span> <span class="kw">paste0</span>(<span class="st">&quot;#&quot;</span>, tabName),</span>
<span id="cb225-10"><a href="custom-templates-inputs.html#cb225-10"></a>      <span class="st">`</span><span class="dt">data-toggle</span><span class="st">`</span> =<span class="st"> &quot;pill&quot;</span>, <span class="co"># see https://getbootstrap.com/docs/4.0/components/navs/</span></span>
<span id="cb225-11"><a href="custom-templates-inputs.html#cb225-11"></a>      <span class="st">`</span><span class="dt">data-value</span><span class="st">`</span> =<span class="st"> </span>tabName,</span>
<span id="cb225-12"><a href="custom-templates-inputs.html#cb225-12"></a>      <span class="dt">role =</span> <span class="st">&quot;tab&quot;</span>,</span>
<span id="cb225-13"><a href="custom-templates-inputs.html#cb225-13"></a>      <span class="kw">span</span>(<span class="dt">class =</span> <span class="st">&quot;nav-link-icon d-md-none d-lg-inline-block&quot;</span>, icon),</span>
<span id="cb225-14"><a href="custom-templates-inputs.html#cb225-14"></a>      <span class="kw">span</span>(<span class="dt">class =</span> <span class="st">&quot;nav-link-title&quot;</span>, text)</span>
<span id="cb225-15"><a href="custom-templates-inputs.html#cb225-15"></a>    )</span>
<span id="cb225-16"><a href="custom-templates-inputs.html#cb225-16"></a>  )</span>
<span id="cb225-17"><a href="custom-templates-inputs.html#cb225-17"></a>}</span></code></pre></div>
<p>From that function, the active item has is the <code>a</code> element with the classes <code>nav-link active</code>. We recover the tab value stored in the <code>data-value</code> attribute. A bit of jQuery will do the trick!</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb226-1"><a href="custom-templates-inputs.html#cb226-1"></a>getValue<span class="op">:</span> <span class="kw">function</span>(el) <span class="op">{</span></span>
<span id="cb226-2"><a href="custom-templates-inputs.html#cb226-2"></a>  <span class="kw">let</span> activeTab <span class="op">=</span> <span class="at">$</span>(el).<span class="at">find</span>(<span class="st">&#39;a&#39;</span>).<span class="at">filter</span>(<span class="st">&#39;nav-link active&#39;</span>)<span class="op">;</span></span>
<span id="cb226-3"><a href="custom-templates-inputs.html#cb226-3"></a>  <span class="cf">return</span> <span class="at">$</span>(activeTab).<span class="at">attr</span>(<span class="st">&#39;data-value&#39;</span>)<span class="op">;</span></span>
<span id="cb226-4"><a href="custom-templates-inputs.html#cb226-4"></a><span class="op">}</span></span></code></pre></div>
<p><code>setValue</code> is the function allowing to update the active tab. Bootstrap 4 already has
predefined methods to <a href="https://getbootstrap.com/docs/4.0/components/navs/#via-javascript">activate</a> tabs. The easiest way is to select the tab by name like <code>$('#tabMenu a[href="#tab1"]').tab('show')</code>. The <code>receiveMessage</code> is simply applying the <code>setValue</code> method.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb227-1"><a href="custom-templates-inputs.html#cb227-1"></a>setValue<span class="op">:</span> <span class="kw">function</span>(el<span class="op">,</span> value) <span class="op">{</span></span>
<span id="cb227-2"><a href="custom-templates-inputs.html#cb227-2"></a>  <span class="kw">let</span> hrefVal <span class="op">=</span> <span class="st">&#39;#&#39;</span> <span class="op">+</span> value<span class="op">;</span></span>
<span id="cb227-3"><a href="custom-templates-inputs.html#cb227-3"></a>  <span class="kw">let</span> menuId <span class="op">=</span> <span class="at">$</span>(el).<span class="at">attr</span>(<span class="st">&#39;id&#39;</span>)<span class="op">;</span></span>
<span id="cb227-4"><a href="custom-templates-inputs.html#cb227-4"></a>  <span class="at">$</span>(<span class="vs">`#</span><span class="sc">${</span>menuId<span class="sc">}</span><span class="vs"> a[href=&quot;</span><span class="sc">${</span>hrefVal<span class="sc">}</span><span class="vs">&quot;]`</span>).<span class="at">tab</span>(<span class="st">&#39;show&#39;</span>)<span class="op">;</span></span>
<span id="cb227-5"><a href="custom-templates-inputs.html#cb227-5"></a><span class="op">}</span></span>
<span id="cb227-6"><a href="custom-templates-inputs.html#cb227-6"></a></span>
<span id="cb227-7"><a href="custom-templates-inputs.html#cb227-7"></a>receiveMessage<span class="op">:</span> <span class="kw">function</span>(el<span class="op">,</span> data) <span class="op">{</span></span>
<span id="cb227-8"><a href="custom-templates-inputs.html#cb227-8"></a>  <span class="kw">this</span>.<span class="at">setValue</span>(el<span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb227-9"><a href="custom-templates-inputs.html#cb227-9"></a><span class="op">}</span></span></code></pre></div>
<p>Besides, we have to create the <code>update_tabler_tab_item</code> function.</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="custom-templates-inputs.html#cb228-1"></a>update_tabler_tab_item &lt;-<span class="st"> </span><span class="cf">function</span>(inputId, value, <span class="dt">session =</span> <span class="kw">getDefaultReactiveDomain</span>()) {</span>
<span id="cb228-2"><a href="custom-templates-inputs.html#cb228-2"></a>  session<span class="op">$</span><span class="kw">sendInputMessage</span>(inputId, <span class="dt">message =</span> value)</span>
<span id="cb228-3"><a href="custom-templates-inputs.html#cb228-3"></a>}</span></code></pre></div>
<p><code>subscribe</code> will tell Shiny when to change the current input value and made it available
in the whole app. We may listen to multiple events, keeping in mind that events occur in the following order:</p>
<ul>
<li>hide.bs.tab (on the current active tab)</li>
<li>show.bs.tab (on the to-be-shown tab)</li>
<li>hidden.bs.tab (on the previous active tab, the same one as for the hide.bs.tab event)</li>
<li>shown.bs.tab (on the newly-active just-shown tab, the same one as for the show.bs.tab event)</li>
</ul>
<p>Hence, it makes more sense to listen to <code>shown.bs.tab</code> (wait the current tab to be shown).</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb229-1"><a href="custom-templates-inputs.html#cb229-1"></a>subscribe<span class="op">:</span> <span class="kw">function</span>(el<span class="op">,</span> callback) <span class="op">{</span></span>
<span id="cb229-2"><a href="custom-templates-inputs.html#cb229-2"></a>  <span class="co">// important to use shown.bs.tab and not show.bs.tab!</span></span>
<span id="cb229-3"><a href="custom-templates-inputs.html#cb229-3"></a>  <span class="at">$</span>(el).<span class="at">on</span>(<span class="st">&#39;shown.bs.tab.navbarMenuBinding&#39;</span><span class="op">,</span> <span class="kw">function</span>(e) <span class="op">{</span></span>
<span id="cb229-4"><a href="custom-templates-inputs.html#cb229-4"></a>    <span class="at">callback</span>()<span class="op">;</span></span>
<span id="cb229-5"><a href="custom-templates-inputs.html#cb229-5"></a>  <span class="op">}</span>)<span class="op">;</span></span>
<span id="cb229-6"><a href="custom-templates-inputs.html#cb229-6"></a><span class="op">},</span></span>
<span id="cb229-7"><a href="custom-templates-inputs.html#cb229-7"></a>  </span>
<span id="cb229-8"><a href="custom-templates-inputs.html#cb229-8"></a>unsubscribe<span class="op">:</span> <span class="kw">function</span>(el) <span class="op">{</span></span>
<span id="cb229-9"><a href="custom-templates-inputs.html#cb229-9"></a>  <span class="at">$</span>(el).<span class="at">off</span>(<span class="st">&#39;.navbarMenuBinding&#39;</span>)<span class="op">;</span></span>
<span id="cb229-10"><a href="custom-templates-inputs.html#cb229-10"></a><span class="op">}</span></span></code></pre></div>
<p>Below is a recap of the binding with the creation and registration included:</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb230-1"><a href="custom-templates-inputs.html#cb230-1"></a><span class="at">$</span>(<span class="kw">function</span>() <span class="op">{</span></span>
<span id="cb230-2"><a href="custom-templates-inputs.html#cb230-2"></a>  <span class="co">// Input binding</span></span>
<span id="cb230-3"><a href="custom-templates-inputs.html#cb230-3"></a>  <span class="kw">let</span> navbarMenuBinding <span class="op">=</span> <span class="kw">new</span> <span class="va">Shiny</span>.<span class="at">InputBinding</span>()</span>
<span id="cb230-4"><a href="custom-templates-inputs.html#cb230-4"></a>  <span class="va">$</span>.<span class="at">extend</span>(navbarMenuBinding<span class="op">,</span> <span class="op">{</span></span>
<span id="cb230-5"><a href="custom-templates-inputs.html#cb230-5"></a>    <span class="dt">find</span><span class="op">:</span> <span class="kw">function</span>(scope) <span class="op">{</span></span>
<span id="cb230-6"><a href="custom-templates-inputs.html#cb230-6"></a>      <span class="cf">return</span> <span class="at">$</span>(scope).<span class="at">find</span>(<span class="st">&#39;.navbar-nav&#39;</span>)<span class="op">;</span></span>
<span id="cb230-7"><a href="custom-templates-inputs.html#cb230-7"></a>    <span class="op">},</span></span>
<span id="cb230-8"><a href="custom-templates-inputs.html#cb230-8"></a>    <span class="dt">initialize</span><span class="op">:</span> <span class="kw">function</span>(el) <span class="op">{</span></span>
<span id="cb230-9"><a href="custom-templates-inputs.html#cb230-9"></a>      <span class="kw">let</span> menuId <span class="op">=</span> <span class="st">&#39;#&#39;</span> <span class="op">+</span> <span class="at">$</span>(el).<span class="at">attr</span>(<span class="st">&#39;id&#39;</span>)<span class="op">;</span></span>
<span id="cb230-10"><a href="custom-templates-inputs.html#cb230-10"></a>      <span class="kw">let</span> activeTab <span class="op">=</span> <span class="at">$</span>(<span class="vs">`</span><span class="sc">${</span>menuId<span class="sc">}</span><span class="vs"> .nav-link.active`</span>)<span class="op">;</span></span>
<span id="cb230-11"><a href="custom-templates-inputs.html#cb230-11"></a>      <span class="co">// if multiple items are found</span></span>
<span id="cb230-12"><a href="custom-templates-inputs.html#cb230-12"></a>      <span class="cf">if</span> (<span class="va">activeTab</span>.<span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">{</span></span>
<span id="cb230-13"><a href="custom-templates-inputs.html#cb230-13"></a>        <span class="kw">let</span> tabId <span class="op">=</span> <span class="at">$</span>(activeTab).<span class="at">attr</span>(<span class="st">&#39;data-value&#39;</span>)<span class="op">;</span></span>
<span id="cb230-14"><a href="custom-templates-inputs.html#cb230-14"></a>        <span class="at">$</span>(activeTab).<span class="at">tab</span>(<span class="st">&#39;show&#39;</span>)<span class="op">;</span></span>
<span id="cb230-15"><a href="custom-templates-inputs.html#cb230-15"></a>        <span class="at">$</span>(<span class="vs">`#</span><span class="sc">${</span>tabId<span class="sc">}</span><span class="vs">`</span>).<span class="at">addClass</span>(<span class="st">&#39;show active&#39;</span>)<span class="op">;</span></span>
<span id="cb230-16"><a href="custom-templates-inputs.html#cb230-16"></a>      <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb230-17"><a href="custom-templates-inputs.html#cb230-17"></a>        <span class="at">$</span>(<span class="vs">`</span><span class="sc">${</span>menuId<span class="sc">}</span><span class="vs"> .nav-link`</span>)</span>
<span id="cb230-18"><a href="custom-templates-inputs.html#cb230-18"></a>          .<span class="at">first</span>()</span>
<span id="cb230-19"><a href="custom-templates-inputs.html#cb230-19"></a>          .<span class="at">tab</span>(<span class="st">&#39;show&#39;</span>)<span class="op">;</span></span>
<span id="cb230-20"><a href="custom-templates-inputs.html#cb230-20"></a>      <span class="op">}</span></span>
<span id="cb230-21"><a href="custom-templates-inputs.html#cb230-21"></a>    <span class="op">},</span></span>
<span id="cb230-22"><a href="custom-templates-inputs.html#cb230-22"></a>    <span class="co">// Given the DOM element for the input, return the value</span></span>
<span id="cb230-23"><a href="custom-templates-inputs.html#cb230-23"></a>    <span class="dt">getValue</span><span class="op">:</span> <span class="kw">function</span>(el) <span class="op">{</span></span>
<span id="cb230-24"><a href="custom-templates-inputs.html#cb230-24"></a>      <span class="kw">let</span> activeTab <span class="op">=</span> <span class="at">$</span>(el).<span class="at">find</span>(<span class="st">&#39;a&#39;</span>).<span class="at">filter</span>(<span class="st">&#39;.nav-link.active&#39;</span>)<span class="op">;</span></span>
<span id="cb230-25"><a href="custom-templates-inputs.html#cb230-25"></a>      <span class="cf">return</span> <span class="at">$</span>(activeTab).<span class="at">attr</span>(<span class="st">&#39;data-value&#39;</span>)<span class="op">;</span></span>
<span id="cb230-26"><a href="custom-templates-inputs.html#cb230-26"></a>    <span class="op">},</span></span>
<span id="cb230-27"><a href="custom-templates-inputs.html#cb230-27"></a>    <span class="dt">setValue</span><span class="op">:</span> <span class="kw">function</span>(el<span class="op">,</span> value) <span class="op">{</span></span>
<span id="cb230-28"><a href="custom-templates-inputs.html#cb230-28"></a>      <span class="kw">let</span> hrefVal <span class="op">=</span> <span class="st">&#39;#&#39;</span> <span class="op">+</span> value<span class="op">;</span></span>
<span id="cb230-29"><a href="custom-templates-inputs.html#cb230-29"></a>      <span class="kw">let</span> menuId <span class="op">=</span> <span class="at">$</span>(el).<span class="at">attr</span>(<span class="st">&#39;id&#39;</span>)<span class="op">;</span></span>
<span id="cb230-30"><a href="custom-templates-inputs.html#cb230-30"></a>      <span class="at">$</span>(<span class="vs">`#</span><span class="sc">${</span>menuId<span class="sc">}</span><span class="vs"> a[href=&quot;</span><span class="sc">${</span>hrefVal<span class="sc">}</span><span class="vs">&quot;]`</span>).<span class="at">tab</span>(<span class="st">&#39;show&#39;</span>)<span class="op">;</span></span>
<span id="cb230-31"><a href="custom-templates-inputs.html#cb230-31"></a>    <span class="op">},</span></span>
<span id="cb230-32"><a href="custom-templates-inputs.html#cb230-32"></a>    <span class="dt">receiveMessage</span><span class="op">:</span> <span class="kw">function</span>(el<span class="op">,</span> data) <span class="op">{</span></span>
<span id="cb230-33"><a href="custom-templates-inputs.html#cb230-33"></a>      <span class="kw">this</span>.<span class="at">setValue</span>(el<span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb230-34"><a href="custom-templates-inputs.html#cb230-34"></a>    <span class="op">},</span></span>
<span id="cb230-35"><a href="custom-templates-inputs.html#cb230-35"></a>    <span class="dt">subscribe</span><span class="op">:</span> <span class="kw">function</span>(el<span class="op">,</span> callback) <span class="op">{</span></span>
<span id="cb230-36"><a href="custom-templates-inputs.html#cb230-36"></a>      <span class="at">$</span>(el).<span class="at">on</span>(<span class="st">&#39;shown.bs.tab.navbarMenuBinding&#39;</span><span class="op">,</span> <span class="kw">function</span>(event) <span class="op">{</span></span>
<span id="cb230-37"><a href="custom-templates-inputs.html#cb230-37"></a>        <span class="at">callback</span>()<span class="op">;</span></span>
<span id="cb230-38"><a href="custom-templates-inputs.html#cb230-38"></a>      <span class="op">}</span>)<span class="op">;</span></span>
<span id="cb230-39"><a href="custom-templates-inputs.html#cb230-39"></a>    <span class="op">},</span></span>
<span id="cb230-40"><a href="custom-templates-inputs.html#cb230-40"></a>    <span class="dt">unsubscribe</span><span class="op">:</span> <span class="kw">function</span>(el) <span class="op">{</span></span>
<span id="cb230-41"><a href="custom-templates-inputs.html#cb230-41"></a>      <span class="at">$</span>(el).<span class="at">off</span>(<span class="st">&#39;.navbarMenuBinding&#39;</span>)<span class="op">;</span></span>
<span id="cb230-42"><a href="custom-templates-inputs.html#cb230-42"></a>    <span class="op">}</span></span>
<span id="cb230-43"><a href="custom-templates-inputs.html#cb230-43"></a>  <span class="op">}</span>)<span class="op">;</span></span>
<span id="cb230-44"><a href="custom-templates-inputs.html#cb230-44"></a>  </span>
<span id="cb230-45"><a href="custom-templates-inputs.html#cb230-45"></a>  <span class="va">Shiny</span>.<span class="va">inputBindings</span>.<span class="at">register</span>(navbarMenuBinding<span class="op">,</span> <span class="st">&#39;navbar-menu&#39;</span>)<span class="op">;</span></span>
<span id="cb230-46"><a href="custom-templates-inputs.html#cb230-46"></a><span class="op">}</span>)<span class="op">;</span></span></code></pre></div>
<p>How do we include this custom input binding in our package? In the side package code, we created the following HTML dependency:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="custom-templates-inputs.html#cb231-1"></a>tabler_custom_js &lt;-<span class="st"> </span><span class="kw">htmlDependency</span>(</span>
<span id="cb231-2"><a href="custom-templates-inputs.html#cb231-2"></a>  <span class="dt">name =</span> <span class="st">&quot;tabler-bindings&quot;</span>,</span>
<span id="cb231-3"><a href="custom-templates-inputs.html#cb231-3"></a>  <span class="dt">version =</span> <span class="st">&quot;1.0.7&quot;</span>,</span>
<span id="cb231-4"><a href="custom-templates-inputs.html#cb231-4"></a>  <span class="dt">src =</span> <span class="kw">c</span>(<span class="dt">href =</span> <span class="st">&quot;tabler&quot;</span>),</span>
<span id="cb231-5"><a href="custom-templates-inputs.html#cb231-5"></a>  <span class="dt">package =</span> <span class="st">&quot;OSUICode&quot;</span>,</span>
<span id="cb231-6"><a href="custom-templates-inputs.html#cb231-6"></a>  <span class="dt">script =</span> <span class="st">&quot;input-bindings/navbarMenuBinding.js&quot;</span></span>
<span id="cb231-7"><a href="custom-templates-inputs.html#cb231-7"></a>)</span></code></pre></div>
<p>We also updated the <code>add_tabler_deps</code>, as below.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="custom-templates-inputs.html#cb232-1"></a>add_tabler_deps &lt;-<span class="st"> </span><span class="cf">function</span>(tag) {</span>
<span id="cb232-2"><a href="custom-templates-inputs.html#cb232-2"></a>  <span class="co"># below, the order is of critical importance!</span></span>
<span id="cb232-3"><a href="custom-templates-inputs.html#cb232-3"></a>  deps &lt;-<span class="st"> </span><span class="kw">list</span>(bs4_deps, tablers_deps, tabler_custom_js)</span>
<span id="cb232-4"><a href="custom-templates-inputs.html#cb232-4"></a>  <span class="kw">attachDependencies</span>(tag, deps, <span class="dt">append =</span> <span class="ot">TRUE</span>)</span>
<span id="cb232-5"><a href="custom-templates-inputs.html#cb232-5"></a>}</span></code></pre></div>
<p>We test the new <code>navbar_menu</code> binding below.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="custom-templates-inputs.html#cb233-1"></a>ui &lt;-<span class="st"> </span><span class="kw">tabler_page</span>(</span>
<span id="cb233-2"><a href="custom-templates-inputs.html#cb233-2"></a>  <span class="kw">tabler_navbar</span>(</span>
<span id="cb233-3"><a href="custom-templates-inputs.html#cb233-3"></a>    <span class="dt">brand_url =</span> <span class="st">&quot;https://preview-dev.tabler.io&quot;</span>, </span>
<span id="cb233-4"><a href="custom-templates-inputs.html#cb233-4"></a>    <span class="dt">brand_image =</span> <span class="st">&quot;https://preview-dev.tabler.io/static/logo.svg&quot;</span>, </span>
<span id="cb233-5"><a href="custom-templates-inputs.html#cb233-5"></a>    <span class="dt">nav_menu =</span> <span class="kw">tabler_navbar_menu</span>(</span>
<span id="cb233-6"><a href="custom-templates-inputs.html#cb233-6"></a>      <span class="dt">id =</span> <span class="st">&quot;current_tab&quot;</span>,</span>
<span id="cb233-7"><a href="custom-templates-inputs.html#cb233-7"></a>      <span class="kw">tabler_navbar_menu_item</span>(</span>
<span id="cb233-8"><a href="custom-templates-inputs.html#cb233-8"></a>        <span class="dt">text =</span> <span class="st">&quot;Tab 1&quot;</span>,</span>
<span id="cb233-9"><a href="custom-templates-inputs.html#cb233-9"></a>        <span class="dt">icon =</span> <span class="ot">NULL</span>,</span>
<span id="cb233-10"><a href="custom-templates-inputs.html#cb233-10"></a>        <span class="dt">tabName =</span> <span class="st">&quot;tab1&quot;</span>,</span>
<span id="cb233-11"><a href="custom-templates-inputs.html#cb233-11"></a>        <span class="dt">selected =</span> <span class="ot">TRUE</span></span>
<span id="cb233-12"><a href="custom-templates-inputs.html#cb233-12"></a>      ),</span>
<span id="cb233-13"><a href="custom-templates-inputs.html#cb233-13"></a>      <span class="kw">tabler_navbar_menu_item</span>(</span>
<span id="cb233-14"><a href="custom-templates-inputs.html#cb233-14"></a>        <span class="dt">text =</span> <span class="st">&quot;Tab 2&quot;</span>,</span>
<span id="cb233-15"><a href="custom-templates-inputs.html#cb233-15"></a>        <span class="dt">icon =</span> <span class="ot">NULL</span>,</span>
<span id="cb233-16"><a href="custom-templates-inputs.html#cb233-16"></a>        <span class="dt">tabName =</span> <span class="st">&quot;tab2&quot;</span></span>
<span id="cb233-17"><a href="custom-templates-inputs.html#cb233-17"></a>      )</span>
<span id="cb233-18"><a href="custom-templates-inputs.html#cb233-18"></a>    ),</span>
<span id="cb233-19"><a href="custom-templates-inputs.html#cb233-19"></a>    <span class="kw">tabler_button</span>(<span class="st">&quot;update&quot;</span>, <span class="st">&quot;Change tab&quot;</span>, <span class="dt">icon =</span> <span class="kw">icon</span>(<span class="st">&quot;exchange-alt&quot;</span>))</span>
<span id="cb233-20"><a href="custom-templates-inputs.html#cb233-20"></a>  ),</span>
<span id="cb233-21"><a href="custom-templates-inputs.html#cb233-21"></a>  <span class="kw">tabler_body</span>(</span>
<span id="cb233-22"><a href="custom-templates-inputs.html#cb233-22"></a>    <span class="kw">tabler_tab_items</span>(</span>
<span id="cb233-23"><a href="custom-templates-inputs.html#cb233-23"></a>      <span class="kw">tabler_tab_item</span>(</span>
<span id="cb233-24"><a href="custom-templates-inputs.html#cb233-24"></a>        <span class="dt">tabName =</span> <span class="st">&quot;tab1&quot;</span>,</span>
<span id="cb233-25"><a href="custom-templates-inputs.html#cb233-25"></a>        <span class="kw">sliderInput</span>(</span>
<span id="cb233-26"><a href="custom-templates-inputs.html#cb233-26"></a>          <span class="st">&quot;obs&quot;</span>, </span>
<span id="cb233-27"><a href="custom-templates-inputs.html#cb233-27"></a>          <span class="st">&quot;Number of observations:&quot;</span>,</span>
<span id="cb233-28"><a href="custom-templates-inputs.html#cb233-28"></a>          <span class="dt">min =</span> <span class="dv">0</span>,</span>
<span id="cb233-29"><a href="custom-templates-inputs.html#cb233-29"></a>          <span class="dt">max =</span> <span class="dv">1000</span>, </span>
<span id="cb233-30"><a href="custom-templates-inputs.html#cb233-30"></a>          <span class="dt">value =</span> <span class="dv">500</span></span>
<span id="cb233-31"><a href="custom-templates-inputs.html#cb233-31"></a>        ),</span>
<span id="cb233-32"><a href="custom-templates-inputs.html#cb233-32"></a>        <span class="kw">plotOutput</span>(<span class="st">&quot;distPlot&quot;</span>)</span>
<span id="cb233-33"><a href="custom-templates-inputs.html#cb233-33"></a>      ),</span>
<span id="cb233-34"><a href="custom-templates-inputs.html#cb233-34"></a>      <span class="kw">tabler_tab_item</span>(</span>
<span id="cb233-35"><a href="custom-templates-inputs.html#cb233-35"></a>        <span class="dt">tabName =</span> <span class="st">&quot;tab2&quot;</span>,</span>
<span id="cb233-36"><a href="custom-templates-inputs.html#cb233-36"></a>        <span class="kw">p</span>(<span class="st">&quot;Second Tab&quot;</span>)</span>
<span id="cb233-37"><a href="custom-templates-inputs.html#cb233-37"></a>      )</span>
<span id="cb233-38"><a href="custom-templates-inputs.html#cb233-38"></a>    ),</span>
<span id="cb233-39"><a href="custom-templates-inputs.html#cb233-39"></a>    <span class="dt">footer =</span> <span class="kw">tabler_footer</span>(</span>
<span id="cb233-40"><a href="custom-templates-inputs.html#cb233-40"></a>      <span class="dt">left =</span> <span class="st">&quot;Rstats, 2020&quot;</span>, </span>
<span id="cb233-41"><a href="custom-templates-inputs.html#cb233-41"></a>      <span class="dt">right =</span> <span class="kw">a</span>(<span class="dt">href =</span> <span class="st">&quot;https://www.google.com&quot;</span>)</span>
<span id="cb233-42"><a href="custom-templates-inputs.html#cb233-42"></a>    )</span>
<span id="cb233-43"><a href="custom-templates-inputs.html#cb233-43"></a>  )</span>
<span id="cb233-44"><a href="custom-templates-inputs.html#cb233-44"></a>)</span>
<span id="cb233-45"><a href="custom-templates-inputs.html#cb233-45"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output, session) {</span>
<span id="cb233-46"><a href="custom-templates-inputs.html#cb233-46"></a>  output<span class="op">$</span>distPlot &lt;-<span class="st"> </span><span class="kw">renderPlot</span>({</span>
<span id="cb233-47"><a href="custom-templates-inputs.html#cb233-47"></a>    <span class="kw">hist</span>(<span class="kw">rnorm</span>(input<span class="op">$</span>obs))</span>
<span id="cb233-48"><a href="custom-templates-inputs.html#cb233-48"></a>  })</span>
<span id="cb233-49"><a href="custom-templates-inputs.html#cb233-49"></a>  </span>
<span id="cb233-50"><a href="custom-templates-inputs.html#cb233-50"></a>  <span class="kw">observeEvent</span>(input<span class="op">$</span>current_tab, {</span>
<span id="cb233-51"><a href="custom-templates-inputs.html#cb233-51"></a>    <span class="kw">showNotification</span>(</span>
<span id="cb233-52"><a href="custom-templates-inputs.html#cb233-52"></a>      <span class="kw">paste</span>(<span class="st">&quot;Hello&quot;</span>, input<span class="op">$</span>current_tab), </span>
<span id="cb233-53"><a href="custom-templates-inputs.html#cb233-53"></a>      <span class="dt">type =</span> <span class="st">&quot;message&quot;</span>,</span>
<span id="cb233-54"><a href="custom-templates-inputs.html#cb233-54"></a>      <span class="dt">duration =</span> <span class="dv">1</span></span>
<span id="cb233-55"><a href="custom-templates-inputs.html#cb233-55"></a>    )</span>
<span id="cb233-56"><a href="custom-templates-inputs.html#cb233-56"></a>  })</span>
<span id="cb233-57"><a href="custom-templates-inputs.html#cb233-57"></a>  </span>
<span id="cb233-58"><a href="custom-templates-inputs.html#cb233-58"></a>  <span class="kw">observeEvent</span>(input<span class="op">$</span>update, {</span>
<span id="cb233-59"><a href="custom-templates-inputs.html#cb233-59"></a>    newTab &lt;-<span class="st"> </span><span class="cf">if</span> (input<span class="op">$</span>current_tab <span class="op">==</span><span class="st"> &quot;tab1&quot;</span>) <span class="st">&quot;tab2&quot;</span> <span class="cf">else</span> <span class="st">&quot;tab1&quot;</span></span>
<span id="cb233-60"><a href="custom-templates-inputs.html#cb233-60"></a>    <span class="kw">update_tabler_tab_item</span>(<span class="st">&quot;current_tab&quot;</span>, newTab)</span>
<span id="cb233-61"><a href="custom-templates-inputs.html#cb233-61"></a>  })</span>
<span id="cb233-62"><a href="custom-templates-inputs.html#cb233-62"></a>}</span>
<span id="cb233-63"><a href="custom-templates-inputs.html#cb233-63"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>
<p>Here we are!</p>
</div>
<div id="exercises" class="section level2">
<h2><span class="header-section-number">15.4</span> Exercises</h2>
<ol style="list-style-type: decimal">
<li>Have a look at the Tabler documentation about <a href="https://preview-dev.tabler.io/docs/buttons.html">buttons</a> and extend the <code>tabler_button</code> function accordingly.</li>
<li>Propose an implementation of the <code>Advanced selectboxes</code> shown <a href="https://preview-dev.tabler.io/docs/form-elements.html#">here</a>.</li>
<li>Cards are a central elements of all templates. So are tabset panels. Improve the <code>tab_card</code> function developed in exercise 1 of Chapter <a href="custom-templates-skeleton.html#custom-templates-skeleton">13</a> so that one may easily recover the currently selected tab. Hint: a custom input binding is required.</li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="custom-templates-testing.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="custom-templates-interactivity.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/DivadNojnarg/outstanding-shiny-ui/edit/master/custom-templates-inputs.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
