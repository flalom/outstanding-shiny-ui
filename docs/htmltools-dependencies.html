<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Dependency utilities | Outstanding User Interfaces with Shiny</title>
  <meta name="description" content="A book about deeply customizing Shiny app for production." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Dependency utilities | Outstanding User Interfaces with Shiny" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A book about deeply customizing Shiny app for production." />
  <meta name="github-repo" content="DivadNojnarg/outstanding-shiny-ui" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Dependency utilities | Outstanding User Interfaces with Shiny" />
  
  <meta name="twitter:description" content="A book about deeply customizing Shiny app for production." />
  

<meta name="author" content="David Granjon" />


<meta name="date" content="2020-10-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="htmltools-overview.html"/>
<link rel="next" href="htmltools-other-tools.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Outstanding User Interfaces with Shiny</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#disclaimer"><i class="fa fa-check"></i>Disclaimer</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#is-this-book-for-me"><i class="fa fa-check"></i>Is this book for me?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#learning-objectives"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#extra-material"><i class="fa fa-check"></i>Extra material</a><ul>
<li class="chapter" data-level="0.0.1" data-path="index.html"><a href="index.html#e-rum-2020"><i class="fa fa-check"></i><b>0.0.1</b> e-Rum 2020</a></li>
<li class="chapter" data-level="0.0.2" data-path="index.html"><a href="index.html#rpharma-2020"><i class="fa fa-check"></i><b>0.0.2</b> R/Pharma 2020</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#packages"><i class="fa fa-check"></i>Packages</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#why-another-shiny-related-book"><i class="fa fa-check"></i><b>1.1</b> Why another Shiny related book?</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#book-structure"><i class="fa fa-check"></i><b>1.2</b> Book structure</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#code-structure"><i class="fa fa-check"></i><b>1.3</b> Code structure</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#preliminary-exercices"><i class="fa fa-check"></i><b>1.4</b> Preliminary exercices</a></li>
</ul></li>
<li class="part"><span><b>Shiny’s foundations</b></span></li>
<li class="chapter" data-level="2" data-path="web-intro.html"><a href="web-intro.html"><i class="fa fa-check"></i><b>2</b> Shiny and the Web</a><ul>
<li class="chapter" data-level="2.1" data-path="web-intro.html"><a href="web-intro.html#shiny-generates-html-code-from-r"><i class="fa fa-check"></i><b>2.1</b> Shiny generates HTML code from R</a></li>
<li class="chapter" data-level="2.2" data-path="web-intro.html"><a href="web-intro.html#web-intro-html"><i class="fa fa-check"></i><b>2.2</b> HTML 101</a><ul>
<li class="chapter" data-level="2.2.1" data-path="web-intro.html"><a href="web-intro.html#html-basics"><i class="fa fa-check"></i><b>2.2.1</b> HTML Basics</a></li>
<li class="chapter" data-level="2.2.2" data-path="web-intro.html"><a href="web-intro.html#tag-attributes"><i class="fa fa-check"></i><b>2.2.2</b> Tag attributes</a></li>
<li class="chapter" data-level="2.2.3" data-path="web-intro.html"><a href="web-intro.html#the-simplest-html-skeleton"><i class="fa fa-check"></i><b>2.2.3</b> The simplest HTML skeleton</a></li>
<li class="chapter" data-level="2.2.4" data-path="web-intro.html"><a href="web-intro.html#about-the-document-object-model-dom"><i class="fa fa-check"></i><b>2.2.4</b> About the Document Object Model (DOM)</a></li>
<li class="chapter" data-level="2.2.5" data-path="web-intro.html"><a href="web-intro.html#preliminary-introduction-to-css-and-javascript"><i class="fa fa-check"></i><b>2.2.5</b> Preliminary introduction to CSS and JavaScript</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="web-dependencies.html"><a href="web-dependencies.html"><i class="fa fa-check"></i><b>3</b> Discover Shiny dependencies</a><ul>
<li class="chapter" data-level="3.1" data-path="web-dependencies.html"><a href="web-dependencies.html#introduction"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="web-dependencies.html"><a href="web-dependencies.html#bootstrap"><i class="fa fa-check"></i><b>3.2</b> Bootstrap</a></li>
<li class="chapter" data-level="3.3" data-path="web-dependencies.html"><a href="web-dependencies.html#jquery-dom-manipulation"><i class="fa fa-check"></i><b>3.3</b> jQuery, DOM manipulation</a></li>
<li class="chapter" data-level="3.4" data-path="web-dependencies.html"><a href="web-dependencies.html#data-formating"><i class="fa fa-check"></i><b>3.4</b> Data formating</a></li>
<li class="chapter" data-level="3.5" data-path="web-dependencies.html"><a href="web-dependencies.html#custom-dependencies"><i class="fa fa-check"></i><b>3.5</b> Custom dependencies</a></li>
<li class="chapter" data-level="3.6" data-path="web-dependencies.html"><a href="web-dependencies.html#exercise"><i class="fa fa-check"></i><b>3.6</b> Exercise</a></li>
</ul></li>
<li class="part"><span><b>Unleash {htmltools}: from R to HTML</b></span></li>
<li class="chapter" data-level="4" data-path="htmltools-overview.html"><a href="htmltools-overview.html"><i class="fa fa-check"></i><b>4</b> htmltools overview</a><ul>
<li class="chapter" data-level="4.1" data-path="htmltools-overview.html"><a href="htmltools-overview.html#writing-html-tags-from-r"><i class="fa fa-check"></i><b>4.1</b> Writing HTML Tags from R</a></li>
<li class="chapter" data-level="4.2" data-path="htmltools-overview.html"><a href="htmltools-overview.html#notations"><i class="fa fa-check"></i><b>4.2</b> Notations</a></li>
<li class="chapter" data-level="4.3" data-path="htmltools-overview.html"><a href="htmltools-overview.html#adding-new-tags"><i class="fa fa-check"></i><b>4.3</b> Adding new tags</a></li>
<li class="chapter" data-level="4.4" data-path="htmltools-overview.html"><a href="htmltools-overview.html#alternative-way-to-write-tags"><i class="fa fa-check"></i><b>4.4</b> Alternative way to write tags</a></li>
<li class="chapter" data-level="4.5" data-path="htmltools-overview.html"><a href="htmltools-overview.html#playing-with-tags"><i class="fa fa-check"></i><b>4.5</b> Playing with tags</a><ul>
<li class="chapter" data-level="4.5.1" data-path="htmltools-overview.html"><a href="htmltools-overview.html#tags-structure"><i class="fa fa-check"></i><b>4.5.1</b> Tags structure</a></li>
<li class="chapter" data-level="4.5.2" data-path="htmltools-overview.html"><a href="htmltools-overview.html#useful-functions-for-tags"><i class="fa fa-check"></i><b>4.5.2</b> Useful functions for tags</a></li>
<li class="chapter" data-level="4.5.3" data-path="htmltools-overview.html"><a href="htmltools-overview.html#other-functions"><i class="fa fa-check"></i><b>4.5.3</b> Other functions</a></li>
<li class="chapter" data-level="4.5.4" data-path="htmltools-overview.html"><a href="htmltools-overview.html#conditionally-set-attributes"><i class="fa fa-check"></i><b>4.5.4</b> Conditionally set attributes</a></li>
<li class="chapter" data-level="4.5.5" data-path="htmltools-overview.html"><a href="htmltools-overview.html#using"><i class="fa fa-check"></i><b>4.5.5</b> Using %&gt;%</a></li>
<li class="chapter" data-level="4.5.6" data-path="htmltools-overview.html"><a href="htmltools-overview.html#programmatically-create-children-elements"><i class="fa fa-check"></i><b>4.5.6</b> Programmatically create children elements</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="htmltools-overview.html"><a href="htmltools-overview.html#exercises"><i class="fa fa-check"></i><b>4.6</b> Exercises</a><ul>
<li class="chapter" data-level="4.6.1" data-path="htmltools-overview.html"><a href="htmltools-overview.html#exercise-1-tags-structure-5-minutes"><i class="fa fa-check"></i><b>4.6.1</b> Exercise 1: tags structure (5 minutes)</a></li>
<li class="chapter" data-level="4.6.2" data-path="htmltools-overview.html"><a href="htmltools-overview.html#exercise-2-modifiying-tags-5-minutes"><i class="fa fa-check"></i><b>4.6.2</b> Exercise 2: modifiying tags (5 minutes)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="htmltools-dependencies.html"><a href="htmltools-dependencies.html"><i class="fa fa-check"></i><b>5</b> Dependency utilities</a><ul>
<li class="chapter" data-level="5.1" data-path="htmltools-dependencies.html"><a href="htmltools-dependencies.html#the-dirty-approach"><i class="fa fa-check"></i><b>5.1</b> The dirty approach</a></li>
<li class="chapter" data-level="5.2" data-path="htmltools-dependencies.html"><a href="htmltools-dependencies.html#the-clean-approach"><i class="fa fa-check"></i><b>5.2</b> The clean approach</a></li>
<li class="chapter" data-level="5.3" data-path="htmltools-dependencies.html"><a href="htmltools-dependencies.html#another-example-importing-html-dependencies-from-other-packages"><i class="fa fa-check"></i><b>5.3</b> Another example: Importing HTML dependencies from other packages</a></li>
<li class="chapter" data-level="5.4" data-path="htmltools-dependencies.html"><a href="htmltools-dependencies.html#suppress-dependencies"><i class="fa fa-check"></i><b>5.4</b> Suppress dependencies</a></li>
<li class="chapter" data-level="5.5" data-path="htmltools-dependencies.html"><a href="htmltools-dependencies.html#resolve-dependencies"><i class="fa fa-check"></i><b>5.5</b> Resolve dependencies</a></li>
<li class="chapter" data-level="5.6" data-path="htmltools-dependencies.html"><a href="htmltools-dependencies.html#insert-custom-script-in-the-head"><i class="fa fa-check"></i><b>5.6</b> Insert Custom script in the head</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="htmltools-other-tools.html"><a href="htmltools-other-tools.html"><i class="fa fa-check"></i><b>6</b> Other tools</a><ul>
<li class="chapter" data-level="6.1" data-path="htmltools-other-tools.html"><a href="htmltools-other-tools.html#css"><i class="fa fa-check"></i><b>6.1</b> CSS</a></li>
</ul></li>
<li class="part"><span><b>Deep dive in the Shiny input system</b></span></li>
<li class="chapter" data-level="7" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html"><i class="fa fa-check"></i><b>7</b> JavaScript for Shiny</a><ul>
<li class="chapter" data-level="7.1" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#shiny-javascript-sources"><i class="fa fa-check"></i><b>7.1</b> Shiny JavaScript sources</a></li>
<li class="chapter" data-level="7.2" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#introduction-to-javascript"><i class="fa fa-check"></i><b>7.2</b> Introduction to JavaScript</a></li>
<li class="chapter" data-level="7.3" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#setup"><i class="fa fa-check"></i><b>7.3</b> Setup</a><ul>
<li class="chapter" data-level="7.3.1" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#node"><i class="fa fa-check"></i><b>7.3.1</b> Node</a></li>
<li class="chapter" data-level="7.3.2" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#choose-a-good-ide"><i class="fa fa-check"></i><b>7.3.2</b> Choose a good IDE</a></li>
<li class="chapter" data-level="7.3.3" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#first-script"><i class="fa fa-check"></i><b>7.3.3</b> First Script</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#programming-with-js-basis"><i class="fa fa-check"></i><b>7.4</b> Programming with JS: basis</a><ul>
<li class="chapter" data-level="7.4.1" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#js-types"><i class="fa fa-check"></i><b>7.4.1</b> JS types</a></li>
<li class="chapter" data-level="7.4.2" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#variables"><i class="fa fa-check"></i><b>7.4.2</b> Variables</a></li>
<li class="chapter" data-level="7.4.3" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#conditions"><i class="fa fa-check"></i><b>7.4.3</b> Conditions</a></li>
<li class="chapter" data-level="7.4.4" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#objects"><i class="fa fa-check"></i><b>7.4.4</b> Objects</a></li>
<li class="chapter" data-level="7.4.5" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#iterations"><i class="fa fa-check"></i><b>7.4.5</b> Iterations</a></li>
<li class="chapter" data-level="7.4.6" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#functions"><i class="fa fa-check"></i><b>7.4.6</b> Functions</a></li>
<li class="chapter" data-level="7.4.7" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#event-listeners"><i class="fa fa-check"></i><b>7.4.7</b> Event listeners</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#jquery"><i class="fa fa-check"></i><b>7.5</b> jQuery</a><ul>
<li class="chapter" data-level="7.5.1" data-path="web-dependencies.html"><a href="web-dependencies.html#introduction"><i class="fa fa-check"></i><b>7.5.1</b> Introduction</a></li>
<li class="chapter" data-level="7.5.2" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#syntax"><i class="fa fa-check"></i><b>7.5.2</b> Syntax</a></li>
<li class="chapter" data-level="7.5.3" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#useful-functions"><i class="fa fa-check"></i><b>7.5.3</b> Useful functions</a></li>
<li class="chapter" data-level="7.5.4" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#chaining-jquery-methods"><i class="fa fa-check"></i><b>7.5.4</b> Chaining jQuery methods</a></li>
<li class="chapter" data-level="7.5.5" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#iterations-1"><i class="fa fa-check"></i><b>7.5.5</b> Iterations</a></li>
<li class="chapter" data-level="7.5.6" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#good-practice"><i class="fa fa-check"></i><b>7.5.6</b> Good practice</a></li>
<li class="chapter" data-level="7.5.7" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#events"><i class="fa fa-check"></i><b>7.5.7</b> Events</a></li>
<li class="chapter" data-level="7.5.8" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#extending-objects"><i class="fa fa-check"></i><b>7.5.8</b> Extending objects</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#shiny-js-inspector"><i class="fa fa-check"></i><b>7.6</b> Shiny, JavaScript and the HTML inspector</a><ul>
<li class="chapter" data-level="7.6.1" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#the-console-panel"><i class="fa fa-check"></i><b>7.6.1</b> The console panel</a></li>
<li class="chapter" data-level="7.6.2" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#debug-shinyjs-code-with-the-inspector"><i class="fa fa-check"></i><b>7.6.2</b> Debug Shiny/JS code with the inspector</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="htmltools-overview.html"><a href="htmltools-overview.html#exercises"><i class="fa fa-check"></i><b>7.7</b> Exercises</a><ul>
<li class="chapter" data-level="7.7.1" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#exercise-1-define-variables"><i class="fa fa-check"></i><b>7.7.1</b> Exercise 1: define variables</a></li>
<li class="chapter" data-level="7.7.2" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#exercise-2-define-objects"><i class="fa fa-check"></i><b>7.7.2</b> Exercise 2: define objects</a></li>
<li class="chapter" data-level="7.7.3" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#exercise-3-jquery"><i class="fa fa-check"></i><b>7.7.3</b> Exercise 3: jQuery</a></li>
<li class="chapter" data-level="7.7.4" data-path="survival-kit-javascript.html"><a href="survival-kit-javascript.html#exercise-4-a-pure-js-action-button"><i class="fa fa-check"></i><b>7.7.4</b> Exercise 4: a pure JS action button</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="shiny-intro.html"><a href="shiny-intro.html"><i class="fa fa-check"></i><b>8</b> Shiny’s internal: session and websockets</a><ul>
<li class="chapter" data-level="8.1" data-path="shiny-intro.html"><a href="shiny-intro.html#shiny-websocket"><i class="fa fa-check"></i><b>8.1</b> Websocket: R/JS bidirectional communication</a></li>
<li class="chapter" data-level="8.2" data-path="shiny-intro.html"><a href="shiny-intro.html#shiny-session"><i class="fa fa-check"></i><b>8.2</b> The Shiny session object</a></li>
<li class="chapter" data-level="8.3" data-path="shiny-intro.html"><a href="shiny-intro.html#shiny-js-object"><i class="fa fa-check"></i><b>8.3</b> The Shiny JavaScript object</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="shiny-input-system.html"><a href="shiny-input-system.html"><i class="fa fa-check"></i><b>9</b> Shiny’s input system</a><ul>
<li class="chapter" data-level="9.1" data-path="shiny-input-system.html"><a href="shiny-input-system.html#initialization"><i class="fa fa-check"></i><b>9.1</b> Initialization</a></li>
<li class="chapter" data-level="9.2" data-path="shiny-input-system.html"><a href="shiny-input-system.html#input-bindings"><i class="fa fa-check"></i><b>9.2</b> Input bindings</a><ul>
<li class="chapter" data-level="9.2.1" data-path="shiny-input-system.html"><a href="shiny-input-system.html#input-structure"><i class="fa fa-check"></i><b>9.2.1</b> Input structure</a></li>
<li class="chapter" data-level="9.2.2" data-path="shiny-input-system.html"><a href="shiny-input-system.html#binding-shiny-inputs"><i class="fa fa-check"></i><b>9.2.2</b> Binding Shiny inputs</a></li>
<li class="chapter" data-level="9.2.3" data-path="shiny-input-system.html"><a href="shiny-input-system.html#edit-an-input-binding"><i class="fa fa-check"></i><b>9.2.3</b> Edit an input binding</a></li>
<li class="chapter" data-level="9.2.4" data-path="shiny-input-system.html"><a href="shiny-input-system.html#update-a-binding-from-the-client"><i class="fa fa-check"></i><b>9.2.4</b> Update a binding from the client</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="shiny-input-system.html"><a href="shiny-input-system.html#binding-other-elements"><i class="fa fa-check"></i><b>9.3</b> Binding other elements</a><ul>
<li class="chapter" data-level="9.3.1" data-path="shiny-input-system.html"><a href="shiny-input-system.html#shinydashboard-boxes-on-steroids"><i class="fa fa-check"></i><b>9.3.1</b> {shinydashboard} boxes on steroids</a></li>
<li class="chapter" data-level="9.3.2" data-path="shiny-input-system.html"><a href="shiny-input-system.html#going-further"><i class="fa fa-check"></i><b>9.3.2</b> Going further</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="shiny-input-system.html"><a href="shiny-input-system.html#utilities-to-quickly-define-new-inputs"><i class="fa fa-check"></i><b>9.4</b> Utilities to quickly define new inputs</a><ul>
<li class="chapter" data-level="9.4.1" data-path="web-dependencies.html"><a href="web-dependencies.html#introduction"><i class="fa fa-check"></i><b>9.4.1</b> Introduction</a></li>
<li class="chapter" data-level="9.4.2" data-path="shiny-input-system.html"><a href="shiny-input-system.html#examples"><i class="fa fa-check"></i><b>9.4.2</b> Examples</a></li>
<li class="chapter" data-level="9.4.3" data-path="shiny-input-system.html"><a href="shiny-input-system.html#custom-data-format"><i class="fa fa-check"></i><b>9.4.3</b> Custom data format</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="shiny-input-system.html"><a href="shiny-input-system.html#hidden-gems-about-inputs"><i class="fa fa-check"></i><b>9.5</b> Hidden gems about inputs</a><ul>
<li class="chapter" data-level="9.5.1" data-path="shiny-input-system.html"><a href="shiny-input-system.html#get-access-to-initial-values"><i class="fa fa-check"></i><b>9.5.1</b> Get access to initial values</a></li>
<li class="chapter" data-level="9.5.2" data-path="shiny-input-system.html"><a href="shiny-input-system.html#get-the-last-changed-input"><i class="fa fa-check"></i><b>9.5.2</b> Get the last changed input</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="shiny-custom-handler.html"><a href="shiny-custom-handler.html"><i class="fa fa-check"></i><b>10</b> Custom handlers: from R to JavaScript</a></li>
<li class="part"><span><b>Practice 1: a dashboard template</b></span></li>
<li class="chapter" data-level="11" data-path="custom-templates-selection.html"><a href="custom-templates-selection.html"><i class="fa fa-check"></i><b>11</b> Template selection</a></li>
<li class="chapter" data-level="12" data-path="custom-templates-dependencies.html"><a href="custom-templates-dependencies.html"><i class="fa fa-check"></i><b>12</b> Define dependencies</a><ul>
<li class="chapter" data-level="12.1" data-path="custom-templates-dependencies.html"><a href="custom-templates-dependencies.html#discover-the-project"><i class="fa fa-check"></i><b>12.1</b> Discover the project</a></li>
<li class="chapter" data-level="12.2" data-path="custom-templates-dependencies.html"><a href="custom-templates-dependencies.html#identify-mandatory-dependencies"><i class="fa fa-check"></i><b>12.2</b> Identify mandatory dependencies</a></li>
<li class="chapter" data-level="12.3" data-path="custom-templates-dependencies.html"><a href="custom-templates-dependencies.html#bundle-dependencies"><i class="fa fa-check"></i><b>12.3</b> Bundle dependencies</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html"><i class="fa fa-check"></i><b>13</b> Template skeleton</a><ul>
<li class="chapter" data-level="13.1" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#identify-template-elements"><i class="fa fa-check"></i><b>13.1</b> Identify template elements</a></li>
<li class="chapter" data-level="13.2" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#design-the-page-layout"><i class="fa fa-check"></i><b>13.2</b> Design the page layout</a><ul>
<li class="chapter" data-level="13.2.1" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#the-page-wrapper"><i class="fa fa-check"></i><b>13.2.1</b> The page wrapper</a></li>
<li class="chapter" data-level="13.2.2" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#the-body-content"><i class="fa fa-check"></i><b>13.2.2</b> The body content</a></li>
<li class="chapter" data-level="13.2.3" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#the-footer"><i class="fa fa-check"></i><b>13.2.3</b> The footer</a></li>
<li class="chapter" data-level="13.2.4" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#the-navbar-or-header"><i class="fa fa-check"></i><b>13.2.4</b> The navbar (or header)</a></li>
<li class="chapter" data-level="13.2.5" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#card-containers"><i class="fa fa-check"></i><b>13.2.5</b> Card containers</a></li>
<li class="chapter" data-level="13.2.6" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#ribbons-card-components"><i class="fa fa-check"></i><b>13.2.6</b> Ribbons: card components</a></li>
<li class="chapter" data-level="13.2.7" data-path="custom-templates-skeleton.html"><a href="custom-templates-skeleton.html#icons"><i class="fa fa-check"></i><b>13.2.7</b> Icons</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="htmltools-overview.html"><a href="htmltools-overview.html#exercises"><i class="fa fa-check"></i><b>13.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html"><i class="fa fa-check"></i><b>14</b> Testing and validating templates elements</a><ul>
<li class="chapter" data-level="14.1" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html#validate-template-functions"><i class="fa fa-check"></i><b>14.1</b> Validate template functions</a><ul>
<li class="chapter" data-level="14.1.1" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html#create-your-own-validations"><i class="fa fa-check"></i><b>14.1.1</b> Create your own validations</a></li>
<li class="chapter" data-level="14.1.2" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html#existing-utils-functions"><i class="fa fa-check"></i><b>14.1.2</b> Existing utils functions</a></li>
<li class="chapter" data-level="14.1.3" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html#example-refine-navbar-menu-items"><i class="fa fa-check"></i><b>14.1.3</b> Example: refine navbar menu items</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html#testing-templates-elements"><i class="fa fa-check"></i><b>14.2</b> Testing templates elements</a><ul>
<li class="chapter" data-level="14.2.1" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html#testing-template-behavior"><i class="fa fa-check"></i><b>14.2.1</b> Testing template behavior</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="custom-templates-testing.html"><a href="custom-templates-testing.html#testing-javascript"><i class="fa fa-check"></i><b>14.3</b> Testing JavaScript</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="custom-templates-inputs.html"><a href="custom-templates-inputs.html"><i class="fa fa-check"></i><b>15</b> Develop custom input widgets</a><ul>
<li class="chapter" data-level="15.1" data-path="custom-templates-inputs.html"><a href="custom-templates-inputs.html#tabler-action-button"><i class="fa fa-check"></i><b>15.1</b> Tabler action button</a><ul>
<li class="chapter" data-level="15.1.1" data-path="custom-templates-inputs.html"><a href="custom-templates-inputs.html#reminders-about-the-action-button"><i class="fa fa-check"></i><b>15.1.1</b> Reminders about the action button</a></li>
<li class="chapter" data-level="15.1.2" data-path="custom-templates-inputs.html"><a href="custom-templates-inputs.html#application-to-tabler"><i class="fa fa-check"></i><b>15.1.2</b> Application to Tabler</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="custom-templates-inputs.html"><a href="custom-templates-inputs.html#toggle-switch"><i class="fa fa-check"></i><b>15.2</b> Toggle Switch</a></li>
<li class="chapter" data-level="15.3" data-path="custom-templates-inputs.html"><a href="custom-templates-inputs.html#navbar-menu-input"><i class="fa fa-check"></i><b>15.3</b> Navbar menu input</a></li>
<li class="chapter" data-level="15.4" data-path="htmltools-overview.html"><a href="htmltools-overview.html#exercises"><i class="fa fa-check"></i><b>15.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html"><i class="fa fa-check"></i><b>16</b> Adding more interactivity</a><ul>
<li class="chapter" data-level="16.1" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#custom-progress-bars"><i class="fa fa-check"></i><b>16.1</b> Custom progress bars</a></li>
<li class="chapter" data-level="16.2" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#user-feedback-toasts"><i class="fa fa-check"></i><b>16.2</b> User feedback: toasts</a><ul>
<li class="chapter" data-level="16.2.1" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#toast-skeleton"><i class="fa fa-check"></i><b>16.2.1</b> Toast skeleton</a></li>
<li class="chapter" data-level="16.2.2" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#the-toast-api"><i class="fa fa-check"></i><b>16.2.2</b> The toast API</a></li>
<li class="chapter" data-level="16.2.3" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#r-implementation"><i class="fa fa-check"></i><b>16.2.3</b> R implementation</a></li>
<li class="chapter" data-level="16.2.4" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#wrap-up"><i class="fa fa-check"></i><b>16.2.4</b> Wrap up</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#transform-an-element-in-a-custom-action-button"><i class="fa fa-check"></i><b>16.3</b> Transform an element in a custom action button</a></li>
<li class="chapter" data-level="16.4" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#tab-events"><i class="fa fa-check"></i><b>16.4</b> Tab events</a><ul>
<li class="chapter" data-level="16.4.1" data-path="custom-templates-interactivity.html"><a href="custom-templates-interactivity.html#insert-tabs"><i class="fa fa-check"></i><b>16.4.1</b> Insert/Remove tabs in tabsetpanel</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="htmltools-overview.html"><a href="htmltools-overview.html#exercises"><i class="fa fa-check"></i><b>16.5</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>Toward a better workflow</b></span></li>
<li class="chapter" data-level="17" data-path="workflow-charpente.html"><a href="workflow-charpente.html"><i class="fa fa-check"></i><b>17</b> Introduction to {charpente}</a><ul>
<li class="chapter" data-level="17.1" data-path="shiny-input-system.html"><a href="shiny-input-system.html#motivations"><i class="fa fa-check"></i><b>17.1</b> Motivations</a></li>
<li class="chapter" data-level="17.2" data-path="workflow-charpente.html"><a href="workflow-charpente.html#step-by-step"><i class="fa fa-check"></i><b>17.2</b> Step by step</a></li>
</ul></li>
<li class="part"><span><b>Beautify with CSS and SASS</b></span></li>
<li class="chapter" data-level="18" data-path="beautify-with-fresh.html"><a href="beautify-with-fresh.html"><i class="fa fa-check"></i><b>18</b> Beautify with fresh</a><ul>
<li class="chapter" data-level="18.1" data-path="beautify-with-fresh.html"><a href="beautify-with-fresh.html#fresh-the-big-picture"><i class="fa fa-check"></i><b>18.1</b> {fresh}, the big picture</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Outstanding User Interfaces with Shiny</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="htmltools-dependencies" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Dependency utilities</h1>
<p>When creating a new template, you have to import custom HTML dependencies that are not available in shiny. Fortunately, this is not a problem with <code>{htmltools}</code> <span class="citation">(Cheng et al. <a href="#ref-R-htmltools" role="doc-biblioref">2020</a>)</span>!</p>
<div id="the-dirty-approach" class="section level2">
<h2><span class="header-section-number">5.1</span> The dirty approach</h2>
<p>Let’s consider the following example. Since Bootstrap is one of the most popular HTML/CSS/JS framework to develop websites and web apps, we want to include a bootstrap 4 card in a shiny app. This case study is taken from a RStudio Community <a href="https://community.rstudio.com/t/create-a-div-using-htmltools-withtags/22439/2">question</a>. The naive approach would be to include the HTML code directly in the app code. This approach is dirty since it is not easily re-usable by others.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="htmltools-dependencies.html#cb84-1"></a><span class="co"># we create the card function before</span></span>
<span id="cb84-2"><a href="htmltools-dependencies.html#cb84-2"></a>my_card &lt;-<span class="st"> </span><span class="cf">function</span>(...) {</span>
<span id="cb84-3"><a href="htmltools-dependencies.html#cb84-3"></a>  <span class="kw">withTags</span>(</span>
<span id="cb84-4"><a href="htmltools-dependencies.html#cb84-4"></a>    <span class="kw">div</span>(</span>
<span id="cb84-5"><a href="htmltools-dependencies.html#cb84-5"></a>      <span class="dt">class =</span> <span class="st">&quot;card border-success mb-3&quot;</span>,</span>
<span id="cb84-6"><a href="htmltools-dependencies.html#cb84-6"></a>      <span class="kw">div</span>(<span class="dt">class =</span> <span class="st">&quot;card-header bg-transparent border-success&quot;</span>),</span>
<span id="cb84-7"><a href="htmltools-dependencies.html#cb84-7"></a>      <span class="kw">div</span>(</span>
<span id="cb84-8"><a href="htmltools-dependencies.html#cb84-8"></a>        <span class="dt">class =</span> <span class="st">&quot;card-body text-success&quot;</span>,</span>
<span id="cb84-9"><a href="htmltools-dependencies.html#cb84-9"></a>        <span class="kw">h3</span>(<span class="dt">class =</span> <span class="st">&quot;card-title&quot;</span>, <span class="st">&quot;title&quot;</span>),</span>
<span id="cb84-10"><a href="htmltools-dependencies.html#cb84-10"></a>        <span class="kw">p</span>(<span class="dt">class =</span> <span class="st">&quot;card-text&quot;</span>, ...)</span>
<span id="cb84-11"><a href="htmltools-dependencies.html#cb84-11"></a>      ),</span>
<span id="cb84-12"><a href="htmltools-dependencies.html#cb84-12"></a>      <span class="kw">div</span>(<span class="dt">class =</span> <span class="st">&quot;card-footer bg-transparent border-success&quot;</span>, <span class="st">&quot;footer&quot;</span>)</span>
<span id="cb84-13"><a href="htmltools-dependencies.html#cb84-13"></a>    )</span>
<span id="cb84-14"><a href="htmltools-dependencies.html#cb84-14"></a>  )</span>
<span id="cb84-15"><a href="htmltools-dependencies.html#cb84-15"></a>}</span>
<span id="cb84-16"><a href="htmltools-dependencies.html#cb84-16"></a></span>
<span id="cb84-17"><a href="htmltools-dependencies.html#cb84-17"></a><span class="co"># we build our app</span></span>
<span id="cb84-18"><a href="htmltools-dependencies.html#cb84-18"></a><span class="kw">shinyApp</span>(</span>
<span id="cb84-19"><a href="htmltools-dependencies.html#cb84-19"></a>  <span class="dt">ui =</span> <span class="kw">fluidPage</span>(</span>
<span id="cb84-20"><a href="htmltools-dependencies.html#cb84-20"></a>    <span class="kw">fluidRow</span>(</span>
<span id="cb84-21"><a href="htmltools-dependencies.html#cb84-21"></a>      <span class="kw">column</span>(</span>
<span id="cb84-22"><a href="htmltools-dependencies.html#cb84-22"></a>        <span class="dt">width =</span> <span class="dv">6</span>,</span>
<span id="cb84-23"><a href="htmltools-dependencies.html#cb84-23"></a>        <span class="dt">align =</span> <span class="st">&quot;center&quot;</span>,</span>
<span id="cb84-24"><a href="htmltools-dependencies.html#cb84-24"></a>        <span class="kw">br</span>(),</span>
<span id="cb84-25"><a href="htmltools-dependencies.html#cb84-25"></a>        <span class="kw">my_card</span>(<span class="st">&quot;blablabla. PouetPouet Pouet.&quot;</span>)</span>
<span id="cb84-26"><a href="htmltools-dependencies.html#cb84-26"></a>      )</span>
<span id="cb84-27"><a href="htmltools-dependencies.html#cb84-27"></a>    )</span>
<span id="cb84-28"><a href="htmltools-dependencies.html#cb84-28"></a>  ),</span>
<span id="cb84-29"><a href="htmltools-dependencies.html#cb84-29"></a>  <span class="dt">server =</span> <span class="cf">function</span>(input, output) {}</span>
<span id="cb84-30"><a href="htmltools-dependencies.html#cb84-30"></a>)</span></code></pre></div>
<p>Nothing is displayed which was expected since <code>{shiny}</code> <span class="citation">(Chang et al. <a href="#ref-R-shiny" role="doc-biblioref">2020</a>)</span> does not contain bootstrap 4 dependencies and this card is a bootstrap 4 element. Don’t panic! We load the necessary css to display this card (if required, we could include the javascript as well). We could use either <code>includeCSS()</code>, <code>tags$head(tags$link(rel = "stylesheet", type = "text/css", href = "custom.css"))</code>. See more <a href="https://shiny.rstudio.com/articles/css.html">here</a>. Web development best practice recommend to point to external file rather than including CSS in the head or directly on a tag (inline CSS). In the below example, we use a CDN (content delivery network) but that could be a local file located in the <code>www/</code> folder.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="htmltools-dependencies.html#cb85-1"></a><span class="kw">shinyApp</span>(</span>
<span id="cb85-2"><a href="htmltools-dependencies.html#cb85-2"></a>  <span class="dt">ui =</span> <span class="kw">fluidPage</span>(</span>
<span id="cb85-3"><a href="htmltools-dependencies.html#cb85-3"></a>    <span class="co"># load the css code</span></span>
<span id="cb85-4"><a href="htmltools-dependencies.html#cb85-4"></a>    tags<span class="op">$</span><span class="kw">head</span>(</span>
<span id="cb85-5"><a href="htmltools-dependencies.html#cb85-5"></a>      tags<span class="op">$</span><span class="kw">link</span>(<span class="dt">rel =</span> <span class="st">&quot;stylesheet&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;text/css&quot;</span>, <span class="dt">href =</span> <span class="st">&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css&quot;</span>)</span>
<span id="cb85-6"><a href="htmltools-dependencies.html#cb85-6"></a>    ),</span>
<span id="cb85-7"><a href="htmltools-dependencies.html#cb85-7"></a>    <span class="kw">fluidRow</span>(</span>
<span id="cb85-8"><a href="htmltools-dependencies.html#cb85-8"></a>      <span class="kw">column</span>(</span>
<span id="cb85-9"><a href="htmltools-dependencies.html#cb85-9"></a>        <span class="dt">width =</span> <span class="dv">6</span>,</span>
<span id="cb85-10"><a href="htmltools-dependencies.html#cb85-10"></a>        <span class="dt">align =</span> <span class="st">&quot;center&quot;</span>,</span>
<span id="cb85-11"><a href="htmltools-dependencies.html#cb85-11"></a>        <span class="kw">br</span>(),</span>
<span id="cb85-12"><a href="htmltools-dependencies.html#cb85-12"></a>        <span class="kw">my_card</span>(<span class="st">&quot;blablabla. PouetPouet Pouet.&quot;</span>)</span>
<span id="cb85-13"><a href="htmltools-dependencies.html#cb85-13"></a>      )</span>
<span id="cb85-14"><a href="htmltools-dependencies.html#cb85-14"></a>    )</span>
<span id="cb85-15"><a href="htmltools-dependencies.html#cb85-15"></a>  ),</span>
<span id="cb85-16"><a href="htmltools-dependencies.html#cb85-16"></a>  <span class="dt">server =</span> <span class="cf">function</span>(input, output) {}</span>
<span id="cb85-17"><a href="htmltools-dependencies.html#cb85-17"></a>)</span></code></pre></div>
<p>The card may seem ugly but at least it is displayed.</p>
</div>
<div id="the-clean-approach" class="section level2">
<h2><span class="header-section-number">5.2</span> The clean approach</h2>
<p>The best approach consists in leveraging the <code>htmlDependency</code> and <code>attachDependencies</code> functions from <code>{htmltools}</code>.
The <code>htmlDependency</code> function takes the following main parameters:</p>
<ul>
<li>the dependency name</li>
<li>the version (useful to remember on which version it is built upon)</li>
<li>a path to the dependency (can be a CDN or a local folder)</li>
<li>script and stylesheet to respectively pass css and scripts</li>
</ul>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="htmltools-dependencies.html#cb86-1"></a><span class="co"># handle dependency</span></span>
<span id="cb86-2"><a href="htmltools-dependencies.html#cb86-2"></a>card_css &lt;-<span class="st"> &quot;bootstrap.min.css&quot;</span></span>
<span id="cb86-3"><a href="htmltools-dependencies.html#cb86-3"></a>bs4_card_dep &lt;-<span class="st"> </span><span class="cf">function</span>() {</span>
<span id="cb86-4"><a href="htmltools-dependencies.html#cb86-4"></a>  <span class="kw">htmlDependency</span>(</span>
<span id="cb86-5"><a href="htmltools-dependencies.html#cb86-5"></a>    <span class="dt">name =</span> <span class="st">&quot;bs4_card&quot;</span>,</span>
<span id="cb86-6"><a href="htmltools-dependencies.html#cb86-6"></a>    <span class="dt">version =</span> <span class="st">&quot;1.0&quot;</span>,</span>
<span id="cb86-7"><a href="htmltools-dependencies.html#cb86-7"></a>    <span class="dt">src =</span> <span class="kw">c</span>(<span class="dt">href =</span> <span class="st">&quot;https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/&quot;</span>),</span>
<span id="cb86-8"><a href="htmltools-dependencies.html#cb86-8"></a>    <span class="dt">stylesheet =</span> card_css</span>
<span id="cb86-9"><a href="htmltools-dependencies.html#cb86-9"></a>  )</span>
<span id="cb86-10"><a href="htmltools-dependencies.html#cb86-10"></a>}</span></code></pre></div>
<p>If you are not pointing to a CDN and use local files, this is crucial to wrap the <code>htmlDependency</code> in a function since the path has to be determined at run time and not when the package builds. It means that if you are developing a package with dependencies, forgetting this step might prevent other users to get the dependency working on their own machine (the differences between Unix and Windows OS paths is clearly a good example).</p>
<p>We create the card tag and give it the bootstrap 4 dependency through the <code>attachDependencies()</code> function. In recent version of <code>{htmltools}</code>, we may simply use <code>tagList(tag, deps)</code> instead. Importantly, has an <code>append</code> parameter FALSE by default. Ensure to set it to TRUE if you want to keep already attached dependencies!</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="htmltools-dependencies.html#cb87-1"></a><span class="co"># create the card</span></span>
<span id="cb87-2"><a href="htmltools-dependencies.html#cb87-2"></a>my_card &lt;-<span class="st"> </span><span class="cf">function</span>(...) {</span>
<span id="cb87-3"><a href="htmltools-dependencies.html#cb87-3"></a>  cardTag &lt;-<span class="st"> </span><span class="kw">withTags</span>(</span>
<span id="cb87-4"><a href="htmltools-dependencies.html#cb87-4"></a>    <span class="kw">div</span>(</span>
<span id="cb87-5"><a href="htmltools-dependencies.html#cb87-5"></a>      <span class="dt">class =</span> <span class="st">&quot;card border-success mb-3&quot;</span>,</span>
<span id="cb87-6"><a href="htmltools-dependencies.html#cb87-6"></a>      <span class="kw">div</span>(<span class="dt">class =</span> <span class="st">&quot;card-header bg-transparent border-success&quot;</span>),</span>
<span id="cb87-7"><a href="htmltools-dependencies.html#cb87-7"></a>      <span class="kw">div</span>(</span>
<span id="cb87-8"><a href="htmltools-dependencies.html#cb87-8"></a>        <span class="dt">class =</span> <span class="st">&quot;card-body text-success&quot;</span>,</span>
<span id="cb87-9"><a href="htmltools-dependencies.html#cb87-9"></a>        <span class="kw">h3</span>(<span class="dt">class =</span> <span class="st">&quot;card-title&quot;</span>, <span class="st">&quot;title&quot;</span>),</span>
<span id="cb87-10"><a href="htmltools-dependencies.html#cb87-10"></a>        <span class="kw">p</span>(<span class="dt">class =</span> <span class="st">&quot;card-text&quot;</span>, ...)</span>
<span id="cb87-11"><a href="htmltools-dependencies.html#cb87-11"></a>      ),</span>
<span id="cb87-12"><a href="htmltools-dependencies.html#cb87-12"></a>      <span class="kw">div</span>(<span class="dt">class =</span> <span class="st">&quot;card-footer bg-transparent border-success&quot;</span>, <span class="st">&quot;footer&quot;</span>)</span>
<span id="cb87-13"><a href="htmltools-dependencies.html#cb87-13"></a>    )</span>
<span id="cb87-14"><a href="htmltools-dependencies.html#cb87-14"></a>  )</span>
<span id="cb87-15"><a href="htmltools-dependencies.html#cb87-15"></a>  </span>
<span id="cb87-16"><a href="htmltools-dependencies.html#cb87-16"></a>  <span class="co"># attach dependencies (old way)</span></span>
<span id="cb87-17"><a href="htmltools-dependencies.html#cb87-17"></a>  <span class="co"># htmltools::attachDependencies(cardTag, bs4_card_dep())</span></span>
<span id="cb87-18"><a href="htmltools-dependencies.html#cb87-18"></a>  </span>
<span id="cb87-19"><a href="htmltools-dependencies.html#cb87-19"></a>  <span class="co"># simpler way</span></span>
<span id="cb87-20"><a href="htmltools-dependencies.html#cb87-20"></a>  <span class="kw">tagList</span>(cardTag, <span class="kw">bs4_card_dep</span>())</span>
<span id="cb87-21"><a href="htmltools-dependencies.html#cb87-21"></a>  </span>
<span id="cb87-22"><a href="htmltools-dependencies.html#cb87-22"></a>}</span></code></pre></div>
<p>We finally run our app:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="htmltools-dependencies.html#cb88-1"></a><span class="co"># run shiny app </span></span>
<span id="cb88-2"><a href="htmltools-dependencies.html#cb88-2"></a>ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</span>
<span id="cb88-3"><a href="htmltools-dependencies.html#cb88-3"></a>  <span class="dt">title =</span> <span class="st">&quot;Hello Shiny!&quot;</span>,</span>
<span id="cb88-4"><a href="htmltools-dependencies.html#cb88-4"></a>  <span class="kw">fluidRow</span>(</span>
<span id="cb88-5"><a href="htmltools-dependencies.html#cb88-5"></a>    <span class="kw">column</span>(</span>
<span id="cb88-6"><a href="htmltools-dependencies.html#cb88-6"></a>      <span class="dt">width =</span> <span class="dv">6</span>,</span>
<span id="cb88-7"><a href="htmltools-dependencies.html#cb88-7"></a>      <span class="dt">align =</span> <span class="st">&quot;center&quot;</span>,</span>
<span id="cb88-8"><a href="htmltools-dependencies.html#cb88-8"></a>      <span class="kw">br</span>(),</span>
<span id="cb88-9"><a href="htmltools-dependencies.html#cb88-9"></a>      <span class="kw">my_card</span>(<span class="st">&quot;blablabla. PouetPouet Pouet.&quot;</span>)</span>
<span id="cb88-10"><a href="htmltools-dependencies.html#cb88-10"></a>    )</span>
<span id="cb88-11"><a href="htmltools-dependencies.html#cb88-11"></a>  )</span>
<span id="cb88-12"><a href="htmltools-dependencies.html#cb88-12"></a>)</span>
<span id="cb88-13"><a href="htmltools-dependencies.html#cb88-13"></a></span>
<span id="cb88-14"><a href="htmltools-dependencies.html#cb88-14"></a><span class="kw">shinyApp</span>(ui, <span class="dt">server =</span> <span class="cf">function</span>(input, output) { })</span></code></pre></div>
<p>With this approach, you can develop a package of custom dependencies that people
could use when they need to add custom elements in shiny.</p>
</div>
<div id="another-example-importing-html-dependencies-from-other-packages" class="section level2">
<h2><span class="header-section-number">5.3</span> Another example: Importing HTML dependencies from other packages</h2>
<p>The <code>{shinydashboard}</code> <span class="citation">(Chang and Borges Ribeiro <a href="#ref-R-shinydashboard" role="doc-biblioref">2018</a>)</span> package helps to design dashboards with shiny. In the following, we would like to integrate the box component in a classic Shiny App (without the dashboard layout). However, if you try to include the box tag, you will notice that nothing is displayed since <code>{shiny}</code> does not have <code>{shinydashboard}</code> dependencies. <code>{htmltools}</code> contains a function, namely <code>findDependencies</code> that looks for all dependencies attached to a tag. Before going further, let’s define the basic skeleton of a dashboard:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="htmltools-dependencies.html#cb89-1"></a><span class="kw">shinyApp</span>(</span>
<span id="cb89-2"><a href="htmltools-dependencies.html#cb89-2"></a>  <span class="dt">ui =</span> <span class="kw">dashboardPage</span>(</span>
<span id="cb89-3"><a href="htmltools-dependencies.html#cb89-3"></a>    <span class="kw">dashboardHeader</span>(),</span>
<span id="cb89-4"><a href="htmltools-dependencies.html#cb89-4"></a>    <span class="kw">dashboardSidebar</span>(),</span>
<span id="cb89-5"><a href="htmltools-dependencies.html#cb89-5"></a>    <span class="kw">dashboardBody</span>(),</span>
<span id="cb89-6"><a href="htmltools-dependencies.html#cb89-6"></a>    <span class="dt">title =</span> <span class="st">&quot;Dashboard example&quot;</span></span>
<span id="cb89-7"><a href="htmltools-dependencies.html#cb89-7"></a>  ),</span>
<span id="cb89-8"><a href="htmltools-dependencies.html#cb89-8"></a>  <span class="dt">server =</span> <span class="cf">function</span>(input, output) { }</span>
<span id="cb89-9"><a href="htmltools-dependencies.html#cb89-9"></a>)</span></code></pre></div>
<p>There are numerous details associated with shinydashboard that we will not go into. If you are interested in learning more, please <a href="https://rstudio.github.io/shinydashboard/">help yourself</a>. The key point here is the main wrapper function <code>dashboardPage</code>. The <code>fluidPage</code> is another wrapper function that most are already familiar with. We apply <code>findDependencies</code> on <code>dashboardPage</code>.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="htmltools-dependencies.html#cb90-1"></a>deps &lt;-<span class="st"> </span><span class="kw">findDependencies</span>(</span>
<span id="cb90-2"><a href="htmltools-dependencies.html#cb90-2"></a>  <span class="kw">dashboardPage</span>(</span>
<span id="cb90-3"><a href="htmltools-dependencies.html#cb90-3"></a>    <span class="dt">header =</span> <span class="kw">dashboardHeader</span>(), </span>
<span id="cb90-4"><a href="htmltools-dependencies.html#cb90-4"></a>    <span class="dt">sidebar =</span> <span class="kw">dashboardSidebar</span>(), </span>
<span id="cb90-5"><a href="htmltools-dependencies.html#cb90-5"></a>    <span class="dt">body =</span> <span class="kw">dashboardBody</span>()</span>
<span id="cb90-6"><a href="htmltools-dependencies.html#cb90-6"></a>  )</span>
<span id="cb90-7"><a href="htmltools-dependencies.html#cb90-7"></a>)</span>
<span id="cb90-8"><a href="htmltools-dependencies.html#cb90-8"></a>deps</span></code></pre></div>
<pre><code>## [[1]]
## List of 10
##  $ name      : chr &quot;font-awesome&quot;
##  $ version   : chr &quot;5.13.0&quot;
##  $ src       :List of 1
##   ..$ file: chr &quot;www/shared/fontawesome&quot;
##  $ meta      : NULL
##  $ script    : NULL
##  $ stylesheet: chr [1:2] &quot;css/all.min.css&quot; &quot;css/v4-shims.min.css&quot;
##  $ head      : NULL
##  $ attachment: NULL
##  $ package   : chr &quot;shiny&quot;
##  $ all_files : logi TRUE
##  - attr(*, &quot;class&quot;)= chr &quot;html_dependency&quot;
## 
## [[2]]
## List of 10
##  $ name      : chr &quot;bootstrap&quot;
##  $ version   : chr &quot;3.4.1&quot;
##  $ src       :List of 2
##   ..$ href: chr &quot;shared/bootstrap&quot;
##   ..$ file: chr &quot;/Library/Frameworks/R.framework/Versions/3.6/Resources/library/shiny/www/shared/bootstrap&quot;
##  $ meta      :List of 1
##   ..$ viewport: chr &quot;width=device-width, initial-scale=1&quot;
##  $ script    : chr [1:3] &quot;js/bootstrap.min.js&quot; &quot;shim/html5shiv.min.js&quot; &quot;shim/respond.min.js&quot;
##  $ stylesheet: chr &quot;css/bootstrap.min.css&quot;
##  $ head      : NULL
##  $ attachment: NULL
##  $ package   : NULL
##  $ all_files : logi TRUE
##  - attr(*, &quot;class&quot;)= chr &quot;html_dependency&quot;
## 
## [[3]]
## List of 10
##  $ name      : chr &quot;AdminLTE&quot;
##  $ version   : chr &quot;2.0.6&quot;
##  $ src       :List of 1
##   ..$ file: chr &quot;/Library/Frameworks/R.framework/Versions/3.6/Resources/library/shinydashboard/AdminLTE&quot;
##  $ meta      : NULL
##  $ script    : chr &quot;app.min.js&quot;
##  $ stylesheet: chr [1:2] &quot;AdminLTE.min.css&quot; &quot;_all-skins.min.css&quot;
##  $ head      : NULL
##  $ attachment: NULL
##  $ package   : NULL
##  $ all_files : logi TRUE
##  - attr(*, &quot;class&quot;)= chr &quot;html_dependency&quot;
## 
## [[4]]
## List of 10
##  $ name      : chr &quot;shinydashboard&quot;
##  $ version   : chr &quot;0.7.1&quot;
##  $ src       :List of 1
##   ..$ file: chr &quot;/Library/Frameworks/R.framework/Versions/3.6/Resources/library/shinydashboard&quot;
##  $ meta      : NULL
##  $ script    : chr &quot;shinydashboard.min.js&quot;
##  $ stylesheet: chr &quot;shinydashboard.css&quot;
##  $ head      : NULL
##  $ attachment: NULL
##  $ package   : NULL
##  $ all_files : logi TRUE
##  - attr(*, &quot;class&quot;)= chr &quot;html_dependency&quot;</code></pre>
<p>deps is a list containing four dependencies:</p>
<ul>
<li><a href="https://fontawesome.com">Font Awesome</a> handles icons. Interestingly, this dependency is provided by <code>dashboardHeader</code>, especially the <code>shiny::icon("bars")</code> that collapses the left sidebar</li>
<li><a href="https://getbootstrap.com/docs/3.3/">Bootstrap</a> is the main HTML/CSS/JS template. Importantly,
please note the version 3.3.7, whereas the current is 4.5.2</li>
<li><a href="https://adminlte.io">AdminLTE</a> is the dependency containing HTML/CSS/JS related to the admin template.
It is closely linked to Bootstrap 3</li>
<li>shinydashboard, the CSS and javascript necessary for our dashboard to work properly. In practice,
integrating custom HTML templates to shiny does not usually work out of the box for many reasons and some modifications are necessary. For instance, here is a list of <a href="https://github.com/rstudio/shinydashboard/blob/master/srcjs/AdminLTE/README-shiny-mods.md">changes</a> to optimize adminLTE for shiny. This has major consequences on the template maintenance such that upgrading to another AdminLTE version would require to modify all these elements by hand. You may understand why template maintainers are quite often reluctant to upgrade their dependencies as it might brake the whole package, quite easily.</li>
</ul>
<p>Below, we attach the dependencies to the <code>box</code> with <code>tagList</code>, as shown above. Notice that our custom <code>box</code> does not contain all parameters as in the official <code>{shinydashboard}</code> version, which is actually ok at this time.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="htmltools-dependencies.html#cb92-1"></a>my_box &lt;-<span class="st"> </span><span class="cf">function</span>(title, status) {</span>
<span id="cb92-2"><a href="htmltools-dependencies.html#cb92-2"></a>  <span class="kw">tagList</span>(<span class="kw">box</span>(<span class="dt">title =</span> title, <span class="dt">status =</span> status), deps)</span>
<span id="cb92-3"><a href="htmltools-dependencies.html#cb92-3"></a>}</span>
<span id="cb92-4"><a href="htmltools-dependencies.html#cb92-4"></a>ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</span>
<span id="cb92-5"><a href="htmltools-dependencies.html#cb92-5"></a>  <span class="kw">titlePanel</span>(<span class="st">&quot;Shiny with a box&quot;</span>),</span>
<span id="cb92-6"><a href="htmltools-dependencies.html#cb92-6"></a>  <span class="kw">my_box</span>(<span class="dt">title =</span> <span class="st">&quot;My box&quot;</span>, <span class="dt">status =</span> <span class="st">&quot;danger&quot;</span>),</span>
<span id="cb92-7"><a href="htmltools-dependencies.html#cb92-7"></a>)</span>
<span id="cb92-8"><a href="htmltools-dependencies.html#cb92-8"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output) {}</span>
<span id="cb92-9"><a href="htmltools-dependencies.html#cb92-9"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>
<p>You now have limitless possibilities! Interestingly, this same approach is the basis of <a href="https://github.com/dreamRs/shinyWidgets/blob/master/R/useBs4Dash.R">shinyWidgets</a> for the <code>useBs4Dash</code> function and other related tools.</p>
</div>
<div id="suppress-dependencies" class="section level2">
<h2><span class="header-section-number">5.4</span> Suppress dependencies</h2>
<p>In rare cases, you may need to remove an existing conflicting dependency. The <code>suppressDependencies</code> function allows users to perform this. For instance, <a href="https://github.com/Appsilon/shiny.semantic">shiny.semantic</a> built on top of
semantic ui is not compatible with Bootstrap. Below, we remove the AdminLTE dependency
from a <code>{shinydashboard}</code> page and nothing is displayed (as expected):</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="htmltools-dependencies.html#cb93-1"></a><span class="kw">shinyApp</span>(</span>
<span id="cb93-2"><a href="htmltools-dependencies.html#cb93-2"></a>  <span class="dt">ui =</span> <span class="kw">dashboardPage</span>(</span>
<span id="cb93-3"><a href="htmltools-dependencies.html#cb93-3"></a>    <span class="kw">dashboardHeader</span>(),</span>
<span id="cb93-4"><a href="htmltools-dependencies.html#cb93-4"></a>    <span class="kw">dashboardSidebar</span>(),</span>
<span id="cb93-5"><a href="htmltools-dependencies.html#cb93-5"></a>    <span class="kw">dashboardBody</span>(<span class="kw">suppressDependencies</span>(<span class="st">&quot;AdminLTE&quot;</span>)),</span>
<span id="cb93-6"><a href="htmltools-dependencies.html#cb93-6"></a>    <span class="dt">title =</span> <span class="st">&quot;Dashboard example&quot;</span></span>
<span id="cb93-7"><a href="htmltools-dependencies.html#cb93-7"></a>  ),</span>
<span id="cb93-8"><a href="htmltools-dependencies.html#cb93-8"></a>  <span class="dt">server =</span> <span class="cf">function</span>(input, output) { }</span>
<span id="cb93-9"><a href="htmltools-dependencies.html#cb93-9"></a>)</span></code></pre></div>
</div>
<div id="resolve-dependencies" class="section level2">
<h2><span class="header-section-number">5.5</span> Resolve dependencies</h2>
<p>Imagine a situation in which we would like to use the very last version of fontawesome icons, that is currently 5.15.1 according to <a href="https://www.jsdelivr.com/package/npm/@fortawesome/fontawesome-free">jsdelivr</a>. We recall that <code>{shiny}</code> already provides version 5.13.0 through the <code>icon</code> function. Including another version would probably cause conflicts and we would like to avoid that case. <code>{htmltools}</code> has a <code>resolveDependencies</code> tool that consists in removing any redundant element, taking the last version if dependencies names are identical.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="htmltools-dependencies.html#cb94-1"></a>new_icon_dep &lt;-<span class="st"> </span><span class="kw">htmlDependency</span>(</span>
<span id="cb94-2"><a href="htmltools-dependencies.html#cb94-2"></a>  <span class="dt">name =</span> <span class="st">&quot;font-awesome&quot;</span>, </span>
<span id="cb94-3"><a href="htmltools-dependencies.html#cb94-3"></a>  <span class="dt">version =</span> <span class="st">&quot;5.15.1&quot;</span>, </span>
<span id="cb94-4"><a href="htmltools-dependencies.html#cb94-4"></a>  <span class="dt">src =</span> <span class="kw">c</span>(<span class="dt">href =</span> <span class="st">&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/&quot;</span>),</span>
<span id="cb94-5"><a href="htmltools-dependencies.html#cb94-5"></a>  <span class="dt">stylesheet =</span> <span class="st">&quot;css/all.min.css&quot;</span></span>
<span id="cb94-6"><a href="htmltools-dependencies.html#cb94-6"></a>)</span>
<span id="cb94-7"><a href="htmltools-dependencies.html#cb94-7"></a></span>
<span id="cb94-8"><a href="htmltools-dependencies.html#cb94-8"></a>icon_deps &lt;-<span class="st"> </span><span class="kw">list</span>(new_icon_dep, <span class="kw">findDependencies</span>(shiny<span class="op">::</span><span class="kw">icon</span>(<span class="st">&quot;th&quot;</span>))[[<span class="dv">1</span>]])</span>
<span id="cb94-9"><a href="htmltools-dependencies.html#cb94-9"></a></span>
<span id="cb94-10"><a href="htmltools-dependencies.html#cb94-10"></a><span class="kw">resolveDependencies</span>(icon_deps)</span></code></pre></div>
<pre><code>## [[1]]
## List of 10
##  $ name      : chr &quot;font-awesome&quot;
##  $ version   : chr &quot;5.15.1&quot;
##  $ src       :List of 1
##   ..$ href: chr &quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/&quot;
##  $ meta      : NULL
##  $ script    : NULL
##  $ stylesheet: chr &quot;css/all.min.css&quot;
##  $ head      : NULL
##  $ attachment: NULL
##  $ package   : NULL
##  $ all_files : logi TRUE
##  - attr(*, &quot;class&quot;)= chr &quot;html_dependency&quot;</code></pre>
<p>Combining <code>findDependencies</code>, <code>suppressDependencies</code> and <code>resolveDependencies</code> gives you great power to successfully manage your dependencies!</p>
</div>
<div id="insert-custom-script-in-the-head" class="section level2">
<h2><span class="header-section-number">5.6</span> Insert Custom script in the head</h2>
<p>With <code>{shinydashboardPlus}</code>, users can fine tune their dashboard behavior with a simple option parameter passed to <code>dashboardPagePlus</code>. The <code>sidebarExpandOnHover</code> capability that consists in expanding the sidebar when hovering on it is part of those <a href="https://adminlte.io/themes/AdminLTE/documentation/index.html#adminlte-options">options</a>, yet not exposed by <code>{shinydashboard}</code>. Under the hood, all those options are gathered in a (nested) list, then converted into JSON to eventually generate a JavaScript configuration file. Until now, we only saw two ways to include scripts or stylesheets. How do we include any arbitrary script (defined on the fly by the user when the app starts) in an dependency?</p>
<p><code>htmlDependency</code> has a <code>head</code> parameter allowing to pass any lines of HTML to insert into the document head. We can easily imagine passing a string containing a script. Below, we first construct the options list. Then, we create the dependency: notice since <code>src</code> is mandatory, we have to give it a value but we will not use <code>script</code> nor <code>stylesheet</code> arguments.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="htmltools-dependencies.html#cb96-1"></a>options &lt;-<span class="st"> </span><span class="kw">list</span>(</span>
<span id="cb96-2"><a href="htmltools-dependencies.html#cb96-2"></a>  <span class="dt">sidebarExpandOnHover =</span> <span class="ot">TRUE</span>, </span>
<span id="cb96-3"><a href="htmltools-dependencies.html#cb96-3"></a>  <span class="dt">boxWidgetSelectors =</span> <span class="kw">list</span>(</span>
<span id="cb96-4"><a href="htmltools-dependencies.html#cb96-4"></a>    <span class="dt">remove =</span> <span class="st">&#39;[data-widget=&quot;remove&quot;]&#39;</span></span>
<span id="cb96-5"><a href="htmltools-dependencies.html#cb96-5"></a>  )</span>
<span id="cb96-6"><a href="htmltools-dependencies.html#cb96-6"></a>)</span>
<span id="cb96-7"><a href="htmltools-dependencies.html#cb96-7"></a></span>
<span id="cb96-8"><a href="htmltools-dependencies.html#cb96-8"></a>config_script &lt;-<span class="st"> </span><span class="cf">function</span>() {</span>
<span id="cb96-9"><a href="htmltools-dependencies.html#cb96-9"></a>  <span class="kw">htmlDependency</span>(</span>
<span id="cb96-10"><a href="htmltools-dependencies.html#cb96-10"></a>    <span class="st">&quot;options&quot;</span>,</span>
<span id="cb96-11"><a href="htmltools-dependencies.html#cb96-11"></a>    <span class="kw">as.character</span>(utils<span class="op">::</span><span class="kw">packageVersion</span>(<span class="st">&quot;shinydashboardPlus&quot;</span>)),</span>
<span id="cb96-12"><a href="htmltools-dependencies.html#cb96-12"></a>    <span class="dt">src =</span> <span class="kw">c</span>(<span class="dt">file =</span> <span class="kw">system.file</span>(<span class="st">&quot;shinydashboardPlus-0.6.0&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;shinydashboardPlus&quot;</span>)),</span>
<span id="cb96-13"><a href="htmltools-dependencies.html#cb96-13"></a>    <span class="dt">head =</span> <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(options)) {</span>
<span id="cb96-14"><a href="htmltools-dependencies.html#cb96-14"></a>      <span class="kw">paste0</span>(</span>
<span id="cb96-15"><a href="htmltools-dependencies.html#cb96-15"></a>        <span class="st">&quot;&lt;script&gt;var AdminLTEOptions = &quot;</span>, </span>
<span id="cb96-16"><a href="htmltools-dependencies.html#cb96-16"></a>        jsonlite<span class="op">::</span><span class="kw">toJSON</span>(</span>
<span id="cb96-17"><a href="htmltools-dependencies.html#cb96-17"></a>          options, </span>
<span id="cb96-18"><a href="htmltools-dependencies.html#cb96-18"></a>          <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>,</span>
<span id="cb96-19"><a href="htmltools-dependencies.html#cb96-19"></a>          <span class="dt">pretty =</span> <span class="ot">TRUE</span></span>
<span id="cb96-20"><a href="htmltools-dependencies.html#cb96-20"></a>        ),</span>
<span id="cb96-21"><a href="htmltools-dependencies.html#cb96-21"></a>        <span class="st">&quot;;&lt;/script&gt;&quot;</span></span>
<span id="cb96-22"><a href="htmltools-dependencies.html#cb96-22"></a>      )</span>
<span id="cb96-23"><a href="htmltools-dependencies.html#cb96-23"></a>    }</span>
<span id="cb96-24"><a href="htmltools-dependencies.html#cb96-24"></a>  )</span>
<span id="cb96-25"><a href="htmltools-dependencies.html#cb96-25"></a>}</span>
<span id="cb96-26"><a href="htmltools-dependencies.html#cb96-26"></a></span>
<span id="cb96-27"><a href="htmltools-dependencies.html#cb96-27"></a><span class="co"># show the script</span></span>
<span id="cb96-28"><a href="htmltools-dependencies.html#cb96-28"></a><span class="kw">print</span>(<span class="kw">HTML</span>(<span class="kw">config_script</span>()<span class="op">$</span>head))</span></code></pre></div>
<pre><code>## &lt;script&gt;var AdminLTEOptions = {
##   &quot;sidebarExpandOnHover&quot;: true,
##   &quot;boxWidgetSelectors&quot;: {
##     &quot;remove&quot;: &quot;[data-widget=\&quot;remove\&quot;]&quot;
##   }
## };&lt;/script&gt;</code></pre>
<p>I invite the reader to run the example below involving <code>{shinydashboardPlus}</code>, open the HTML inspector and look at the head.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="htmltools-dependencies.html#cb98-1"></a> <span class="kw">shinyApp</span>(</span>
<span id="cb98-2"><a href="htmltools-dependencies.html#cb98-2"></a>   <span class="dt">ui =</span> <span class="kw">dashboardPagePlus</span>(</span>
<span id="cb98-3"><a href="htmltools-dependencies.html#cb98-3"></a>     <span class="dt">collapse_sidebar =</span> <span class="ot">TRUE</span>,</span>
<span id="cb98-4"><a href="htmltools-dependencies.html#cb98-4"></a>     <span class="dt">options =</span> options,</span>
<span id="cb98-5"><a href="htmltools-dependencies.html#cb98-5"></a>     <span class="dt">header =</span> <span class="kw">dashboardHeaderPlus</span>(</span>
<span id="cb98-6"><a href="htmltools-dependencies.html#cb98-6"></a>      <span class="dt">enable_rightsidebar =</span> <span class="ot">TRUE</span>,</span>
<span id="cb98-7"><a href="htmltools-dependencies.html#cb98-7"></a>      <span class="dt">rightSidebarIcon =</span> <span class="st">&quot;gears&quot;</span></span>
<span id="cb98-8"><a href="htmltools-dependencies.html#cb98-8"></a>     ),</span>
<span id="cb98-9"><a href="htmltools-dependencies.html#cb98-9"></a>     <span class="dt">sidebar =</span> <span class="kw">dashboardSidebar</span>(),</span>
<span id="cb98-10"><a href="htmltools-dependencies.html#cb98-10"></a>     <span class="dt">body =</span> <span class="kw">dashboardBody</span>(),</span>
<span id="cb98-11"><a href="htmltools-dependencies.html#cb98-11"></a>     <span class="dt">rightsidebar =</span> <span class="kw">rightSidebar</span>(),</span>
<span id="cb98-12"><a href="htmltools-dependencies.html#cb98-12"></a>     <span class="dt">title =</span> <span class="st">&quot;DashboardPage&quot;</span></span>
<span id="cb98-13"><a href="htmltools-dependencies.html#cb98-13"></a>   ),</span>
<span id="cb98-14"><a href="htmltools-dependencies.html#cb98-14"></a>   <span class="dt">server =</span> <span class="cf">function</span>(input, output) { }</span>
<span id="cb98-15"><a href="htmltools-dependencies.html#cb98-15"></a> )</span></code></pre></div>
<p>According the the AdminLTE <a href="https://adminlte.io/themes/AdminLTE/documentation/index.html#adminlte-options">documentation</a>, global options must be passed before loading the app.min.js script. Creating this “dummy” dependency allowed us to isolate the script to insert it before the app.min.js script (contained in another <a href="https://github.com/RinteRface/shinydashboardPlus/blob/master/R/deps.R#L43">dependency</a>), as shown on Figure <a href="htmltools-dependencies.html#fig:htmltools-head-deps">5.1</a>.</p>
<div class="figure"><span id="fig:htmltools-head-deps"></span>
<img src="images/htmltools/htmltools-head-deps.png" alt="Insert arbitrary script in the head" width="100%" />
<p class="caption">
FIGURE 5.1: Insert arbitrary script in the head
</p>
</div>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-R-shinydashboard">
<p>Chang, Winston, and Barbara Borges Ribeiro. 2018. <em>Shinydashboard: Create Dashboards with ’Shiny’</em>. <a href="https://CRAN.R-project.org/package=shinydashboard">https://CRAN.R-project.org/package=shinydashboard</a>.</p>
</div>
<div id="ref-R-shiny">
<p>Chang, Winston, Joe Cheng, JJ Allaire, Yihui Xie, and Jonathan McPherson. 2020. <em>Shiny: Web Application Framework for R</em>. <a href="https://CRAN.R-project.org/package=shiny">https://CRAN.R-project.org/package=shiny</a>.</p>
</div>
<div id="ref-R-htmltools">
<p>Cheng, Joe, Carson Sievert, Winston Chang, Yihui Xie, and Jeff Allen. 2020. <em>Htmltools: Tools for Html</em>. <a href="https://CRAN.R-project.org/package=htmltools">https://CRAN.R-project.org/package=htmltools</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="htmltools-overview.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="htmltools-other-tools.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/DivadNojnarg/outstanding-shiny-ui/edit/master/htmltools-dependencies.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
