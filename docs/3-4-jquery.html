<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="3.4 jQuery | Outstanding User Interfaces with Shiny" />
<meta property="og:type" content="book" />


<meta property="og:description" content="A book about deeply customizing Shiny app for production." />
<meta name="github-repo" content="DivadNojnarg/outstanding-shiny-ui" />

<meta name="author" content="David Granjon" />

<meta name="date" content="2020-08-31" />


<meta name="description" content="A book about deeply customizing Shiny app for production.">

<title>3.4 jQuery | Outstanding User Interfaces with Shiny</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
p.caption {
  color: #777;
  margin-top: 10px;
}
p code {
  white-space: inherit;
}
pre {
  word-break: normal;
  word-wrap: normal;
}
pre code {
  white-space: inherit;
}
p.flushright {
  text-align: right;
}
blockquote > p:last-child {
  text-align: right;
}
blockquote > p:first-child {
  text-align: inherit;
}

/* Callouts */
.callout {
  border-radius: 0.25rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
  background-color: #ffffff;
  border-left: 5px solid #e9ecef;
  margin-bottom: 1rem;
  padding: 1rem;
}

.callout a {
  color: #495057;
  text-decoration: underline;
}

.callout a:hover {
  color: #e9ecef;
}

.callout p:last-child {
  margin-bottom: 0;
}

.callout.callout-danger {
  border-left-color: #bd2130;
}

.callout.callout-warning {
  border-left-color: #d39e00;
}

.callout.callout-info {
  border-left-color: #117a8b;
}

.callout.callout-success {
  border-left-color: #1e7e34;
}


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li class="has-sub"><a href="index.html#prerequisites">Prerequisites</a><ul>
<li><a href="disclaimer.html#disclaimer">Disclaimer</a></li>
<li><a href="is-this-book-for-me.html#is-this-book-for-me">Is this book for me?</a></li>
<li><a href="related-content.html#related-content">Related content</a></li>
<li><a href="acknowledgements.html#acknowledgements">Acknowledgements</a></li>
<li><a href="packages.html#packages">Packages</a></li>
</ul></li>
<li class="has-sub"><a href="1-intro.html#intro"><span class="toc-section-number">1</span> Introduction</a><ul>
<li><a href="1-1-about-the-code.html#about-the-code"><span class="toc-section-number">1.1</span> About the code</a></li>
<li><a href="1-2-preliminary-exercices.html#preliminary-exercices"><span class="toc-section-number">1.2</span> Preliminary exercices</a></li>
</ul></li>
<li class="part"><span><b>Survival Kit</b></span></li>
<li class="has-sub"><a href="2-survival-kit-html.html#survival-kit-html"><span class="toc-section-number">2</span> HTML</a><ul>
<li><a href="2-1-html-basics.html#html-basics"><span class="toc-section-number">2.1</span> HTML Basics</a></li>
<li><a href="2-2-tag-attributes.html#tag-attributes"><span class="toc-section-number">2.2</span> Tag attributes</a></li>
<li><a href="2-3-html-page-skeleton.html#html-page-skeleton"><span class="toc-section-number">2.3</span> HTML page: skeleton</a></li>
<li class="has-sub"><a href="2-4-about-the-document-object-model-dom.html#about-the-document-object-model-dom"><span class="toc-section-number">2.4</span> About the Document Object Model (DOM)</a><ul>
<li><a href="2-4-about-the-document-object-model-dom.html#visualizing-the-dom-the-html-inspector"><span class="toc-section-number">2.4.1</span> Visualizing the DOM: the HTML inspector</a></li>
</ul></li>
<li class="has-sub"><a href="2-5-preliminary-introduction-to-css-and-javascript.html#preliminary-introduction-to-css-and-javascript"><span class="toc-section-number">2.5</span> Preliminary introduction to CSS and JavaScript</a><ul>
<li><a href="2-5-preliminary-introduction-to-css-and-javascript.html#html-and-css"><span class="toc-section-number">2.5.1</span> HTML and CSS</a></li>
<li><a href="2-5-preliminary-introduction-to-css-and-javascript.html#html-and-javascript"><span class="toc-section-number">2.5.2</span> HTML and JavaScript</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="3-survival-kit-javascript.html#survival-kit-javascript"><span class="toc-section-number">3</span> JavaScript</a><ul>
<li><a href="3-1-introduction.html#introduction"><span class="toc-section-number">3.1</span> Introduction</a></li>
<li class="has-sub"><a href="3-2-setup.html#setup"><span class="toc-section-number">3.2</span> Setup</a><ul>
<li><a href="3-2-setup.html#node"><span class="toc-section-number">3.2.1</span> Node</a></li>
<li><a href="3-2-setup.html#choose-a-good-ide"><span class="toc-section-number">3.2.2</span> Choose a good IDE</a></li>
<li><a href="3-2-setup.html#first-script"><span class="toc-section-number">3.2.3</span> First Script</a></li>
</ul></li>
<li class="has-sub"><a href="3-3-programming-with-js-basis.html#programming-with-js-basis"><span class="toc-section-number">3.3</span> Programming with JS: basis</a><ul>
<li><a href="3-3-programming-with-js-basis.html#js-types"><span class="toc-section-number">3.3.1</span> JS types</a></li>
<li><a href="3-3-programming-with-js-basis.html#variables"><span class="toc-section-number">3.3.2</span> Variables</a></li>
<li><a href="3-3-programming-with-js-basis.html#conditions"><span class="toc-section-number">3.3.3</span> Conditions</a></li>
<li><a href="3-3-programming-with-js-basis.html#objects"><span class="toc-section-number">3.3.4</span> Objects</a></li>
<li><a href="3-3-programming-with-js-basis.html#iterations"><span class="toc-section-number">3.3.5</span> Iterations</a></li>
<li><a href="3-3-programming-with-js-basis.html#functions"><span class="toc-section-number">3.3.6</span> Functions</a></li>
<li><a href="3-3-programming-with-js-basis.html#event-listeners"><span class="toc-section-number">3.3.7</span> Event listeners</a></li>
</ul></li>
<li class="has-sub"><a href="3-4-jquery.html#jquery"><span class="toc-section-number">3.4</span> jQuery</a><ul>
<li><a href="3-4-jquery.html#introduction-1"><span class="toc-section-number">3.4.1</span> Introduction</a></li>
<li><a href="3-4-jquery.html#syntax"><span class="toc-section-number">3.4.2</span> Syntax</a></li>
<li><a href="3-4-jquery.html#useful-functions"><span class="toc-section-number">3.4.3</span> Useful functions</a></li>
<li><a href="3-4-jquery.html#chaining-jquery-methods"><span class="toc-section-number">3.4.4</span> Chaining jQuery methods</a></li>
<li><a href="3-4-jquery.html#iterations-1"><span class="toc-section-number">3.4.5</span> Iterations</a></li>
<li><a href="3-4-jquery.html#good-practice"><span class="toc-section-number">3.4.6</span> Good practice</a></li>
<li><a href="3-4-jquery.html#events"><span class="toc-section-number">3.4.7</span> Events</a></li>
<li><a href="3-4-jquery.html#extending-objects"><span class="toc-section-number">3.4.8</span> Extending objects</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Shiny: What’s under the Hood?</b></span></li>
<li class="has-sub"><a href="4-shiny-intro.html#shiny-intro"><span class="toc-section-number">4</span> Introduction</a><ul>
<li><a href="4-1-shiny-html-css-and-javascript.html#shiny-html-css-and-javascript"><span class="toc-section-number">4.1</span> Shiny, HTML, CSS and JavaScript</a></li>
<li><a href="4-2-shiny-websocket.html#shiny-websocket"><span class="toc-section-number">4.2</span> Websocket: R/JS bidirectional communication</a></li>
<li><a href="4-3-shiny-session.html#shiny-session"><span class="toc-section-number">4.3</span> The Shiny session object</a></li>
</ul></li>
<li class="has-sub"><a href="5-shiny-input-system.html#shiny-input-system"><span class="toc-section-number">5</span> Shiny’s input system</a><ul>
<li><a href="5-1-shiny-javascript-sources.html#shiny-javascript-sources"><span class="toc-section-number">5.1</span> Shiny JavaScript sources</a></li>
<li><a href="5-2-the-shiny-javascript-object.html#the-shiny-javascript-object"><span class="toc-section-number">5.2</span> The Shiny JavaScript object</a></li>
<li><a href="5-3-initialization.html#initialization"><span class="toc-section-number">5.3</span> Initialization</a></li>
<li class="has-sub"><a href="5-4-input-bindings.html#input-bindings"><span class="toc-section-number">5.4</span> Input bindings</a><ul>
<li><a href="5-4-input-bindings.html#input-structure"><span class="toc-section-number">5.4.1</span> Input structure</a></li>
<li><a href="5-4-input-bindings.html#binding-shiny-inputs"><span class="toc-section-number">5.4.2</span> Binding Shiny inputs</a></li>
<li><a href="5-4-input-bindings.html#binding-other-elements"><span class="toc-section-number">5.4.3</span> Binding other elements</a></li>
</ul></li>
<li class="has-sub"><a href="5-5-utilities-to-quickly-define-new-inputs.html#utilities-to-quickly-define-new-inputs"><span class="toc-section-number">5.5</span> Utilities to quickly define new inputs</a><ul>
<li><a href="3-1-introduction.html#introduction"><span class="toc-section-number">5.5.1</span> Introduction</a></li>
<li><a href="5-5-utilities-to-quickly-define-new-inputs.html#examples"><span class="toc-section-number">5.5.2</span> Examples</a></li>
<li><a href="5-5-utilities-to-quickly-define-new-inputs.html#custom-data-format"><span class="toc-section-number">5.5.3</span> Custom data format</a></li>
</ul></li>
<li class="has-sub"><a href="5-6-miscellaneous.html#miscellaneous"><span class="toc-section-number">5.6</span> Miscellaneous</a><ul>
<li><a href="5-6-miscellaneous.html#get-access-to-initial-values"><span class="toc-section-number">5.6.1</span> Get access to initial values</a></li>
</ul></li>
</ul></li>
<li><a href="6-shiny-custom-handler.html#shiny-custom-handler"><span class="toc-section-number">6</span> Custom handlers: from R to JavaScript</a></li>
<li class="part"><span><b>htmltools</b></span></li>
<li class="has-sub"><a href="7-htmltools-overview.html#htmltools-overview"><span class="toc-section-number">7</span> htmltools overview</a><ul>
<li><a href="7-1-html-tags.html#html-tags"><span class="toc-section-number">7.1</span> HTML Tags</a></li>
<li><a href="7-2-notations.html#notations"><span class="toc-section-number">7.2</span> Notations</a></li>
<li><a href="7-3-adding-new-tags.html#adding-new-tags"><span class="toc-section-number">7.3</span> Adding new tags</a></li>
<li><a href="7-4-alternative-way-to-write-tags.html#alternative-way-to-write-tags"><span class="toc-section-number">7.4</span> Alternative way to write tags</a></li>
<li class="has-sub"><a href="7-5-playing-with-tags.html#playing-with-tags"><span class="toc-section-number">7.5</span> Playing with tags</a><ul>
<li><a href="7-5-playing-with-tags.html#tags-structure"><span class="toc-section-number">7.5.1</span> Tags structure</a></li>
<li><a href="7-5-playing-with-tags.html#useful-functions-for-tags"><span class="toc-section-number">7.5.2</span> Useful functions for tags</a></li>
<li><a href="7-5-playing-with-tags.html#other-interesting-functions"><span class="toc-section-number">7.5.3</span> Other interesting functions</a></li>
<li><a href="7-5-playing-with-tags.html#conditionally-set-attributes"><span class="toc-section-number">7.5.4</span> Conditionally set attributes</a></li>
<li><a href="7-5-playing-with-tags.html#using"><span class="toc-section-number">7.5.5</span> Using %&gt;%</a></li>
<li><a href="7-5-playing-with-tags.html#programmatically-create-children-elements"><span class="toc-section-number">7.5.6</span> Programmatically create children elements</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="8-htmltools-dependencies.html#htmltools-dependencies"><span class="toc-section-number">8</span> Dependency utilities</a><ul>
<li><a href="8-1-the-dirty-approach.html#the-dirty-approach"><span class="toc-section-number">8.1</span> The dirty approach</a></li>
<li><a href="8-2-the-clean-approach.html#the-clean-approach"><span class="toc-section-number">8.2</span> The clean approach</a></li>
<li><a href="8-3-another-example-importing-html-dependencies-from-other-packages.html#another-example-importing-html-dependencies-from-other-packages"><span class="toc-section-number">8.3</span> Another example: Importing HTML dependencies from other packages</a></li>
<li><a href="8-4-suppress-dependencies.html#suppress-dependencies"><span class="toc-section-number">8.4</span> Suppress dependencies</a></li>
</ul></li>
<li class="has-sub"><a href="9-htmltools-other-tools.html#htmltools-other-tools"><span class="toc-section-number">9</span> Other tools</a><ul>
<li><a href="9-1-css.html#css"><span class="toc-section-number">9.1</span> CSS</a></li>
</ul></li>
<li class="part"><span><b>Practice 1: a dashboard template</b></span></li>
<li><a href="10-custom-templates-selection.html#custom-templates-selection"><span class="toc-section-number">10</span> Template selection</a></li>
<li class="has-sub"><a href="11-custom-templates-package.html#custom-templates-package"><span class="toc-section-number">11</span> Package creation</a><ul>
<li><a href="3-1-introduction.html#introduction"><span class="toc-section-number">11.1</span> Introduction</a></li>
<li><a href="11-2-step-by-step.html#step-by-step"><span class="toc-section-number">11.2</span> Step by step</a></li>
</ul></li>
<li class="has-sub"><a href="12-custom-templates-dependencies.html#custom-templates-dependencies"><span class="toc-section-number">12</span> Define dependencies</a><ul>
<li><a href="12-1-discover-the-project.html#discover-the-project"><span class="toc-section-number">12.1</span> Discover the project</a></li>
<li><a href="12-2-identify-mandatory-dependencies.html#identify-mandatory-dependencies"><span class="toc-section-number">12.2</span> Identify mandatory dependencies</a></li>
<li><a href="12-3-bundle-dependencies.html#bundle-dependencies"><span class="toc-section-number">12.3</span> Bundle dependencies</a></li>
</ul></li>
<li class="has-sub"><a href="13-custom-templates-skeleton.html#custom-templates-skeleton"><span class="toc-section-number">13</span> Template skeleton</a><ul>
<li><a href="13-1-identify-template-elements.html#identify-template-elements"><span class="toc-section-number">13.1</span> Identify template elements</a></li>
<li class="has-sub"><a href="13-2-design-the-page-layout.html#design-the-page-layout"><span class="toc-section-number">13.2</span> Design the page layout</a><ul>
<li><a href="13-2-design-the-page-layout.html#the-page-wrapper"><span class="toc-section-number">13.2.1</span> The page wrapper</a></li>
<li><a href="13-2-design-the-page-layout.html#the-body-content"><span class="toc-section-number">13.2.2</span> The body content</a></li>
<li><a href="13-2-design-the-page-layout.html#the-footer"><span class="toc-section-number">13.2.3</span> The footer</a></li>
<li><a href="13-2-design-the-page-layout.html#the-navbar-or-header"><span class="toc-section-number">13.2.4</span> The navbar (or header)</a></li>
<li><a href="13-2-design-the-page-layout.html#card-containers"><span class="toc-section-number">13.2.5</span> Card containers</a></li>
<li><a href="13-2-design-the-page-layout.html#ribbons-card-components"><span class="toc-section-number">13.2.6</span> Ribbons: card components</a></li>
<li><a href="13-2-design-the-page-layout.html#icons"><span class="toc-section-number">13.2.7</span> Icons</a></li>
</ul></li>
<li><a href="13-3-exercises.html#exercises"><span class="toc-section-number">13.3</span> Exercises</a></li>
</ul></li>
<li class="has-sub"><a href="14-custom-templates-testing.html#custom-templates-testing"><span class="toc-section-number">14</span> Testing and validating templates elements</a><ul>
<li class="has-sub"><a href="14-1-validate-template-functions.html#validate-template-functions"><span class="toc-section-number">14.1</span> Validate template functions</a><ul>
<li><a href="14-1-validate-template-functions.html#create-your-own-validations"><span class="toc-section-number">14.1.1</span> Create your own validations</a></li>
<li><a href="14-1-validate-template-functions.html#existing-utils-functions"><span class="toc-section-number">14.1.2</span> Existing utils functions</a></li>
<li><a href="14-1-validate-template-functions.html#example-refine-navbar-menu-items"><span class="toc-section-number">14.1.3</span> Example: refine navbar menu items</a></li>
</ul></li>
<li class="has-sub"><a href="14-2-testing-templates-elements.html#testing-templates-elements"><span class="toc-section-number">14.2</span> Testing templates elements</a><ul>
<li><a href="14-2-testing-templates-elements.html#testing-template-behavior"><span class="toc-section-number">14.2.1</span> Testing template behavior</a></li>
</ul></li>
<li><a href="14-3-testing-javascript.html#testing-javascript"><span class="toc-section-number">14.3</span> Testing JavaScript</a></li>
</ul></li>
<li class="has-sub"><a href="15-custom-templates-inputs.html#custom-templates-inputs"><span class="toc-section-number">15</span> Develop custom input widgets</a><ul>
<li class="has-sub"><a href="15-1-tabler-action-button.html#tabler-action-button"><span class="toc-section-number">15.1</span> Tabler action button</a><ul>
<li><a href="15-1-tabler-action-button.html#reminders-about-the-action-button"><span class="toc-section-number">15.1.1</span> Reminders about the action button</a></li>
<li><a href="15-1-tabler-action-button.html#application-to-tabler"><span class="toc-section-number">15.1.2</span> Application to Tabler</a></li>
</ul></li>
<li><a href="15-2-toggle-switch.html#toggle-switch"><span class="toc-section-number">15.2</span> Toggle Switch</a></li>
<li><a href="15-3-navbar-menu-input.html#navbar-menu-input"><span class="toc-section-number">15.3</span> Navbar menu input</a></li>
<li><a href="13-3-exercises.html#exercises"><span class="toc-section-number">15.4</span> Exercises</a></li>
</ul></li>
<li class="has-sub"><a href="16-custom-templates-interactivity.html#custom-templates-interactivity"><span class="toc-section-number">16</span> Adding more interactivity</a><ul>
<li><a href="16-1-custom-progress-bars.html#custom-progress-bars"><span class="toc-section-number">16.1</span> Custom progress bars</a></li>
<li class="has-sub"><a href="16-2-user-feedback-toasts.html#user-feedback-toasts"><span class="toc-section-number">16.2</span> User feedback: toasts</a><ul>
<li><a href="16-2-user-feedback-toasts.html#toast-skeleton"><span class="toc-section-number">16.2.1</span> Toast skeleton</a></li>
<li><a href="16-2-user-feedback-toasts.html#the-toast-api"><span class="toc-section-number">16.2.2</span> The toast API</a></li>
<li><a href="16-2-user-feedback-toasts.html#r-implementation"><span class="toc-section-number">16.2.3</span> R implementation</a></li>
<li><a href="16-2-user-feedback-toasts.html#wrap-up"><span class="toc-section-number">16.2.4</span> Wrap up</a></li>
</ul></li>
<li><a href="16-3-transform-an-element-in-a-custom-action-button.html#transform-an-element-in-a-custom-action-button"><span class="toc-section-number">16.3</span> Transform an element in a custom action button</a></li>
<li class="has-sub"><a href="16-4-tab-events.html#tab-events"><span class="toc-section-number">16.4</span> Tab events</a><ul>
<li><a href="16-4-tab-events.html#insert-tabs"><span class="toc-section-number">16.4.1</span> Insert/Remove tabs in tabsetpanel</a></li>
</ul></li>
<li><a href="13-3-exercises.html#exercises"><span class="toc-section-number">16.5</span> Exercises</a></li>
</ul></li>
<li class="part"><span><b>Beautify with CSS and SASS</b></span></li>
<li class="has-sub"><a href="17-beautify-with-fresh.html#beautify-with-fresh"><span class="toc-section-number">17</span> Beautify with fresh</a><ul>
<li><a href="17-1-fresh-the-big-picture.html#fresh-the-big-picture"><span class="toc-section-number">17.1</span> {fresh}, the big picture</a></li>
</ul></li>
<li><a href="references.html#references">References</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="jquery" class="section level2">
<h2><span class="header-section-number">3.4</span> jQuery</h2>
<div id="introduction-1" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Introduction</h3>
<p><a href="https://jquery.com">jQuery</a> is a famous JavaScript library providing a user friendly interface to manipulate the DOM and is present in almost all actual websites. It is slightly easier (understand more convenient to use) than vanilla JS, even though web developers tend to avoid it to go back to vanilla JS (Bootstrap 5, the next iteration of Bootstrap will not rely on jQuery anymore). To use jQuery in a webpage, we must include its code either by dowloading the code and putting the minified JS file in our HTML or setting a link to a CDN.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb36-1"><a href="3-4-jquery.html#cb36-1"></a><span class="dt">&lt;!doctype </span>html<span class="dt">&gt;</span></span>
<span id="cb36-2"><a href="3-4-jquery.html#cb36-2"></a><span class="kw">&lt;html</span><span class="ot"> lang=</span><span class="st">&quot;en&quot;</span><span class="kw">&gt;</span></span>
<span id="cb36-3"><a href="3-4-jquery.html#cb36-3"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb36-4"><a href="3-4-jquery.html#cb36-4"></a>  <span class="kw">&lt;meta</span><span class="ot"> charset=</span><span class="st">&quot;utf-8&quot;</span><span class="kw">&gt;</span></span>
<span id="cb36-5"><a href="3-4-jquery.html#cb36-5"></a>  <span class="kw">&lt;title&gt;</span>Including jQuery<span class="kw">&lt;/title&gt;</span></span>
<span id="cb36-6"><a href="3-4-jquery.html#cb36-6"></a>  <span class="co">&lt;!-- How to include jQuery --&gt;</span></span>
<span id="cb36-7"><a href="3-4-jquery.html#cb36-7"></a>  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;https://code.jquery.com/jquery-3.5.0.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
<span id="cb36-8"><a href="3-4-jquery.html#cb36-8"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb36-9"><a href="3-4-jquery.html#cb36-9"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb36-10"><a href="3-4-jquery.html#cb36-10"></a> </span>
<span id="cb36-11"><a href="3-4-jquery.html#cb36-11"></a><span class="kw">&lt;p&gt;</span>Hello World<span class="kw">&lt;/p&gt;</span></span>
<span id="cb36-12"><a href="3-4-jquery.html#cb36-12"></a></span>
<span id="cb36-13"><a href="3-4-jquery.html#cb36-13"></a> </span>
<span id="cb36-14"><a href="3-4-jquery.html#cb36-14"></a><span class="kw">&lt;script&gt;</span></span>
<span id="cb36-15"><a href="3-4-jquery.html#cb36-15"></a><span class="at">$</span>(<span class="st">&#39;p&#39;</span>).<span class="at">css</span>(<span class="st">&#39;color&#39;</span><span class="op">,</span> <span class="st">&#39;red&#39;</span>)<span class="op">;</span></span>
<span id="cb36-16"><a href="3-4-jquery.html#cb36-16"></a><span class="kw">&lt;/script&gt;</span></span>
<span id="cb36-17"><a href="3-4-jquery.html#cb36-17"></a> </span>
<span id="cb36-18"><a href="3-4-jquery.html#cb36-18"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb36-19"><a href="3-4-jquery.html#cb36-19"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
</div>
<div id="syntax" class="section level3">
<h3><span class="header-section-number">3.4.2</span> Syntax</h3>
<p>Below is a minimal jQuery code representing its philosophy (“write less, do more.”):</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb37-1"><a href="3-4-jquery.html#cb37-1"></a><span class="at">$</span>(selector).<span class="at">action</span>()<span class="op">;</span></span></code></pre></div>
<p>The selector slot stands for any jQuery selector like class, id, element, [attribute], :input (will select all input elements) and many <a href="https://www.w3schools.com/jquery/jquery_ref_selectors.asp">more</a>. As a reminder, let’s consider the following example:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb38-1"><a href="3-4-jquery.html#cb38-1"></a><span class="kw">&lt;p</span><span class="ot"> class=</span><span class="st">&quot;text&quot;</span><span class="kw">&gt;</span>Hello World<span class="kw">&lt;/p&gt;</span></span></code></pre></div>
<p>To select and interact with this element, we use JavaScript and jQuery:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb39-1"><a href="3-4-jquery.html#cb39-1"></a><span class="kw">let</span> inner <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementsByClassName</span>(<span class="st">&#39;text&#39;</span>).<span class="at">innerHTML</span><span class="op">;</span> <span class="co">// vanilla JS</span></span>
<span id="cb39-2"><a href="3-4-jquery.html#cb39-2"></a><span class="kw">let</span> inner <span class="op">=</span> <span class="at">$</span>(<span class="st">&#39;.text&#39;</span>).<span class="at">html</span>()<span class="op">;</span> <span class="co">// jQuery</span></span></code></pre></div>
<p>This is of course possible to chain selectors</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb40-1"><a href="3-4-jquery.html#cb40-1"></a><span class="kw">&lt;ul</span><span class="ot"> class=</span><span class="st">&quot;list&quot;</span><span class="kw">&gt;</span></span>
<span id="cb40-2"><a href="3-4-jquery.html#cb40-2"></a>  <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;item&quot;</span><span class="kw">&gt;</span>1<span class="kw">&lt;/li&gt;</span></span>
<span id="cb40-3"><a href="3-4-jquery.html#cb40-3"></a>  <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;item&quot;</span><span class="kw">&gt;</span>2<span class="kw">&lt;/li&gt;</span></span>
<span id="cb40-4"><a href="3-4-jquery.html#cb40-4"></a>  <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;item&quot;</span><span class="kw">&gt;</span>3<span class="kw">&lt;/li&gt;</span></span>
<span id="cb40-5"><a href="3-4-jquery.html#cb40-5"></a>  <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;item&quot;</span><span class="ot"> id=</span><span class="st">&quot;precious-item&quot;</span><span class="kw">&gt;</span>4<span class="kw">&lt;/li&gt;</span></span>
<span id="cb40-6"><a href="3-4-jquery.html#cb40-6"></a><span class="kw">&lt;/ul&gt;</span></span>
<span id="cb40-7"><a href="3-4-jquery.html#cb40-7"></a></span>
<span id="cb40-8"><a href="3-4-jquery.html#cb40-8"></a><span class="kw">&lt;ul</span><span class="ot"> class=</span><span class="st">&quot;list&quot;</span><span class="ot"> id=</span><span class="st">&quot;list2&quot;</span><span class="kw">&gt;</span></span>
<span id="cb40-9"><a href="3-4-jquery.html#cb40-9"></a>  <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;item&quot;</span><span class="kw">&gt;</span>1<span class="kw">&lt;/li&gt;</span></span>
<span id="cb40-10"><a href="3-4-jquery.html#cb40-10"></a>  <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;item&quot;</span><span class="kw">&gt;</span>2<span class="kw">&lt;/li&gt;</span></span>
<span id="cb40-11"><a href="3-4-jquery.html#cb40-11"></a>  <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;item&quot;</span><span class="kw">&gt;</span>3<span class="kw">&lt;/li&gt;</span></span>
<span id="cb40-12"><a href="3-4-jquery.html#cb40-12"></a>  <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;item&quot;</span><span class="kw">&gt;</span>4<span class="kw">&lt;/li&gt;</span></span>
<span id="cb40-13"><a href="3-4-jquery.html#cb40-13"></a><span class="kw">&lt;/ul&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb41"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb41-1"><a href="3-4-jquery.html#cb41-1"></a><span class="kw">let</span> items <span class="op">=</span> <span class="at">$</span>(<span class="st">&#39;.list .item&#39;</span>)<span class="op">;</span> <span class="co">// will return an array containing 8 li tags</span></span>
<span id="cb41-2"><a href="3-4-jquery.html#cb41-2"></a><span class="kw">let</span> otherItems <span class="op">=</span> <span class="at">$</span>(<span class="st">&#39;#list2 .item&#39;</span>)<span class="op">;</span> <span class="co">// will select only li tags from the second ul element</span></span>
<span id="cb41-3"><a href="3-4-jquery.html#cb41-3"></a><span class="kw">let</span> lists <span class="op">=</span> <span class="at">$</span>(<span class="st">&#39;ul&#39;</span>)<span class="op">;</span> <span class="co">// will return an array with 2 ul elements</span></span>
<span id="cb41-4"><a href="3-4-jquery.html#cb41-4"></a><span class="kw">let</span> firstItem <span class="op">=</span> <span class="at">$</span>(<span class="st">&#39;#list2:first-child&#39;</span>)<span class="op">;</span> <span class="co">// will return the first li element of the second ul.</span></span></code></pre></div>
<p>jQuery is obviously simpler than pure JavaScript.</p>
</div>
<div id="useful-functions" class="section level3">
<h3><span class="header-section-number">3.4.3</span> Useful functions</h3>
<p>There exist filtering functions dedicated to simplify item <a href="https://api.jquery.com/category/traversing/">selection</a>. We gathered the one mostly used in Shiny below.</p>
<div id="travel-in-the-dom" class="section level4">
<h4><span class="header-section-number">3.4.3.1</span> Travel in the DOM</h4>
<table>
<colgroup>
<col width="44%" />
<col width="55%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Method</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">children()</td>
<td align="center">Get the children of each element passed in the selector (important: only travels a single level down the DOM tree)</td>
</tr>
<tr class="even">
<td align="center">first()</td>
<td align="center">Given an list of elements, select the first item</td>
</tr>
<tr class="odd">
<td align="center">last()</td>
<td align="center">Given an list of elements, select the last item</td>
</tr>
<tr class="even">
<td align="center">find()</td>
<td align="center">Look for a descendant of the selected element(s) that could be multiple levels down in the DOM</td>
</tr>
<tr class="odd">
<td align="center">closest()</td>
<td align="center">Returns the first ancestor matching the condition (travels up in the DOM)</td>
</tr>
<tr class="even">
<td align="center">filter()</td>
<td align="center">Fine tune element selection by applying a filter. Only return element for which the condition is true</td>
</tr>
<tr class="odd">
<td align="center">siblings()</td>
<td align="center">Get all siblings of the selected element(s)</td>
</tr>
<tr class="even">
<td align="center">next()</td>
<td align="center">Get the immediately following sibling</td>
</tr>
<tr class="odd">
<td align="center">prev()</td>
<td align="center">Get the immediately preceding sibling</td>
</tr>
<tr class="even">
<td align="center">not()</td>
<td align="center">Given an existing set of selected elements, remove element(s) that match the given condition</td>
</tr>
</tbody>
</table>
</div>
<div id="manipulate-tags" class="section level4">
<h4><span class="header-section-number">3.4.3.2</span> Manipulate tags</h4>
<p>Below is a list of the main jQuery <a href="https://api.jquery.com/category/manipulation/">methods</a> to manipulate tags (adding class, css property…)</p>
<table>
<colgroup>
<col width="44%" />
<col width="55%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Method</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">addClass()</td>
<td align="center">Add class or multiple classes to the set of matched elements</td>
</tr>
<tr class="even">
<td align="center">hasClass()</td>
<td align="center">Check if the matched element(s) have a given class</td>
</tr>
<tr class="odd">
<td align="center">removeClass()</td>
<td align="center">Remove class or multiple classes to the set of matched elements</td>
</tr>
<tr class="even">
<td align="center">attr()</td>
<td align="center">Get or set the value of a specific attribute</td>
</tr>
<tr class="odd">
<td align="center">after()</td>
<td align="center">Insert content after</td>
</tr>
<tr class="even">
<td align="center">before ()</td>
<td align="center">Insert content before</td>
</tr>
<tr class="odd">
<td align="center">css()</td>
<td align="center">Get or set a css property</td>
</tr>
<tr class="even">
<td align="center">remove()</td>
<td align="center">Remove element(s) from the DOM</td>
</tr>
<tr class="odd">
<td align="center">val()</td>
<td align="center">Get the current value of the matched element(s)</td>
</tr>
</tbody>
</table>
<p>TO DO: add more methods</p>
</div>
</div>
<div id="chaining-jquery-methods" class="section level3">
<h3><span class="header-section-number">3.4.4</span> Chaining jQuery methods</h3>
<p>A lot of jQuery methods may be chained, that is like pipe operations in R.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb42-1"><a href="3-4-jquery.html#cb42-1"></a><span class="kw">&lt;ul&gt;</span></span>
<span id="cb42-2"><a href="3-4-jquery.html#cb42-2"></a>  <span class="kw">&lt;li&gt;</span>Item 1<span class="kw">&lt;/li&gt;</span></span>
<span id="cb42-3"><a href="3-4-jquery.html#cb42-3"></a>  <span class="kw">&lt;li&gt;</span>Item 2<span class="kw">&lt;/li&gt;</span></span>
<span id="cb42-4"><a href="3-4-jquery.html#cb42-4"></a>  <span class="kw">&lt;li&gt;</span>Item 3<span class="kw">&lt;/li&gt;</span></span>
<span id="cb42-5"><a href="3-4-jquery.html#cb42-5"></a>  <span class="kw">&lt;li&gt;</span>Item 4<span class="kw">&lt;/li&gt;</span></span>
<span id="cb42-6"><a href="3-4-jquery.html#cb42-6"></a>  <span class="kw">&lt;li&gt;</span>Item 5<span class="kw">&lt;/li&gt;</span></span>
<span id="cb42-7"><a href="3-4-jquery.html#cb42-7"></a><span class="kw">&lt;/ul&gt;</span></span></code></pre></div>
<p>We end the chain by <code>;</code> and each step is indent by 2 spaces in the right direction.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb43-1"><a href="3-4-jquery.html#cb43-1"></a><span class="at">$</span>(<span class="st">&#39;ul&#39;</span>)</span>
<span id="cb43-2"><a href="3-4-jquery.html#cb43-2"></a>  .<span class="at">first</span>()</span>
<span id="cb43-3"><a href="3-4-jquery.html#cb43-3"></a>  .<span class="at">css</span>(<span class="st">&#39;color&#39;</span><span class="op">,</span> <span class="st">&#39;green&#39;</span>) <span class="co">// add some style with css</span></span>
<span id="cb43-4"><a href="3-4-jquery.html#cb43-4"></a>  .<span class="at">attr</span>(<span class="st">&#39;id&#39;</span><span class="op">,</span> <span class="st">&#39;myAwesomeItem&#39;</span>) <span class="co">// add an id attribute</span></span>
<span id="cb43-5"><a href="3-4-jquery.html#cb43-5"></a>  .<span class="at">addClass</span>(<span class="st">&#39;amazing-ul&#39;</span>)<span class="op">;</span></span></code></pre></div>
</div>
<div id="iterations-1" class="section level3">
<h3><span class="header-section-number">3.4.5</span> Iterations</h3>
<p>Like in vanilla JavaScript, it is possible to do iterations in jQuery. Let’s consider the following HTML elements.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb44-1"><a href="3-4-jquery.html#cb44-1"></a><span class="kw">&lt;ul&gt;</span></span>
<span id="cb44-2"><a href="3-4-jquery.html#cb44-2"></a>  <span class="kw">&lt;li&gt;</span>Item 1<span class="kw">&lt;/li&gt;</span></span>
<span id="cb44-3"><a href="3-4-jquery.html#cb44-3"></a>  <span class="kw">&lt;li&gt;</span>Item 2<span class="kw">&lt;/li&gt;</span></span>
<span id="cb44-4"><a href="3-4-jquery.html#cb44-4"></a><span class="kw">&lt;/ul&gt;</span></span></code></pre></div>
<p>We apply the <code>each</code> method to change the style of each matched element step by step.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb45-1"><a href="3-4-jquery.html#cb45-1"></a><span class="at">$</span>(<span class="st">&#39;li&#39;</span>).<span class="at">each</span>(<span class="kw">function</span>() <span class="op">{</span></span>
<span id="cb45-2"><a href="3-4-jquery.html#cb45-2"></a>  <span class="at">$</span>(<span class="kw">this</span>).<span class="at">css</span>(<span class="st">&#39;visibility&#39;</span><span class="op">,</span> <span class="st">&#39;hidden&#39;</span>)<span class="op">;</span> <span class="co">// will hide all li items</span></span>
<span id="cb45-3"><a href="3-4-jquery.html#cb45-3"></a><span class="op">}</span>)<span class="op">;</span></span></code></pre></div>
<p>Notice that the following code <code>$('li').css('visibility', 'hidden');</code> will do exactly the same! This is explained by the implicit iteration process handled by most of jQuery methods.</p>
<p>The <code>map</code> methods has a different purpose. It creates a new object based on the provided one.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb46-1"><a href="3-4-jquery.html#cb46-1"></a><span class="kw">const</span> items <span class="op">=</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">;</span></span>
<span id="cb46-2"><a href="3-4-jquery.html#cb46-2"></a><span class="kw">const</span> threshold <span class="op">=</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb46-3"><a href="3-4-jquery.html#cb46-3"></a></span>
<span id="cb46-4"><a href="3-4-jquery.html#cb46-4"></a><span class="kw">let</span> filteredItems <span class="op">=</span> <span class="va">$</span>.<span class="at">map</span>(items<span class="op">,</span> <span class="kw">function</span>(i) <span class="op">{</span></span>
<span id="cb46-5"><a href="3-4-jquery.html#cb46-5"></a>  <span class="co">// removes all items &gt; threshold</span></span>
<span id="cb46-6"><a href="3-4-jquery.html#cb46-6"></a>  <span class="cf">if</span> (i <span class="op">&gt;</span> threshold) </span>
<span id="cb46-7"><a href="3-4-jquery.html#cb46-7"></a>    <span class="cf">return</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb46-8"><a href="3-4-jquery.html#cb46-8"></a>  <span class="cf">return</span> i<span class="op">;</span></span>
<span id="cb46-9"><a href="3-4-jquery.html#cb46-9"></a><span class="op">}</span>)<span class="op">;</span></span></code></pre></div>
</div>
<div id="good-practice" class="section level3">
<h3><span class="header-section-number">3.4.6</span> Good practice</h3>
<p>It is recommended to wrap any jQuery code as follows:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb47-1"><a href="3-4-jquery.html#cb47-1"></a><span class="at">$</span>(document).<span class="at">ready</span>(<span class="kw">function</span>()<span class="op">{</span></span>
<span id="cb47-2"><a href="3-4-jquery.html#cb47-2"></a>  <span class="co">// your code</span></span>
<span id="cb47-3"><a href="3-4-jquery.html#cb47-3"></a><span class="op">}</span>)<span class="op">;</span></span>
<span id="cb47-4"><a href="3-4-jquery.html#cb47-4"></a></span>
<span id="cb47-5"><a href="3-4-jquery.html#cb47-5"></a><span class="co">// or a shortcut</span></span>
<span id="cb47-6"><a href="3-4-jquery.html#cb47-6"></a></span>
<span id="cb47-7"><a href="3-4-jquery.html#cb47-7"></a><span class="at">$</span>(<span class="kw">function</span>() <span class="op">{</span></span>
<span id="cb47-8"><a href="3-4-jquery.html#cb47-8"></a>  <span class="co">// your code</span></span>
<span id="cb47-9"><a href="3-4-jquery.html#cb47-9"></a><span class="op">}</span>)<span class="op">;</span></span></code></pre></div>
<p>Indeed, do you guess what would happen if you try to modify an element that does not even exist? The code above will make sure that the document is ready before starting any jQuery manipulation.</p>
</div>
<div id="events" class="section level3">
<h3><span class="header-section-number">3.4.7</span> Events</h3>
<p>In jQuery there exists a significant number methods related to events. Below are the most popular:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb48-1"><a href="3-4-jquery.html#cb48-1"></a><span class="at">$</span>(element).<span class="at">click</span>()<span class="op">;</span> <span class="co">// click event</span></span>
<span id="cb48-2"><a href="3-4-jquery.html#cb48-2"></a><span class="at">$</span>(element).<span class="at">change</span>()<span class="op">;</span> <span class="co">// trigger change on an element</span></span>
<span id="cb48-3"><a href="3-4-jquery.html#cb48-3"></a><span class="at">$</span>(element).<span class="at">on</span>(<span class="st">&#39;click&#39;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span></span>
<span id="cb48-4"><a href="3-4-jquery.html#cb48-4"></a> <span class="co">// whatever</span></span>
<span id="cb48-5"><a href="3-4-jquery.html#cb48-5"></a><span class="op">}</span>)<span class="op">;</span> <span class="co">// attach an event handler function. Here we add click for the example</span></span>
<span id="cb48-6"><a href="3-4-jquery.html#cb48-6"></a><span class="at">$</span>(element).<span class="at">one</span>(<span class="st">&#39;click&#39;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span></span>
<span id="cb48-7"><a href="3-4-jquery.html#cb48-7"></a> <span class="co">// whatever</span></span>
<span id="cb48-8"><a href="3-4-jquery.html#cb48-8"></a><span class="op">}</span>)<span class="op">;</span> <span class="co">// the difference with on is that one will trigger only once</span></span>
<span id="cb48-9"><a href="3-4-jquery.html#cb48-9"></a><span class="at">$</span>(element).<span class="at">resize</span>()<span class="op">;</span> <span class="co">// useful to trigger plot resize in Shiny so that they correctly fit their container</span></span>
<span id="cb48-10"><a href="3-4-jquery.html#cb48-10"></a><span class="at">$</span>(element).<span class="at">trigger</span>(<span class="st">&#39;change&#39;</span>) <span class="co">// similar to $(element).change(); You will find it in the Shiny core.</span></span></code></pre></div>
<p>The <code>.on</code> event is frequently used in Shiny since it allows to pass custom events which are not part of the JS prefined events. For instance shinydashboard relies on a specific HTML/JavaScript/CSS template including a homemade API for handling the dashboard events. Don’t worry if this section is not clear at the moment. We will see practical examples in the following chapters.</p>
</div>
<div id="extending-objects" class="section level3">
<h3><span class="header-section-number">3.4.8</span> Extending objects</h3>
<p>A last feature we need to mention about jQuery is the ability to extend objects with additional properties and/or method.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb49-1"><a href="3-4-jquery.html#cb49-1"></a><span class="co">// jQuery way</span></span>
<span id="cb49-2"><a href="3-4-jquery.html#cb49-2"></a><span class="at">$</span>(<span class="kw">function</span>() <span class="op">{</span></span>
<span id="cb49-3"><a href="3-4-jquery.html#cb49-3"></a>  <span class="kw">let</span> object1 <span class="op">=</span> <span class="op">{</span></span>
<span id="cb49-4"><a href="3-4-jquery.html#cb49-4"></a>    <span class="dt">apple</span><span class="op">:</span> <span class="dv">0</span></span>
<span id="cb49-5"><a href="3-4-jquery.html#cb49-5"></a>  <span class="op">};</span></span>
<span id="cb49-6"><a href="3-4-jquery.html#cb49-6"></a>  <span class="va">$</span>.<span class="at">extend</span>(object1<span class="op">,</span> <span class="op">{</span></span>
<span id="cb49-7"><a href="3-4-jquery.html#cb49-7"></a>    <span class="dt">print</span><span class="op">:</span> <span class="kw">function</span>() <span class="op">{</span></span>
<span id="cb49-8"><a href="3-4-jquery.html#cb49-8"></a>      <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>)<span class="op">;</span></span>
<span id="cb49-9"><a href="3-4-jquery.html#cb49-9"></a>    <span class="op">}</span></span>
<span id="cb49-10"><a href="3-4-jquery.html#cb49-10"></a>  <span class="op">}</span>)<span class="op">;</span></span>
<span id="cb49-11"><a href="3-4-jquery.html#cb49-11"></a>  <span class="va">object1</span>.<span class="at">print</span>()<span class="op">;</span></span>
<span id="cb49-12"><a href="3-4-jquery.html#cb49-12"></a><span class="op">}</span>)<span class="op">;</span></span></code></pre></div>
<p>With vanilla JS we would use <code>Object.defineProperty</code>:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb50-1"><a href="3-4-jquery.html#cb50-1"></a><span class="co">// pure JavaScript</span></span>
<span id="cb50-2"><a href="3-4-jquery.html#cb50-2"></a><span class="va">Object</span>.<span class="at">defineProperty</span>(object1<span class="op">,</span> <span class="st">&#39;print&#39;</span><span class="op">,</span> <span class="op">{</span></span>
<span id="cb50-3"><a href="3-4-jquery.html#cb50-3"></a>  <span class="dt">value</span><span class="op">:</span> <span class="kw">function</span>() <span class="op">{</span></span>
<span id="cb50-4"><a href="3-4-jquery.html#cb50-4"></a>    <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>)<span class="op">;</span></span>
<span id="cb50-5"><a href="3-4-jquery.html#cb50-5"></a>  <span class="op">},</span></span>
<span id="cb50-6"><a href="3-4-jquery.html#cb50-6"></a>  <span class="dt">writable</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb50-7"><a href="3-4-jquery.html#cb50-7"></a><span class="op">}</span>)<span class="op">;</span></span></code></pre></div>

</div>
</div>
<!-- </div> -->



</div>
<p style="text-align: center;">
<a href="3-3-programming-with-js-basis.html"><button class="btn btn-default">Previous</button></a>
<a href="4-shiny-intro.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
