<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="15.3 Navbar menu input | Outstanding User Interfaces with Shiny" />
<meta property="og:type" content="book" />


<meta property="og:description" content="A book about deeply customizing Shiny app for production." />
<meta name="github-repo" content="DivadNojnarg/outstanding-shiny-ui" />

<meta name="author" content="David Granjon" />

<meta name="date" content="2020-08-31" />


<meta name="description" content="A book about deeply customizing Shiny app for production.">

<title>15.3 Navbar menu input | Outstanding User Interfaces with Shiny</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
p.caption {
  color: #777;
  margin-top: 10px;
}
p code {
  white-space: inherit;
}
pre {
  word-break: normal;
  word-wrap: normal;
}
pre code {
  white-space: inherit;
}
p.flushright {
  text-align: right;
}
blockquote > p:last-child {
  text-align: right;
}
blockquote > p:first-child {
  text-align: inherit;
}

/* Callouts */
.callout {
  border-radius: 0.25rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
  background-color: #ffffff;
  border-left: 5px solid #e9ecef;
  margin-bottom: 1rem;
  padding: 1rem;
}

.callout a {
  color: #495057;
  text-decoration: underline;
}

.callout a:hover {
  color: #e9ecef;
}

.callout p:last-child {
  margin-bottom: 0;
}

.callout.callout-danger {
  border-left-color: #bd2130;
}

.callout.callout-warning {
  border-left-color: #d39e00;
}

.callout.callout-info {
  border-left-color: #117a8b;
}

.callout.callout-success {
  border-left-color: #1e7e34;
}


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li class="has-sub"><a href="index.html#prerequisites">Prerequisites</a><ul>
<li><a href="disclaimer.html#disclaimer">Disclaimer</a></li>
<li><a href="is-this-book-for-me.html#is-this-book-for-me">Is this book for me?</a></li>
<li><a href="related-content.html#related-content">Related content</a></li>
<li><a href="acknowledgements.html#acknowledgements">Acknowledgements</a></li>
<li><a href="packages.html#packages">Packages</a></li>
</ul></li>
<li class="has-sub"><a href="1-intro.html#intro"><span class="toc-section-number">1</span> Introduction</a><ul>
<li><a href="1-1-about-the-code.html#about-the-code"><span class="toc-section-number">1.1</span> About the code</a></li>
<li><a href="1-2-preliminary-exercices.html#preliminary-exercices"><span class="toc-section-number">1.2</span> Preliminary exercices</a></li>
</ul></li>
<li class="part"><span><b>Survival Kit</b></span></li>
<li class="has-sub"><a href="2-survival-kit-html.html#survival-kit-html"><span class="toc-section-number">2</span> HTML</a><ul>
<li><a href="2-1-html-basics.html#html-basics"><span class="toc-section-number">2.1</span> HTML Basics</a></li>
<li><a href="2-2-tag-attributes.html#tag-attributes"><span class="toc-section-number">2.2</span> Tag attributes</a></li>
<li><a href="2-3-html-page-skeleton.html#html-page-skeleton"><span class="toc-section-number">2.3</span> HTML page: skeleton</a></li>
<li class="has-sub"><a href="2-4-about-the-document-object-model-dom.html#about-the-document-object-model-dom"><span class="toc-section-number">2.4</span> About the Document Object Model (DOM)</a><ul>
<li><a href="2-4-about-the-document-object-model-dom.html#visualizing-the-dom-the-html-inspector"><span class="toc-section-number">2.4.1</span> Visualizing the DOM: the HTML inspector</a></li>
</ul></li>
<li class="has-sub"><a href="2-5-preliminary-introduction-to-css-and-javascript.html#preliminary-introduction-to-css-and-javascript"><span class="toc-section-number">2.5</span> Preliminary introduction to CSS and JavaScript</a><ul>
<li><a href="2-5-preliminary-introduction-to-css-and-javascript.html#html-and-css"><span class="toc-section-number">2.5.1</span> HTML and CSS</a></li>
<li><a href="2-5-preliminary-introduction-to-css-and-javascript.html#html-and-javascript"><span class="toc-section-number">2.5.2</span> HTML and JavaScript</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="3-survival-kit-javascript.html#survival-kit-javascript"><span class="toc-section-number">3</span> JavaScript</a><ul>
<li><a href="3-1-introduction.html#introduction"><span class="toc-section-number">3.1</span> Introduction</a></li>
<li class="has-sub"><a href="3-2-setup.html#setup"><span class="toc-section-number">3.2</span> Setup</a><ul>
<li><a href="3-2-setup.html#node"><span class="toc-section-number">3.2.1</span> Node</a></li>
<li><a href="3-2-setup.html#choose-a-good-ide"><span class="toc-section-number">3.2.2</span> Choose a good IDE</a></li>
<li><a href="3-2-setup.html#first-script"><span class="toc-section-number">3.2.3</span> First Script</a></li>
</ul></li>
<li class="has-sub"><a href="3-3-programming-with-js-basis.html#programming-with-js-basis"><span class="toc-section-number">3.3</span> Programming with JS: basis</a><ul>
<li><a href="3-3-programming-with-js-basis.html#js-types"><span class="toc-section-number">3.3.1</span> JS types</a></li>
<li><a href="3-3-programming-with-js-basis.html#variables"><span class="toc-section-number">3.3.2</span> Variables</a></li>
<li><a href="3-3-programming-with-js-basis.html#conditions"><span class="toc-section-number">3.3.3</span> Conditions</a></li>
<li><a href="3-3-programming-with-js-basis.html#objects"><span class="toc-section-number">3.3.4</span> Objects</a></li>
<li><a href="3-3-programming-with-js-basis.html#iterations"><span class="toc-section-number">3.3.5</span> Iterations</a></li>
<li><a href="3-3-programming-with-js-basis.html#functions"><span class="toc-section-number">3.3.6</span> Functions</a></li>
<li><a href="3-3-programming-with-js-basis.html#event-listeners"><span class="toc-section-number">3.3.7</span> Event listeners</a></li>
</ul></li>
<li class="has-sub"><a href="3-4-jquery.html#jquery"><span class="toc-section-number">3.4</span> jQuery</a><ul>
<li><a href="3-4-jquery.html#introduction-1"><span class="toc-section-number">3.4.1</span> Introduction</a></li>
<li><a href="3-4-jquery.html#syntax"><span class="toc-section-number">3.4.2</span> Syntax</a></li>
<li><a href="3-4-jquery.html#useful-functions"><span class="toc-section-number">3.4.3</span> Useful functions</a></li>
<li><a href="3-4-jquery.html#chaining-jquery-methods"><span class="toc-section-number">3.4.4</span> Chaining jQuery methods</a></li>
<li><a href="3-4-jquery.html#iterations-1"><span class="toc-section-number">3.4.5</span> Iterations</a></li>
<li><a href="3-4-jquery.html#good-practice"><span class="toc-section-number">3.4.6</span> Good practice</a></li>
<li><a href="3-4-jquery.html#events"><span class="toc-section-number">3.4.7</span> Events</a></li>
<li><a href="3-4-jquery.html#extending-objects"><span class="toc-section-number">3.4.8</span> Extending objects</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Shiny: What’s under the Hood?</b></span></li>
<li class="has-sub"><a href="4-shiny-intro.html#shiny-intro"><span class="toc-section-number">4</span> Introduction</a><ul>
<li><a href="4-1-shiny-html-css-and-javascript.html#shiny-html-css-and-javascript"><span class="toc-section-number">4.1</span> Shiny, HTML, CSS and JavaScript</a></li>
<li><a href="4-2-shiny-websocket.html#shiny-websocket"><span class="toc-section-number">4.2</span> Websocket: R/JS bidirectional communication</a></li>
<li><a href="4-3-shiny-session.html#shiny-session"><span class="toc-section-number">4.3</span> The Shiny session object</a></li>
</ul></li>
<li class="has-sub"><a href="5-shiny-input-system.html#shiny-input-system"><span class="toc-section-number">5</span> Shiny’s input system</a><ul>
<li><a href="5-1-shiny-javascript-sources.html#shiny-javascript-sources"><span class="toc-section-number">5.1</span> Shiny JavaScript sources</a></li>
<li><a href="5-2-the-shiny-javascript-object.html#the-shiny-javascript-object"><span class="toc-section-number">5.2</span> The Shiny JavaScript object</a></li>
<li><a href="5-3-initialization.html#initialization"><span class="toc-section-number">5.3</span> Initialization</a></li>
<li class="has-sub"><a href="5-4-input-bindings.html#input-bindings"><span class="toc-section-number">5.4</span> Input bindings</a><ul>
<li><a href="5-4-input-bindings.html#input-structure"><span class="toc-section-number">5.4.1</span> Input structure</a></li>
<li><a href="5-4-input-bindings.html#binding-shiny-inputs"><span class="toc-section-number">5.4.2</span> Binding Shiny inputs</a></li>
<li><a href="5-4-input-bindings.html#binding-other-elements"><span class="toc-section-number">5.4.3</span> Binding other elements</a></li>
</ul></li>
<li class="has-sub"><a href="5-5-utilities-to-quickly-define-new-inputs.html#utilities-to-quickly-define-new-inputs"><span class="toc-section-number">5.5</span> Utilities to quickly define new inputs</a><ul>
<li><a href="3-1-introduction.html#introduction"><span class="toc-section-number">5.5.1</span> Introduction</a></li>
<li><a href="5-5-utilities-to-quickly-define-new-inputs.html#examples"><span class="toc-section-number">5.5.2</span> Examples</a></li>
<li><a href="5-5-utilities-to-quickly-define-new-inputs.html#custom-data-format"><span class="toc-section-number">5.5.3</span> Custom data format</a></li>
</ul></li>
<li class="has-sub"><a href="5-6-miscellaneous.html#miscellaneous"><span class="toc-section-number">5.6</span> Miscellaneous</a><ul>
<li><a href="5-6-miscellaneous.html#get-access-to-initial-values"><span class="toc-section-number">5.6.1</span> Get access to initial values</a></li>
</ul></li>
</ul></li>
<li><a href="6-shiny-custom-handler.html#shiny-custom-handler"><span class="toc-section-number">6</span> Custom handlers: from R to JavaScript</a></li>
<li class="part"><span><b>htmltools</b></span></li>
<li class="has-sub"><a href="7-htmltools-overview.html#htmltools-overview"><span class="toc-section-number">7</span> htmltools overview</a><ul>
<li><a href="7-1-html-tags.html#html-tags"><span class="toc-section-number">7.1</span> HTML Tags</a></li>
<li><a href="7-2-notations.html#notations"><span class="toc-section-number">7.2</span> Notations</a></li>
<li><a href="7-3-adding-new-tags.html#adding-new-tags"><span class="toc-section-number">7.3</span> Adding new tags</a></li>
<li><a href="7-4-alternative-way-to-write-tags.html#alternative-way-to-write-tags"><span class="toc-section-number">7.4</span> Alternative way to write tags</a></li>
<li class="has-sub"><a href="7-5-playing-with-tags.html#playing-with-tags"><span class="toc-section-number">7.5</span> Playing with tags</a><ul>
<li><a href="7-5-playing-with-tags.html#tags-structure"><span class="toc-section-number">7.5.1</span> Tags structure</a></li>
<li><a href="7-5-playing-with-tags.html#useful-functions-for-tags"><span class="toc-section-number">7.5.2</span> Useful functions for tags</a></li>
<li><a href="7-5-playing-with-tags.html#other-interesting-functions"><span class="toc-section-number">7.5.3</span> Other interesting functions</a></li>
<li><a href="7-5-playing-with-tags.html#conditionally-set-attributes"><span class="toc-section-number">7.5.4</span> Conditionally set attributes</a></li>
<li><a href="7-5-playing-with-tags.html#using"><span class="toc-section-number">7.5.5</span> Using %&gt;%</a></li>
<li><a href="7-5-playing-with-tags.html#programmatically-create-children-elements"><span class="toc-section-number">7.5.6</span> Programmatically create children elements</a></li>
</ul></li>
</ul></li>
<li class="has-sub"><a href="8-htmltools-dependencies.html#htmltools-dependencies"><span class="toc-section-number">8</span> Dependency utilities</a><ul>
<li><a href="8-1-the-dirty-approach.html#the-dirty-approach"><span class="toc-section-number">8.1</span> The dirty approach</a></li>
<li><a href="8-2-the-clean-approach.html#the-clean-approach"><span class="toc-section-number">8.2</span> The clean approach</a></li>
<li><a href="8-3-another-example-importing-html-dependencies-from-other-packages.html#another-example-importing-html-dependencies-from-other-packages"><span class="toc-section-number">8.3</span> Another example: Importing HTML dependencies from other packages</a></li>
<li><a href="8-4-suppress-dependencies.html#suppress-dependencies"><span class="toc-section-number">8.4</span> Suppress dependencies</a></li>
</ul></li>
<li class="has-sub"><a href="9-htmltools-other-tools.html#htmltools-other-tools"><span class="toc-section-number">9</span> Other tools</a><ul>
<li><a href="9-1-css.html#css"><span class="toc-section-number">9.1</span> CSS</a></li>
</ul></li>
<li class="part"><span><b>Practice 1: a dashboard template</b></span></li>
<li><a href="10-custom-templates-selection.html#custom-templates-selection"><span class="toc-section-number">10</span> Template selection</a></li>
<li class="has-sub"><a href="11-custom-templates-package.html#custom-templates-package"><span class="toc-section-number">11</span> Package creation</a><ul>
<li><a href="3-1-introduction.html#introduction"><span class="toc-section-number">11.1</span> Introduction</a></li>
<li><a href="11-2-step-by-step.html#step-by-step"><span class="toc-section-number">11.2</span> Step by step</a></li>
</ul></li>
<li class="has-sub"><a href="12-custom-templates-dependencies.html#custom-templates-dependencies"><span class="toc-section-number">12</span> Define dependencies</a><ul>
<li><a href="12-1-discover-the-project.html#discover-the-project"><span class="toc-section-number">12.1</span> Discover the project</a></li>
<li><a href="12-2-identify-mandatory-dependencies.html#identify-mandatory-dependencies"><span class="toc-section-number">12.2</span> Identify mandatory dependencies</a></li>
<li><a href="12-3-bundle-dependencies.html#bundle-dependencies"><span class="toc-section-number">12.3</span> Bundle dependencies</a></li>
</ul></li>
<li class="has-sub"><a href="13-custom-templates-skeleton.html#custom-templates-skeleton"><span class="toc-section-number">13</span> Template skeleton</a><ul>
<li><a href="13-1-identify-template-elements.html#identify-template-elements"><span class="toc-section-number">13.1</span> Identify template elements</a></li>
<li class="has-sub"><a href="13-2-design-the-page-layout.html#design-the-page-layout"><span class="toc-section-number">13.2</span> Design the page layout</a><ul>
<li><a href="13-2-design-the-page-layout.html#the-page-wrapper"><span class="toc-section-number">13.2.1</span> The page wrapper</a></li>
<li><a href="13-2-design-the-page-layout.html#the-body-content"><span class="toc-section-number">13.2.2</span> The body content</a></li>
<li><a href="13-2-design-the-page-layout.html#the-footer"><span class="toc-section-number">13.2.3</span> The footer</a></li>
<li><a href="13-2-design-the-page-layout.html#the-navbar-or-header"><span class="toc-section-number">13.2.4</span> The navbar (or header)</a></li>
<li><a href="13-2-design-the-page-layout.html#card-containers"><span class="toc-section-number">13.2.5</span> Card containers</a></li>
<li><a href="13-2-design-the-page-layout.html#ribbons-card-components"><span class="toc-section-number">13.2.6</span> Ribbons: card components</a></li>
<li><a href="13-2-design-the-page-layout.html#icons"><span class="toc-section-number">13.2.7</span> Icons</a></li>
</ul></li>
<li><a href="13-3-exercises.html#exercises"><span class="toc-section-number">13.3</span> Exercises</a></li>
</ul></li>
<li class="has-sub"><a href="14-custom-templates-testing.html#custom-templates-testing"><span class="toc-section-number">14</span> Testing and validating templates elements</a><ul>
<li class="has-sub"><a href="14-1-validate-template-functions.html#validate-template-functions"><span class="toc-section-number">14.1</span> Validate template functions</a><ul>
<li><a href="14-1-validate-template-functions.html#create-your-own-validations"><span class="toc-section-number">14.1.1</span> Create your own validations</a></li>
<li><a href="14-1-validate-template-functions.html#existing-utils-functions"><span class="toc-section-number">14.1.2</span> Existing utils functions</a></li>
<li><a href="14-1-validate-template-functions.html#example-refine-navbar-menu-items"><span class="toc-section-number">14.1.3</span> Example: refine navbar menu items</a></li>
</ul></li>
<li class="has-sub"><a href="14-2-testing-templates-elements.html#testing-templates-elements"><span class="toc-section-number">14.2</span> Testing templates elements</a><ul>
<li><a href="14-2-testing-templates-elements.html#testing-template-behavior"><span class="toc-section-number">14.2.1</span> Testing template behavior</a></li>
</ul></li>
<li><a href="14-3-testing-javascript.html#testing-javascript"><span class="toc-section-number">14.3</span> Testing JavaScript</a></li>
</ul></li>
<li class="has-sub"><a href="15-custom-templates-inputs.html#custom-templates-inputs"><span class="toc-section-number">15</span> Develop custom input widgets</a><ul>
<li class="has-sub"><a href="15-1-tabler-action-button.html#tabler-action-button"><span class="toc-section-number">15.1</span> Tabler action button</a><ul>
<li><a href="15-1-tabler-action-button.html#reminders-about-the-action-button"><span class="toc-section-number">15.1.1</span> Reminders about the action button</a></li>
<li><a href="15-1-tabler-action-button.html#application-to-tabler"><span class="toc-section-number">15.1.2</span> Application to Tabler</a></li>
</ul></li>
<li><a href="15-2-toggle-switch.html#toggle-switch"><span class="toc-section-number">15.2</span> Toggle Switch</a></li>
<li><a href="15-3-navbar-menu-input.html#navbar-menu-input"><span class="toc-section-number">15.3</span> Navbar menu input</a></li>
<li><a href="13-3-exercises.html#exercises"><span class="toc-section-number">15.4</span> Exercises</a></li>
</ul></li>
<li class="has-sub"><a href="16-custom-templates-interactivity.html#custom-templates-interactivity"><span class="toc-section-number">16</span> Adding more interactivity</a><ul>
<li><a href="16-1-custom-progress-bars.html#custom-progress-bars"><span class="toc-section-number">16.1</span> Custom progress bars</a></li>
<li class="has-sub"><a href="16-2-user-feedback-toasts.html#user-feedback-toasts"><span class="toc-section-number">16.2</span> User feedback: toasts</a><ul>
<li><a href="16-2-user-feedback-toasts.html#toast-skeleton"><span class="toc-section-number">16.2.1</span> Toast skeleton</a></li>
<li><a href="16-2-user-feedback-toasts.html#the-toast-api"><span class="toc-section-number">16.2.2</span> The toast API</a></li>
<li><a href="16-2-user-feedback-toasts.html#r-implementation"><span class="toc-section-number">16.2.3</span> R implementation</a></li>
<li><a href="16-2-user-feedback-toasts.html#wrap-up"><span class="toc-section-number">16.2.4</span> Wrap up</a></li>
</ul></li>
<li><a href="16-3-transform-an-element-in-a-custom-action-button.html#transform-an-element-in-a-custom-action-button"><span class="toc-section-number">16.3</span> Transform an element in a custom action button</a></li>
<li class="has-sub"><a href="16-4-tab-events.html#tab-events"><span class="toc-section-number">16.4</span> Tab events</a><ul>
<li><a href="16-4-tab-events.html#insert-tabs"><span class="toc-section-number">16.4.1</span> Insert/Remove tabs in tabsetpanel</a></li>
</ul></li>
<li><a href="13-3-exercises.html#exercises"><span class="toc-section-number">16.5</span> Exercises</a></li>
</ul></li>
<li class="part"><span><b>Beautify with CSS and SASS</b></span></li>
<li class="has-sub"><a href="17-beautify-with-fresh.html#beautify-with-fresh"><span class="toc-section-number">17</span> Beautify with fresh</a><ul>
<li><a href="17-1-fresh-the-big-picture.html#fresh-the-big-picture"><span class="toc-section-number">17.1</span> {fresh}, the big picture</a></li>
</ul></li>
<li><a href="references.html#references">References</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="navbar-menu-input" class="section level2">
<h2><span class="header-section-number">15.3</span> Navbar menu input</h2>
<p>As stated in Chapter <a href="5-shiny-input-system.html#shiny-input-system">5</a>, it is quite straightforward to bind other elements than pure inputs (HTML elements with the input tag) to Shiny. As a reminder, we created a custom input binding to detect the state of a shinydashboard box (collapsed/uncollapsed).
In chapter <a href="13-custom-templates-skeleton.html#custom-templates-skeleton">13</a>, we created the <code>tabler_navbar</code> as well as the <code>tabler_navbar_menu</code> and <code>tabler_navbar_menu_item</code>. As in shinydashboard, it would be nice to capture the currently selected tab to be able to perform actions on the server side, updating the selected tab based on a button click.</p>
<p>Where do we start? First of all, we add an id attribute to the <code>tabler_navbar_menu</code> so that it holds the corresponding <code>input$id</code>. Whether to use <code>inputId</code> or <code>id</code> as a parameter name is up to you, but keep in mind that <code>inputId</code> does not exist in HTML.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="15-3-navbar-menu-input.html#cb186-1"></a>tabler_navbar_menu &lt;-<span class="st"> </span><span class="cf">function</span>(..., <span class="dt">inputId =</span> <span class="ot">NULL</span>) {</span>
<span id="cb186-2"><a href="15-3-navbar-menu-input.html#cb186-2"></a>  tags<span class="op">$</span><span class="kw">ul</span>(<span class="dt">id =</span> inputId, <span class="dt">class =</span> <span class="st">&quot;nav nav-pills navbar-nav&quot;</span>, ...)</span>
<span id="cb186-3"><a href="15-3-navbar-menu-input.html#cb186-3"></a>}</span></code></pre></div>
<p>The next step is the <code>navbarMenuBinding</code> creation. We decide to look for the <code>navbar-nav</code> class in the <code>find</code> method. Below, we describe the binding step by step. You may find the whole working code at the end of this example.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb187-1"><a href="15-3-navbar-menu-input.html#cb187-1"></a>find<span class="op">:</span> <span class="kw">function</span>(scope) <span class="op">{</span></span>
<span id="cb187-2"><a href="15-3-navbar-menu-input.html#cb187-2"></a>  <span class="cf">return</span> <span class="at">$</span>(scope).<span class="at">find</span>(<span class="st">&#39;.navbar-nav&#39;</span>)<span class="op">;</span></span>
<span id="cb187-3"><a href="15-3-navbar-menu-input.html#cb187-3"></a><span class="op">}</span></span></code></pre></div>
<p>In the <code>initialize</code> method, we ensure that if no tab is selected at start, the first tab will be selected by default. Otherwise, we select the activated tab. We use the string interpolation to ease the insertion of JS code in strings (<code>${menuId} .nav-link.active</code>).</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb188-1"><a href="15-3-navbar-menu-input.html#cb188-1"></a>initialize<span class="op">:</span> <span class="kw">function</span>(el) <span class="op">{</span></span>
<span id="cb188-2"><a href="15-3-navbar-menu-input.html#cb188-2"></a>  <span class="kw">let</span> menuId <span class="op">=</span> <span class="st">&#39;#&#39;</span> <span class="op">+</span> <span class="at">$</span>(el).<span class="at">attr</span>(<span class="st">&#39;id&#39;</span>)<span class="op">;</span></span>
<span id="cb188-3"><a href="15-3-navbar-menu-input.html#cb188-3"></a>  <span class="kw">let</span> activeTab <span class="op">=</span> <span class="at">$</span>(<span class="vs">`</span><span class="sc">${</span>menuId<span class="sc">}</span><span class="vs"> .nav-link.active`</span>)<span class="op">;</span></span>
<span id="cb188-4"><a href="15-3-navbar-menu-input.html#cb188-4"></a>  <span class="co">// if multiple items are found</span></span>
<span id="cb188-5"><a href="15-3-navbar-menu-input.html#cb188-5"></a>  <span class="cf">if</span> (<span class="va">activeTab</span>.<span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">{</span></span>
<span id="cb188-6"><a href="15-3-navbar-menu-input.html#cb188-6"></a>    <span class="kw">let</span> tabId <span class="op">=</span> <span class="at">$</span>(activeTab).<span class="at">attr</span>(<span class="st">&#39;data-value&#39;</span>)<span class="op">;</span></span>
<span id="cb188-7"><a href="15-3-navbar-menu-input.html#cb188-7"></a>    <span class="at">$</span>(activeTab).<span class="at">tab</span>(<span class="st">&#39;show&#39;</span>)<span class="op">;</span></span>
<span id="cb188-8"><a href="15-3-navbar-menu-input.html#cb188-8"></a>    <span class="at">$</span>(<span class="vs">`#</span><span class="sc">${</span>tabId<span class="sc">}</span><span class="vs">`</span>).<span class="at">addClass</span>(<span class="st">&#39;show active&#39;</span>)<span class="op">;</span></span>
<span id="cb188-9"><a href="15-3-navbar-menu-input.html#cb188-9"></a>  <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb188-10"><a href="15-3-navbar-menu-input.html#cb188-10"></a>    <span class="at">$</span>(<span class="vs">`</span><span class="sc">${</span>menuId<span class="sc">}</span><span class="vs"> .nav-link`</span>)</span>
<span id="cb188-11"><a href="15-3-navbar-menu-input.html#cb188-11"></a>      .<span class="at">first</span>()</span>
<span id="cb188-12"><a href="15-3-navbar-menu-input.html#cb188-12"></a>      .<span class="at">tab</span>(<span class="st">&#39;show&#39;</span>)<span class="op">;</span></span>
<span id="cb188-13"><a href="15-3-navbar-menu-input.html#cb188-13"></a>  <span class="op">}</span></span>
<span id="cb188-14"><a href="15-3-navbar-menu-input.html#cb188-14"></a><span class="op">}</span></span></code></pre></div>
<p>The role of <code>getValue</code> is to return the currently selected tab. As a reminder, here is the <code>tabler_navbar_menu_item</code> function:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="15-3-navbar-menu-input.html#cb189-1"></a>tabler_navbar_menu_item &lt;-<span class="st"> </span><span class="cf">function</span>(text, tabName, <span class="dt">icon =</span> <span class="ot">NULL</span>, <span class="dt">selected =</span> <span class="ot">FALSE</span>) {</span>
<span id="cb189-2"><a href="15-3-navbar-menu-input.html#cb189-2"></a>  </span>
<span id="cb189-3"><a href="15-3-navbar-menu-input.html#cb189-3"></a>  item_cl &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;nav-link&quot;</span>, <span class="cf">if</span>(selected) <span class="st">&quot; active&quot;</span>)</span>
<span id="cb189-4"><a href="15-3-navbar-menu-input.html#cb189-4"></a>  </span>
<span id="cb189-5"><a href="15-3-navbar-menu-input.html#cb189-5"></a>  tags<span class="op">$</span><span class="kw">li</span>(</span>
<span id="cb189-6"><a href="15-3-navbar-menu-input.html#cb189-6"></a>    <span class="dt">class =</span> <span class="st">&quot;nav-item&quot;</span>,</span>
<span id="cb189-7"><a href="15-3-navbar-menu-input.html#cb189-7"></a>    <span class="kw">a</span>(</span>
<span id="cb189-8"><a href="15-3-navbar-menu-input.html#cb189-8"></a>      <span class="dt">class =</span> item_cl,</span>
<span id="cb189-9"><a href="15-3-navbar-menu-input.html#cb189-9"></a>      <span class="dt">href =</span> <span class="kw">paste0</span>(<span class="st">&quot;#&quot;</span>, tabName),</span>
<span id="cb189-10"><a href="15-3-navbar-menu-input.html#cb189-10"></a>      <span class="st">`</span><span class="dt">data-toggle</span><span class="st">`</span> =<span class="st"> &quot;pill&quot;</span>, <span class="co"># see https://getbootstrap.com/docs/4.0/components/navs/</span></span>
<span id="cb189-11"><a href="15-3-navbar-menu-input.html#cb189-11"></a>      <span class="st">`</span><span class="dt">data-value</span><span class="st">`</span> =<span class="st"> </span>tabName,</span>
<span id="cb189-12"><a href="15-3-navbar-menu-input.html#cb189-12"></a>      <span class="dt">role =</span> <span class="st">&quot;tab&quot;</span>,</span>
<span id="cb189-13"><a href="15-3-navbar-menu-input.html#cb189-13"></a>      <span class="kw">span</span>(<span class="dt">class =</span> <span class="st">&quot;nav-link-icon d-md-none d-lg-inline-block&quot;</span>, icon),</span>
<span id="cb189-14"><a href="15-3-navbar-menu-input.html#cb189-14"></a>      <span class="kw">span</span>(<span class="dt">class =</span> <span class="st">&quot;nav-link-title&quot;</span>, text)</span>
<span id="cb189-15"><a href="15-3-navbar-menu-input.html#cb189-15"></a>    )</span>
<span id="cb189-16"><a href="15-3-navbar-menu-input.html#cb189-16"></a>  )</span>
<span id="cb189-17"><a href="15-3-navbar-menu-input.html#cb189-17"></a>}</span></code></pre></div>
<p>From that function, the active item has is the <code>a</code> element with the classes <code>nav-link active</code>. We recover the tab value stored in the <code>data-value</code> attribute. A bit of jQuery will do the trick!</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb190-1"><a href="15-3-navbar-menu-input.html#cb190-1"></a>getValue<span class="op">:</span> <span class="kw">function</span>(el) <span class="op">{</span></span>
<span id="cb190-2"><a href="15-3-navbar-menu-input.html#cb190-2"></a>  <span class="kw">let</span> activeTab <span class="op">=</span> <span class="at">$</span>(el).<span class="at">find</span>(<span class="st">&#39;a&#39;</span>).<span class="at">filter</span>(<span class="st">&#39;nav-link active&#39;</span>)<span class="op">;</span></span>
<span id="cb190-3"><a href="15-3-navbar-menu-input.html#cb190-3"></a>  <span class="cf">return</span> <span class="at">$</span>(activeTab).<span class="at">attr</span>(<span class="st">&#39;data-value&#39;</span>)<span class="op">;</span></span>
<span id="cb190-4"><a href="15-3-navbar-menu-input.html#cb190-4"></a><span class="op">}</span></span></code></pre></div>
<p><code>setValue</code> is the function allowing to update the active tab. Bootstrap 4 already has
predefined methods to <a href="https://getbootstrap.com/docs/4.0/components/navs/#via-javascript">activate</a> tabs. The easiest way is to select the tab by name like <code>$('#tabMenu a[href="#tab1"]').tab('show')</code>. The <code>receiveMessage</code> is simply applying the <code>setValue</code> method.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb191-1"><a href="15-3-navbar-menu-input.html#cb191-1"></a>setValue<span class="op">:</span> <span class="kw">function</span>(el<span class="op">,</span> value) <span class="op">{</span></span>
<span id="cb191-2"><a href="15-3-navbar-menu-input.html#cb191-2"></a>  <span class="kw">let</span> hrefVal <span class="op">=</span> <span class="st">&#39;#&#39;</span> <span class="op">+</span> value<span class="op">;</span></span>
<span id="cb191-3"><a href="15-3-navbar-menu-input.html#cb191-3"></a>  <span class="kw">let</span> menuId <span class="op">=</span> <span class="at">$</span>(el).<span class="at">attr</span>(<span class="st">&#39;id&#39;</span>)<span class="op">;</span></span>
<span id="cb191-4"><a href="15-3-navbar-menu-input.html#cb191-4"></a>  <span class="at">$</span>(<span class="vs">`#</span><span class="sc">${</span>menuId<span class="sc">}</span><span class="vs"> a[href=&quot;</span><span class="sc">${</span>hrefVal<span class="sc">}</span><span class="vs">&quot;]`</span>).<span class="at">tab</span>(<span class="st">&#39;show&#39;</span>)<span class="op">;</span></span>
<span id="cb191-5"><a href="15-3-navbar-menu-input.html#cb191-5"></a><span class="op">}</span></span>
<span id="cb191-6"><a href="15-3-navbar-menu-input.html#cb191-6"></a></span>
<span id="cb191-7"><a href="15-3-navbar-menu-input.html#cb191-7"></a>receiveMessage<span class="op">:</span> <span class="kw">function</span>(el<span class="op">,</span> data) <span class="op">{</span></span>
<span id="cb191-8"><a href="15-3-navbar-menu-input.html#cb191-8"></a>  <span class="kw">this</span>.<span class="at">setValue</span>(el<span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb191-9"><a href="15-3-navbar-menu-input.html#cb191-9"></a><span class="op">}</span></span></code></pre></div>
<p>Besides, we have to create the <code>update_tabler_tab_item</code> function.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="15-3-navbar-menu-input.html#cb192-1"></a>update_tabler_tab_item &lt;-<span class="st"> </span><span class="cf">function</span>(inputId, value, <span class="dt">session =</span> <span class="kw">getDefaultReactiveDomain</span>()) {</span>
<span id="cb192-2"><a href="15-3-navbar-menu-input.html#cb192-2"></a>  session<span class="op">$</span><span class="kw">sendInputMessage</span>(inputId, <span class="dt">message =</span> value)</span>
<span id="cb192-3"><a href="15-3-navbar-menu-input.html#cb192-3"></a>}</span></code></pre></div>
<p><code>subscribe</code> will tell Shiny when to change the current input value and made it available
in the whole app. We may listen to multiple events, keeping in mind that events occur in the following order:</p>
<ul>
<li>hide.bs.tab (on the current active tab)</li>
<li>show.bs.tab (on the to-be-shown tab)</li>
<li>hidden.bs.tab (on the previous active tab, the same one as for the hide.bs.tab event)</li>
<li>shown.bs.tab (on the newly-active just-shown tab, the same one as for the show.bs.tab event)</li>
</ul>
<p>Hence, it makes more sense to listen to <code>shown.bs.tab</code> (wait the current tab to be shown).</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb193-1"><a href="15-3-navbar-menu-input.html#cb193-1"></a>subscribe<span class="op">:</span> <span class="kw">function</span>(el<span class="op">,</span> callback) <span class="op">{</span></span>
<span id="cb193-2"><a href="15-3-navbar-menu-input.html#cb193-2"></a>  <span class="co">// important to use shown.bs.tab and not show.bs.tab!</span></span>
<span id="cb193-3"><a href="15-3-navbar-menu-input.html#cb193-3"></a>  <span class="at">$</span>(el).<span class="at">on</span>(<span class="st">&#39;shown.bs.tab.navbarMenuBinding&#39;</span><span class="op">,</span> <span class="kw">function</span>(e) <span class="op">{</span></span>
<span id="cb193-4"><a href="15-3-navbar-menu-input.html#cb193-4"></a>    <span class="at">callback</span>()<span class="op">;</span></span>
<span id="cb193-5"><a href="15-3-navbar-menu-input.html#cb193-5"></a>  <span class="op">}</span>)<span class="op">;</span></span>
<span id="cb193-6"><a href="15-3-navbar-menu-input.html#cb193-6"></a><span class="op">},</span></span>
<span id="cb193-7"><a href="15-3-navbar-menu-input.html#cb193-7"></a>  </span>
<span id="cb193-8"><a href="15-3-navbar-menu-input.html#cb193-8"></a>unsubscribe<span class="op">:</span> <span class="kw">function</span>(el) <span class="op">{</span></span>
<span id="cb193-9"><a href="15-3-navbar-menu-input.html#cb193-9"></a>  <span class="at">$</span>(el).<span class="at">off</span>(<span class="st">&#39;.navbarMenuBinding&#39;</span>)<span class="op">;</span></span>
<span id="cb193-10"><a href="15-3-navbar-menu-input.html#cb193-10"></a><span class="op">}</span></span></code></pre></div>
<p>Below is a recap of the binding with the creation and registration included:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb194-1"><a href="15-3-navbar-menu-input.html#cb194-1"></a><span class="at">$</span>(<span class="kw">function</span>() <span class="op">{</span></span>
<span id="cb194-2"><a href="15-3-navbar-menu-input.html#cb194-2"></a>  <span class="co">// Input binding</span></span>
<span id="cb194-3"><a href="15-3-navbar-menu-input.html#cb194-3"></a>  <span class="kw">let</span> navbarMenuBinding <span class="op">=</span> <span class="kw">new</span> <span class="va">Shiny</span>.<span class="at">InputBinding</span>()</span>
<span id="cb194-4"><a href="15-3-navbar-menu-input.html#cb194-4"></a>  <span class="va">$</span>.<span class="at">extend</span>(navbarMenuBinding<span class="op">,</span> <span class="op">{</span></span>
<span id="cb194-5"><a href="15-3-navbar-menu-input.html#cb194-5"></a>    <span class="dt">find</span><span class="op">:</span> <span class="kw">function</span>(scope) <span class="op">{</span></span>
<span id="cb194-6"><a href="15-3-navbar-menu-input.html#cb194-6"></a>      <span class="cf">return</span> <span class="at">$</span>(scope).<span class="at">find</span>(<span class="st">&#39;.navbar-nav&#39;</span>)<span class="op">;</span></span>
<span id="cb194-7"><a href="15-3-navbar-menu-input.html#cb194-7"></a>    <span class="op">},</span></span>
<span id="cb194-8"><a href="15-3-navbar-menu-input.html#cb194-8"></a>    <span class="dt">initialize</span><span class="op">:</span> <span class="kw">function</span>(el) <span class="op">{</span></span>
<span id="cb194-9"><a href="15-3-navbar-menu-input.html#cb194-9"></a>      <span class="kw">let</span> menuId <span class="op">=</span> <span class="st">&#39;#&#39;</span> <span class="op">+</span> <span class="at">$</span>(el).<span class="at">attr</span>(<span class="st">&#39;id&#39;</span>)<span class="op">;</span></span>
<span id="cb194-10"><a href="15-3-navbar-menu-input.html#cb194-10"></a>      <span class="kw">let</span> activeTab <span class="op">=</span> <span class="at">$</span>(<span class="vs">`</span><span class="sc">${</span>menuId<span class="sc">}</span><span class="vs"> .nav-link.active`</span>)<span class="op">;</span></span>
<span id="cb194-11"><a href="15-3-navbar-menu-input.html#cb194-11"></a>      <span class="co">// if multiple items are found</span></span>
<span id="cb194-12"><a href="15-3-navbar-menu-input.html#cb194-12"></a>      <span class="cf">if</span> (<span class="va">activeTab</span>.<span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">{</span></span>
<span id="cb194-13"><a href="15-3-navbar-menu-input.html#cb194-13"></a>        <span class="kw">let</span> tabId <span class="op">=</span> <span class="at">$</span>(activeTab).<span class="at">attr</span>(<span class="st">&#39;data-value&#39;</span>)<span class="op">;</span></span>
<span id="cb194-14"><a href="15-3-navbar-menu-input.html#cb194-14"></a>        <span class="at">$</span>(activeTab).<span class="at">tab</span>(<span class="st">&#39;show&#39;</span>)<span class="op">;</span></span>
<span id="cb194-15"><a href="15-3-navbar-menu-input.html#cb194-15"></a>        <span class="at">$</span>(<span class="vs">`#</span><span class="sc">${</span>tabId<span class="sc">}</span><span class="vs">`</span>).<span class="at">addClass</span>(<span class="st">&#39;show active&#39;</span>)<span class="op">;</span></span>
<span id="cb194-16"><a href="15-3-navbar-menu-input.html#cb194-16"></a>      <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb194-17"><a href="15-3-navbar-menu-input.html#cb194-17"></a>        <span class="at">$</span>(<span class="vs">`</span><span class="sc">${</span>menuId<span class="sc">}</span><span class="vs"> .nav-link`</span>)</span>
<span id="cb194-18"><a href="15-3-navbar-menu-input.html#cb194-18"></a>          .<span class="at">first</span>()</span>
<span id="cb194-19"><a href="15-3-navbar-menu-input.html#cb194-19"></a>          .<span class="at">tab</span>(<span class="st">&#39;show&#39;</span>)<span class="op">;</span></span>
<span id="cb194-20"><a href="15-3-navbar-menu-input.html#cb194-20"></a>      <span class="op">}</span></span>
<span id="cb194-21"><a href="15-3-navbar-menu-input.html#cb194-21"></a>    <span class="op">},</span></span>
<span id="cb194-22"><a href="15-3-navbar-menu-input.html#cb194-22"></a>    <span class="co">// Given the DOM element for the input, return the value</span></span>
<span id="cb194-23"><a href="15-3-navbar-menu-input.html#cb194-23"></a>    <span class="dt">getValue</span><span class="op">:</span> <span class="kw">function</span>(el) <span class="op">{</span></span>
<span id="cb194-24"><a href="15-3-navbar-menu-input.html#cb194-24"></a>      <span class="kw">let</span> activeTab <span class="op">=</span> <span class="at">$</span>(el).<span class="at">find</span>(<span class="st">&#39;a&#39;</span>).<span class="at">filter</span>(<span class="st">&#39;.nav-link.active&#39;</span>)<span class="op">;</span></span>
<span id="cb194-25"><a href="15-3-navbar-menu-input.html#cb194-25"></a>      <span class="cf">return</span> <span class="at">$</span>(activeTab).<span class="at">attr</span>(<span class="st">&#39;data-value&#39;</span>)<span class="op">;</span></span>
<span id="cb194-26"><a href="15-3-navbar-menu-input.html#cb194-26"></a>    <span class="op">},</span></span>
<span id="cb194-27"><a href="15-3-navbar-menu-input.html#cb194-27"></a>    <span class="dt">setValue</span><span class="op">:</span> <span class="kw">function</span>(el<span class="op">,</span> value) <span class="op">{</span></span>
<span id="cb194-28"><a href="15-3-navbar-menu-input.html#cb194-28"></a>      <span class="kw">let</span> hrefVal <span class="op">=</span> <span class="st">&#39;#&#39;</span> <span class="op">+</span> value<span class="op">;</span></span>
<span id="cb194-29"><a href="15-3-navbar-menu-input.html#cb194-29"></a>      <span class="kw">let</span> menuId <span class="op">=</span> <span class="at">$</span>(el).<span class="at">attr</span>(<span class="st">&#39;id&#39;</span>)<span class="op">;</span></span>
<span id="cb194-30"><a href="15-3-navbar-menu-input.html#cb194-30"></a>      <span class="at">$</span>(<span class="vs">`#</span><span class="sc">${</span>menuId<span class="sc">}</span><span class="vs"> a[href=&quot;</span><span class="sc">${</span>hrefVal<span class="sc">}</span><span class="vs">&quot;]`</span>).<span class="at">tab</span>(<span class="st">&#39;show&#39;</span>)<span class="op">;</span></span>
<span id="cb194-31"><a href="15-3-navbar-menu-input.html#cb194-31"></a>    <span class="op">},</span></span>
<span id="cb194-32"><a href="15-3-navbar-menu-input.html#cb194-32"></a>    <span class="dt">receiveMessage</span><span class="op">:</span> <span class="kw">function</span>(el<span class="op">,</span> data) <span class="op">{</span></span>
<span id="cb194-33"><a href="15-3-navbar-menu-input.html#cb194-33"></a>      <span class="kw">this</span>.<span class="at">setValue</span>(el<span class="op">,</span> data)<span class="op">;</span></span>
<span id="cb194-34"><a href="15-3-navbar-menu-input.html#cb194-34"></a>    <span class="op">},</span></span>
<span id="cb194-35"><a href="15-3-navbar-menu-input.html#cb194-35"></a>    <span class="dt">subscribe</span><span class="op">:</span> <span class="kw">function</span>(el<span class="op">,</span> callback) <span class="op">{</span></span>
<span id="cb194-36"><a href="15-3-navbar-menu-input.html#cb194-36"></a>      <span class="at">$</span>(el).<span class="at">on</span>(<span class="st">&#39;shown.bs.tab.navbarMenuBinding&#39;</span><span class="op">,</span> <span class="kw">function</span>(event) <span class="op">{</span></span>
<span id="cb194-37"><a href="15-3-navbar-menu-input.html#cb194-37"></a>        <span class="at">callback</span>()<span class="op">;</span></span>
<span id="cb194-38"><a href="15-3-navbar-menu-input.html#cb194-38"></a>      <span class="op">}</span>)<span class="op">;</span></span>
<span id="cb194-39"><a href="15-3-navbar-menu-input.html#cb194-39"></a>    <span class="op">},</span></span>
<span id="cb194-40"><a href="15-3-navbar-menu-input.html#cb194-40"></a>    <span class="dt">unsubscribe</span><span class="op">:</span> <span class="kw">function</span>(el) <span class="op">{</span></span>
<span id="cb194-41"><a href="15-3-navbar-menu-input.html#cb194-41"></a>      <span class="at">$</span>(el).<span class="at">off</span>(<span class="st">&#39;.navbarMenuBinding&#39;</span>)<span class="op">;</span></span>
<span id="cb194-42"><a href="15-3-navbar-menu-input.html#cb194-42"></a>    <span class="op">}</span></span>
<span id="cb194-43"><a href="15-3-navbar-menu-input.html#cb194-43"></a>  <span class="op">}</span>)<span class="op">;</span></span>
<span id="cb194-44"><a href="15-3-navbar-menu-input.html#cb194-44"></a>  </span>
<span id="cb194-45"><a href="15-3-navbar-menu-input.html#cb194-45"></a>  <span class="va">Shiny</span>.<span class="va">inputBindings</span>.<span class="at">register</span>(navbarMenuBinding<span class="op">,</span> <span class="st">&#39;navbar-menu&#39;</span>)<span class="op">;</span></span>
<span id="cb194-46"><a href="15-3-navbar-menu-input.html#cb194-46"></a><span class="op">}</span>)<span class="op">;</span></span></code></pre></div>
<p>How do we include this custom input binding in our package? In the side package code, we created the following HTML dependency:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="15-3-navbar-menu-input.html#cb195-1"></a>tabler_custom_js &lt;-<span class="st"> </span><span class="kw">htmlDependency</span>(</span>
<span id="cb195-2"><a href="15-3-navbar-menu-input.html#cb195-2"></a>  <span class="dt">name =</span> <span class="st">&quot;tabler-bindings&quot;</span>,</span>
<span id="cb195-3"><a href="15-3-navbar-menu-input.html#cb195-3"></a>  <span class="dt">version =</span> <span class="st">&quot;1.0.7&quot;</span>,</span>
<span id="cb195-4"><a href="15-3-navbar-menu-input.html#cb195-4"></a>  <span class="dt">src =</span> <span class="kw">c</span>(<span class="dt">href =</span> <span class="st">&quot;tabler&quot;</span>),</span>
<span id="cb195-5"><a href="15-3-navbar-menu-input.html#cb195-5"></a>  <span class="dt">package =</span> <span class="st">&quot;OSUICode&quot;</span>,</span>
<span id="cb195-6"><a href="15-3-navbar-menu-input.html#cb195-6"></a>  <span class="dt">script =</span> <span class="st">&quot;input-bindings/navbarMenuBinding.js&quot;</span></span>
<span id="cb195-7"><a href="15-3-navbar-menu-input.html#cb195-7"></a>)</span></code></pre></div>
<p>We also updated the <code>add_tabler_deps</code>, as below.</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="15-3-navbar-menu-input.html#cb196-1"></a>add_tabler_deps &lt;-<span class="st"> </span><span class="cf">function</span>(tag) {</span>
<span id="cb196-2"><a href="15-3-navbar-menu-input.html#cb196-2"></a>  <span class="co"># below, the order is of critical importance!</span></span>
<span id="cb196-3"><a href="15-3-navbar-menu-input.html#cb196-3"></a>  deps &lt;-<span class="st"> </span><span class="kw">list</span>(bs4_deps, tablers_deps, tabler_custom_js)</span>
<span id="cb196-4"><a href="15-3-navbar-menu-input.html#cb196-4"></a>  <span class="kw">attachDependencies</span>(tag, deps, <span class="dt">append =</span> <span class="ot">TRUE</span>)</span>
<span id="cb196-5"><a href="15-3-navbar-menu-input.html#cb196-5"></a>}</span></code></pre></div>
<p>We test the new <code>navbar_menu</code> binding below.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="15-3-navbar-menu-input.html#cb197-1"></a>ui &lt;-<span class="st"> </span><span class="kw">tabler_page</span>(</span>
<span id="cb197-2"><a href="15-3-navbar-menu-input.html#cb197-2"></a>  <span class="kw">tabler_navbar</span>(</span>
<span id="cb197-3"><a href="15-3-navbar-menu-input.html#cb197-3"></a>    <span class="dt">brand_url =</span> <span class="st">&quot;https://preview-dev.tabler.io&quot;</span>, </span>
<span id="cb197-4"><a href="15-3-navbar-menu-input.html#cb197-4"></a>    <span class="dt">brand_image =</span> <span class="st">&quot;https://preview-dev.tabler.io/static/logo.svg&quot;</span>, </span>
<span id="cb197-5"><a href="15-3-navbar-menu-input.html#cb197-5"></a>    <span class="dt">nav_menu =</span> <span class="kw">tabler_navbar_menu</span>(</span>
<span id="cb197-6"><a href="15-3-navbar-menu-input.html#cb197-6"></a>      <span class="dt">id =</span> <span class="st">&quot;current_tab&quot;</span>,</span>
<span id="cb197-7"><a href="15-3-navbar-menu-input.html#cb197-7"></a>      <span class="kw">tabler_navbar_menu_item</span>(</span>
<span id="cb197-8"><a href="15-3-navbar-menu-input.html#cb197-8"></a>        <span class="dt">text =</span> <span class="st">&quot;Tab 1&quot;</span>,</span>
<span id="cb197-9"><a href="15-3-navbar-menu-input.html#cb197-9"></a>        <span class="dt">icon =</span> <span class="ot">NULL</span>,</span>
<span id="cb197-10"><a href="15-3-navbar-menu-input.html#cb197-10"></a>        <span class="dt">tabName =</span> <span class="st">&quot;tab1&quot;</span>,</span>
<span id="cb197-11"><a href="15-3-navbar-menu-input.html#cb197-11"></a>        <span class="dt">selected =</span> <span class="ot">TRUE</span></span>
<span id="cb197-12"><a href="15-3-navbar-menu-input.html#cb197-12"></a>      ),</span>
<span id="cb197-13"><a href="15-3-navbar-menu-input.html#cb197-13"></a>      <span class="kw">tabler_navbar_menu_item</span>(</span>
<span id="cb197-14"><a href="15-3-navbar-menu-input.html#cb197-14"></a>        <span class="dt">text =</span> <span class="st">&quot;Tab 2&quot;</span>,</span>
<span id="cb197-15"><a href="15-3-navbar-menu-input.html#cb197-15"></a>        <span class="dt">icon =</span> <span class="ot">NULL</span>,</span>
<span id="cb197-16"><a href="15-3-navbar-menu-input.html#cb197-16"></a>        <span class="dt">tabName =</span> <span class="st">&quot;tab2&quot;</span></span>
<span id="cb197-17"><a href="15-3-navbar-menu-input.html#cb197-17"></a>      )</span>
<span id="cb197-18"><a href="15-3-navbar-menu-input.html#cb197-18"></a>    ),</span>
<span id="cb197-19"><a href="15-3-navbar-menu-input.html#cb197-19"></a>    <span class="kw">tabler_button</span>(<span class="st">&quot;update&quot;</span>, <span class="st">&quot;Change tab&quot;</span>, <span class="dt">icon =</span> <span class="kw">icon</span>(<span class="st">&quot;exchange-alt&quot;</span>))</span>
<span id="cb197-20"><a href="15-3-navbar-menu-input.html#cb197-20"></a>  ),</span>
<span id="cb197-21"><a href="15-3-navbar-menu-input.html#cb197-21"></a>  <span class="kw">tabler_body</span>(</span>
<span id="cb197-22"><a href="15-3-navbar-menu-input.html#cb197-22"></a>    <span class="kw">tabler_tab_items</span>(</span>
<span id="cb197-23"><a href="15-3-navbar-menu-input.html#cb197-23"></a>      <span class="kw">tabler_tab_item</span>(</span>
<span id="cb197-24"><a href="15-3-navbar-menu-input.html#cb197-24"></a>        <span class="dt">tabName =</span> <span class="st">&quot;tab1&quot;</span>,</span>
<span id="cb197-25"><a href="15-3-navbar-menu-input.html#cb197-25"></a>        <span class="kw">sliderInput</span>(</span>
<span id="cb197-26"><a href="15-3-navbar-menu-input.html#cb197-26"></a>          <span class="st">&quot;obs&quot;</span>, </span>
<span id="cb197-27"><a href="15-3-navbar-menu-input.html#cb197-27"></a>          <span class="st">&quot;Number of observations:&quot;</span>,</span>
<span id="cb197-28"><a href="15-3-navbar-menu-input.html#cb197-28"></a>          <span class="dt">min =</span> <span class="dv">0</span>,</span>
<span id="cb197-29"><a href="15-3-navbar-menu-input.html#cb197-29"></a>          <span class="dt">max =</span> <span class="dv">1000</span>, </span>
<span id="cb197-30"><a href="15-3-navbar-menu-input.html#cb197-30"></a>          <span class="dt">value =</span> <span class="dv">500</span></span>
<span id="cb197-31"><a href="15-3-navbar-menu-input.html#cb197-31"></a>        ),</span>
<span id="cb197-32"><a href="15-3-navbar-menu-input.html#cb197-32"></a>        <span class="kw">plotOutput</span>(<span class="st">&quot;distPlot&quot;</span>)</span>
<span id="cb197-33"><a href="15-3-navbar-menu-input.html#cb197-33"></a>      ),</span>
<span id="cb197-34"><a href="15-3-navbar-menu-input.html#cb197-34"></a>      <span class="kw">tabler_tab_item</span>(</span>
<span id="cb197-35"><a href="15-3-navbar-menu-input.html#cb197-35"></a>        <span class="dt">tabName =</span> <span class="st">&quot;tab2&quot;</span>,</span>
<span id="cb197-36"><a href="15-3-navbar-menu-input.html#cb197-36"></a>        <span class="kw">p</span>(<span class="st">&quot;Second Tab&quot;</span>)</span>
<span id="cb197-37"><a href="15-3-navbar-menu-input.html#cb197-37"></a>      )</span>
<span id="cb197-38"><a href="15-3-navbar-menu-input.html#cb197-38"></a>    ),</span>
<span id="cb197-39"><a href="15-3-navbar-menu-input.html#cb197-39"></a>    <span class="dt">footer =</span> <span class="kw">tabler_footer</span>(</span>
<span id="cb197-40"><a href="15-3-navbar-menu-input.html#cb197-40"></a>      <span class="dt">left =</span> <span class="st">&quot;Rstats, 2020&quot;</span>, </span>
<span id="cb197-41"><a href="15-3-navbar-menu-input.html#cb197-41"></a>      <span class="dt">right =</span> <span class="kw">a</span>(<span class="dt">href =</span> <span class="st">&quot;https://www.google.com&quot;</span>)</span>
<span id="cb197-42"><a href="15-3-navbar-menu-input.html#cb197-42"></a>    )</span>
<span id="cb197-43"><a href="15-3-navbar-menu-input.html#cb197-43"></a>  )</span>
<span id="cb197-44"><a href="15-3-navbar-menu-input.html#cb197-44"></a>)</span>
<span id="cb197-45"><a href="15-3-navbar-menu-input.html#cb197-45"></a>server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output, session) {</span>
<span id="cb197-46"><a href="15-3-navbar-menu-input.html#cb197-46"></a>  output<span class="op">$</span>distPlot &lt;-<span class="st"> </span><span class="kw">renderPlot</span>({</span>
<span id="cb197-47"><a href="15-3-navbar-menu-input.html#cb197-47"></a>    <span class="kw">hist</span>(<span class="kw">rnorm</span>(input<span class="op">$</span>obs))</span>
<span id="cb197-48"><a href="15-3-navbar-menu-input.html#cb197-48"></a>  })</span>
<span id="cb197-49"><a href="15-3-navbar-menu-input.html#cb197-49"></a>  </span>
<span id="cb197-50"><a href="15-3-navbar-menu-input.html#cb197-50"></a>  <span class="kw">observeEvent</span>(input<span class="op">$</span>current_tab, {</span>
<span id="cb197-51"><a href="15-3-navbar-menu-input.html#cb197-51"></a>    <span class="kw">showNotification</span>(</span>
<span id="cb197-52"><a href="15-3-navbar-menu-input.html#cb197-52"></a>      <span class="kw">paste</span>(<span class="st">&quot;Hello&quot;</span>, input<span class="op">$</span>current_tab), </span>
<span id="cb197-53"><a href="15-3-navbar-menu-input.html#cb197-53"></a>      <span class="dt">type =</span> <span class="st">&quot;message&quot;</span>,</span>
<span id="cb197-54"><a href="15-3-navbar-menu-input.html#cb197-54"></a>      <span class="dt">duration =</span> <span class="dv">1</span></span>
<span id="cb197-55"><a href="15-3-navbar-menu-input.html#cb197-55"></a>    )</span>
<span id="cb197-56"><a href="15-3-navbar-menu-input.html#cb197-56"></a>  })</span>
<span id="cb197-57"><a href="15-3-navbar-menu-input.html#cb197-57"></a>  </span>
<span id="cb197-58"><a href="15-3-navbar-menu-input.html#cb197-58"></a>  <span class="kw">observeEvent</span>(input<span class="op">$</span>update, {</span>
<span id="cb197-59"><a href="15-3-navbar-menu-input.html#cb197-59"></a>    newTab &lt;-<span class="st"> </span><span class="cf">if</span> (input<span class="op">$</span>current_tab <span class="op">==</span><span class="st"> &quot;tab1&quot;</span>) <span class="st">&quot;tab2&quot;</span> <span class="cf">else</span> <span class="st">&quot;tab1&quot;</span></span>
<span id="cb197-60"><a href="15-3-navbar-menu-input.html#cb197-60"></a>    <span class="kw">update_tabler_tab_item</span>(<span class="st">&quot;current_tab&quot;</span>, newTab)</span>
<span id="cb197-61"><a href="15-3-navbar-menu-input.html#cb197-61"></a>  })</span>
<span id="cb197-62"><a href="15-3-navbar-menu-input.html#cb197-62"></a>}</span>
<span id="cb197-63"><a href="15-3-navbar-menu-input.html#cb197-63"></a><span class="kw">shinyApp</span>(ui, server)</span></code></pre></div>
<p>Here we are!</p>
</div>
<p style="text-align: center;">
<a href="15-2-toggle-switch.html"><button class="btn btn-default">Previous</button></a>
<a href="15-4-exercises.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
